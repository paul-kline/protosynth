<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>wellfounded</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library wellfounded</h1>

<div class="code">
</div>

<div class="doc">
<a name="lab1"></a><h1 class="section">Intro</h1>

  So you've run into despare.. You want to define a fixpoint (recursive) function in Coq, but instead of the beautiful green line you'd expect after defining it, you get an error message like, "Cannot guess decreasing argument of fix." What is this nonsense? 

<div class="paragraph"> </div>

  Alas, there is hope! Coq, being aware it's a terrible guesser, allows you to provide your own proof that a fixpoint function won't loop forever.

<div class="paragraph"> </div>

  Alas, there is despare. There seems to be but one resource to help you on your self defining journey-- The General Recursion chapter of Certified Programming with Dependent Types (http://adam.chlipala.net/cpdt/html/GeneralRec.html), and if you're anything like me in height it will go way over your head. I will say, however, that without this chapter I would have never figured this stuff out. As complicated as it is, it is infinitely better than just looking at the Coq libraries. I was able to get just enough from it to struggle my way through over the course of.. well a long time. I could find nowhere on the internet a step by step guide or tutorial on how to define my own fixpoint function with proof of well founded-ness--something I thought surely I was not the first person to want to do. "Whence" this blog post. 

<div class="paragraph"> </div>

  Alas, ther is hope! Below I will go through how to define the "intuitive" definition of integer division (which is non-terminating as far as Coq can tell) as an example. Perhaps you can use this as a template to define your own more complex, non-trivial well-founded recursive functions!
<a name="lab2"></a><h2 class="section">Division</h2>

  Suppose you want to define integer division in Coq--innocent enough. For the sake of simplicity, let's say dividing by zero is zero. You can prevent this of course, but for the sake of 'that's-not-what-I'm-getting-at' let's just say it's zero. You might then come up with a definition like the following:
<pre>
  Fixpoint divide (x y : nat) : nat :=
   match (x,y) with
    | (0, _) =&gt; 0
    | (_, 0) =&gt; 0
    | (_, _) =&gt; if (Nat.leb y x) 
             then S (divide (x -y) y)
             else 0
   end. 
</pre>
To which Coq replies, "Error: Cannot guess decreasing argument of fix."
        
</div>
<div class="code">
</div>

<div class="doc">

<div class="paragraph"> </div>

Here's what we're going to do:

<div class="paragraph"> </div>

In order to define this recursive function, we need to prove that each recursive call
is given a 'smaller' argument. Whenever you define a fixpoint and all the recursive calls are on <i>subterms</i> of the argument, Coq can figure out the function is decreasing on its own. For example,

</div>
<div class="code">
<span class="id" title="keyword">Fixpoint</span> <a name="f"><span class="id" title="definition">f</span></a> (<span class="id" title="var">n</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> :=<br/>
&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="wellfounded.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> =&gt; 0<br/>
&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n'</span> =&gt; <a class="idref" href="wellfounded.html#f"><span class="id" title="definition">f</span></a> <span class="id" title="var">n'</span> <br/>
<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
is perfectly easy to define since every recursive call to <i>f</i> is given a subterm of the current argument. 

<div class="paragraph"> </div>

While you and I know that our definition of divide is called on "smaller and smaller" terms, Coq doesn't know this on its own. We're not recursively calling <i>divide</i> on any subterms of x or y. 

<div class="paragraph"> </div>

Don't worry! We can fix this problem on our own. Let's look at the
actual Definition of Fix so we can make one ourselves. 
</div>
<div class="code">
<span class="id" title="keyword">Check</span> <span class="id" title="keyword">Fix</span>.<br/>
</div>

<div class="doc">
<pre>
Fix
     : forall (A : Type) (R : A -&gt; A -&gt; Prop),
       well_founded R -&gt;
       forall P : A -&gt; Type,
       (forall x : A, (forall y : A, R y x -&gt; P y) -&gt; P x) -&gt; forall x : A, P x
</pre>
What is this well_founded thing? What is this 'R'? What is anything? WELL, well_founded-ness is how Coq proves to itself that this function will eventually end. Thereby, making it legal in its calculus of constructive logic (no infinite regression!). It looks pretty icky because it is. Nevertheless we'll get through it piece by piece.

<div class="paragraph"> </div>


<div class="paragraph"> </div>

  The relation 'R' is a
relation that is an "is less than" relation. Of course, any old relation
could have the type 'A -&gt; A -&gt; Prop', but only one that defines this 
monotonic decreasing behavior will be able to satisfy the 
'well_founded R' construction as required by Fix.  

<div class="paragraph"> </div>

Let's now go down the rabbit hole a little further and look at the definition
of well_founded. 

<div class="paragraph"> </div>


</div>
<div class="code">
<span class="id" title="keyword">Print</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Wf.html#well_founded"><span class="id" title="definition">well_founded</span></a>.<br/>

<br/>
</div>

<div class="doc">
well_founded = 
fun (A : Type) (R : A -&gt; A -&gt; Prop) =&gt; forall a : A, Acc R a
     : forall A : Type, (A -&gt; A -&gt; Prop) -&gt; Prop

<div class="paragraph"> </div>

Argument A is implicit

<div class="paragraph"> </div>

Remember 'Argument A is implicit' means we don't actually have to provide that argument. 
Coq is smart enough to figure it out in this case from the types provided in the R
relation. 

<div class="paragraph"> </div>

Perhaps the type is better written with parens like this:
well_founded = 
fun (A : Type) (R : A -&gt; A -&gt; Prop) =&gt; forall a : A, Acc R a
     : (forall A : Type, (A -&gt; A -&gt; Prop) ) -&gt; Prop

<div class="paragraph"> </div>

You'll see why this is helpful in a minute. 

<div class="paragraph"> </div>

Let's say what well_founded says in people-speak.
 'well_founded' is a function that takes a relation 'R' and gives you back a proof
(  forall a : A, Acc R a
     : forall A : Type, (A -&gt; A -&gt; Prop) -&gt; Prop). 

<div class="paragraph"> </div>

We know this is a proof since it gives us back a Prop. So 'well_founded' is a 
function that takes a relation 'R' and gives us back a proof that states that for
every single constructable thing of type A there is an accessibility thing (Acc R a). This 
accessibility thing has type (forall A : Type, (A -&gt; A -&gt; Prop). We are finally getting to
the bottom of this! Let's look at the INDUCTIVE type Acc. 

</div>
<div class="code">
<span class="id" title="keyword">Print</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Wf.html#Acc"><span class="id" title="inductive">Acc</span></a>.<br/>
</div>

<div class="doc">

<div class="paragraph"> </div>

Inductive Acc (A : Type) (R : A -&gt; A -&gt; Prop) (x : A) : Prop :=
    Acc_intro : (forall y : A, R y x -&gt; Acc R y) -&gt; Acc R x

<div class="paragraph"> </div>

Finally, we are looking at something that in its definition doesn't introduce something else we haven't
seen before! What does Acc say in English? Acc is an inductive type of type Prop ( Acc .... : Prop).
It is 'indexed' over an 'A' which has type 'Type', a relation 'R' (which we've talked about), and a
particular thing of type A. To make an Acc there is only one consstructor, 'Acc_intro' which must be 
provided with a proof that for all (any) element of type A, if y is "less than" x, y is 
accessible (Acc R y).
And that's it! Now that we've explored all the way to the bottom of the chain, we can start building our
way all the way back up to Fix.
So, let's start with 'R'. the 'A' type in R is the type of the argument that we must prove decreases.
In this example, we are trying to prove this for a function over nats.
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a name="myR"><span class="id" title="definition">myR</span></a> (<span class="id" title="var">n1</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<span class="id" title="var">n2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <span class="id" title="keyword">Prop</span> := <a class="idref" href="wellfounded.html#n1"><span class="id" title="variable">n1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Peano.html#989c98e7ddd65d5bf37c334ff2076de8"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="wellfounded.html#n2"><span class="id" title="variable">n2</span></a>.<br/>
<span class="id" title="keyword">Check</span> <a class="idref" href="wellfounded.html#myR"><span class="id" title="definition">myR</span></a>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a name="zeroAccssible"><span class="id" title="lemma">zeroAccssible</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Wf.html#Acc"><span class="id" title="inductive">Acc</span></a> <a class="idref" href="wellfounded.html#myR"><span class="id" title="definition">myR</span></a> 0.<br/>
<span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a name="oneAcc"><span class="id" title="lemma">oneAcc</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Wf.html#Acc"><span class="id" title="inductive">Acc</span></a> <a class="idref" href="wellfounded.html#myR"><span class="id" title="definition">myR</span></a> 1. <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Theorem</span> <a name="dosAcc"><span class="id" title="lemma">dosAcc</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Wf.html#Acc"><span class="id" title="inductive">Acc</span></a> <a class="idref" href="wellfounded.html#myR"><span class="id" title="definition">myR</span></a> 2.<br/>
<span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="wellfounded.html#oneAcc"><span class="id" title="lemma">oneAcc</span></a>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="wellfounded.html#zeroAccssible"><span class="id" title="lemma">zeroAccssible</span></a>.<br/>
<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H2</span>. <span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a name="PrevIs"><span class="id" title="lemma">PrevIs</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Wf.html#Acc"><span class="id" title="inductive">Acc</span></a> <a class="idref" href="wellfounded.html#myR"><span class="id" title="definition">myR</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="wellfounded.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Wf.html#Acc"><span class="id" title="inductive">Acc</span></a> <a class="idref" href="wellfounded.html#myR"><span class="id" title="definition">myR</span></a> (<a class="idref" href="wellfounded.html#x"><span class="id" title="variable">x</span></a>).<br/>
<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="wellfounded.html#myR"><span class="id" title="definition">myR</span></a>. <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a name="PrevIs2"><span class="id" title="lemma">PrevIs2</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Wf.html#Acc"><span class="id" title="inductive">Acc</span></a> <a class="idref" href="wellfounded.html#myR"><span class="id" title="definition">myR</span></a> <a class="idref" href="wellfounded.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="wellfounded.html#myR"><span class="id" title="definition">myR</span></a> <a class="idref" href="wellfounded.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="wellfounded.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Wf.html#Acc"><span class="id" title="inductive">Acc</span></a> <a class="idref" href="wellfounded.html#myR"><span class="id" title="definition">myR</span></a> <a class="idref" href="wellfounded.html#y"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">LoadPath</span> "C:\Users\Paul\Documents\coqs\protosynth\cpdt\src".<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">CpdtTactics</span>. 
<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Arith.EqNat.html#"><span class="id" title="library">EqNat</span></a>.<br/>

<br/>
<span class="id" title="keyword">Print</span> "&lt;".<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a name="allAcc"><span class="id" title="lemma">allAcc</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Wf.html#Acc"><span class="id" title="inductive">Acc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Peano.html#lt"><span class="id" title="definition">lt</span></a> <a class="idref" href="wellfounded.html#x"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="wellfounded.html#zeroAccssible"><span class="id" title="lemma">zeroAccssible</span></a>.<br/>
<span class="id" title="tactic">constructor</span>.<br/>
<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="wellfounded.html#zeroAccssible"><span class="id" title="lemma">zeroAccssible</span></a>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">assumption</span>. <span class="id" title="tactic">subst</span>.<br/>
<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHx</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Print</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Wf.html#well_founded"><span class="id" title="definition">well_founded</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a name="mywfr"><span class="id" title="definition">mywfr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Wf.html#well_founded"><span class="id" title="definition">well_founded</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Peano.html#lt"><span class="id" title="definition">lt</span></a>. <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="wellfounded.html#allAcc"><span class="id" title="lemma">allAcc</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Print</span> <span class="id" title="keyword">Fix</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="myf"><span class="id" title="definition">myf</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>.<br/>
&nbsp;<span class="id" title="tactic">refine</span> <br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">Fix</span> <a class="idref" href="wellfounded.html#mywfr"><span class="id" title="definition">mywfr</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> (<span class="id" title="var">x</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">subcall</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x'</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Peano.html#lt"><span class="id" title="definition">lt</span></a> <a class="idref" href="wellfounded.html#x'"><span class="id" title="variable">x'</span></a> <a class="idref" href="wellfounded.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;). <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">xval</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">subcall</span> <span class="id" title="keyword">with</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Check</span> <a class="idref" href="wellfounded.html#myf"><span class="id" title="definition">myf</span></a>.<br/>
<span class="id" title="keyword">Require</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Nat.html#"><span class="id" title="library">Nat</span></a>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a name="MyStupidPair"><span class="id" title="inductive">MyStupidPair</span></a> : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;| <a name="mystupidpair"><span class="id" title="constructor">mystupidpair</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="wellfounded.html#MyStupidPair"><span class="id" title="inductive">MyStupidPair</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="first_ltR"><span class="id" title="definition">first_ltR</span></a> (<span class="id" title="var">p1</span> <span class="id" title="var">p2</span> : <a class="idref" href="wellfounded.html#MyStupidPair"><span class="id" title="inductive">MyStupidPair</span></a>) : <span class="id" title="keyword">Prop</span> := <br/>
&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="wellfounded.html#p1"><span class="id" title="variable">p1</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="wellfounded.html#p2"><span class="id" title="variable">p2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="wellfounded.html#mystupidpair"><span class="id" title="constructor">mystupidpair</span></a> <span class="id" title="var">p1x</span> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="wellfounded.html#mystupidpair"><span class="id" title="constructor">mystupidpair</span></a> <span class="id" title="var">p2x</span> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Peano.html#lt"><span class="id" title="definition">lt</span></a> <span class="id" title="var">p1x</span> <span class="id" title="var">p2x</span><br/>
<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Check</span> <a class="idref" href="wellfounded.html#first_ltR"><span class="id" title="definition">first_ltR</span></a>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a name="helper"><span class="id" title="lemma">helper</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Wf.html#Acc"><span class="id" title="inductive">Acc</span></a> <a class="idref" href="wellfounded.html#first_ltR"><span class="id" title="definition">first_ltR</span></a> (<a class="idref" href="wellfounded.html#mystupidpair"><span class="id" title="constructor">mystupidpair</span></a> <a class="idref" href="wellfounded.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="wellfounded.html#y"><span class="id" title="variable">y</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Wf.html#Acc"><span class="id" title="inductive">Acc</span></a> <a class="idref" href="wellfounded.html#first_ltR"><span class="id" title="definition">first_ltR</span></a> (<a class="idref" href="wellfounded.html#mystupidpair"><span class="id" title="constructor">mystupidpair</span></a> <a class="idref" href="wellfounded.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="wellfounded.html#z"><span class="id" title="variable">z</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">y0</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>.<br/>
<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">y0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>.<br/>
<span class="id" title="tactic">unfold</span> <a class="idref" href="wellfounded.html#first_ltR"><span class="id" title="definition">first_ltR</span></a>. <span class="id" title="tactic">auto</span>.<br/>

<br/>
<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="wellfounded.html#first_ltR"><span class="id" title="definition">first_ltR</span></a>. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="wellfounded.html#first_ltR"><span class="id" title="definition">first_ltR</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H0</span>.<br/>
<span class="id" title="tactic">unfold</span> <a class="idref" href="wellfounded.html#first_ltR"><span class="id" title="definition">first_ltR</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>
<span class="id" title="keyword">Theorem</span> <a name="allPairs_Acc"><span class="id" title="lemma">allPairs_Acc</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">p</span> : <a class="idref" href="wellfounded.html#MyStupidPair"><span class="id" title="inductive">MyStupidPair</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Wf.html#Acc"><span class="id" title="inductive">Acc</span></a> <a class="idref" href="wellfounded.html#first_ltR"><span class="id" title="definition">first_ltR</span></a> <a class="idref" href="wellfounded.html#p"><span class="id" title="variable">p</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>.<br/>
<span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="wellfounded.html#first_ltR"><span class="id" title="definition">first_ltR</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">intros</span> .<br/>
 <span class="id" title="tactic">destruct</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">n1</span>.<br/>
<span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="wellfounded.html#first_ltR"><span class="id" title="definition">first_ltR</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>.<br/>
<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="wellfounded.html#helper"><span class="id" title="lemma">helper</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">z</span>:=<span class="id" title="var">n2</span>) <span class="id" title="keyword">in</span> <span class="id" title="var">IHn</span>. <span class="id" title="tactic">assumption</span> .<br/>
 <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">IHn</span>.<br/>
 <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a name="pairsWfr"><span class="id" title="lemma">pairsWfr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Wf.html#well_founded"><span class="id" title="definition">well_founded</span></a> <a class="idref" href="wellfounded.html#first_ltR"><span class="id" title="definition">first_ltR</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="wellfounded.html#allPairs_Acc"><span class="id" title="lemma">allPairs_Acc</span></a>. <span class="id" title="keyword">Defined</span>. 
<br/>
<span class="id" title="keyword">Definition</span> <a name="divide"><span class="id" title="definition">divide</span></a> : <a class="idref" href="wellfounded.html#MyStupidPair"><span class="id" title="inductive">MyStupidPair</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>.<br/>
&nbsp;<span class="id" title="tactic">refine</span> <br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">Fix</span> <a class="idref" href="wellfounded.html#pairsWfr"><span class="id" title="lemma">pairsWfr</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> (<span class="id" title="var">p</span> : <a class="idref" href="wellfounded.html#MyStupidPair"><span class="id" title="inductive">MyStupidPair</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">subcall</span> : <span class="id" title="keyword">forall</span>  <span class="id" title="var">p'</span> : <a class="idref" href="wellfounded.html#MyStupidPair"><span class="id" title="inductive">MyStupidPair</span></a>, <a class="idref" href="wellfounded.html#first_ltR"><span class="id" title="definition">first_ltR</span></a> <a class="idref" href="wellfounded.html#p'"><span class="id" title="variable">p'</span></a> <a class="idref" href="wellfounded.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="wellfounded.html#p"><span class="id" title="variable">p</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="wellfounded.html#mystupidpair"><span class="id" title="constructor">mystupidpair</span></a> <span class="id" title="var">x</span> 0 =&gt; 0<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="wellfounded.html#mystupidpair"><span class="id" title="constructor">mystupidpair</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Nat.html#leb"><span class="id" title="definition">Nat.leb</span></a> <span class="id" title="var">y</span> <span class="id" title="var">x</span>) <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="wellfounded.html#subcall"><span class="id" title="variable">subcall</span></a> (<a class="idref" href="wellfounded.html#mystupidpair"><span class="id" title="constructor">mystupidpair</span></a> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Peano.html#9482aae3d3b06e249765c1225dbb8cbb"><span class="id" title="notation">-</span></a><span class="id" title="var">y</span>) <span class="id" title="var">y</span>) <span class="id" title="var">_</span> )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> 0<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;).  <span class="id" title="keyword">Abort</span>.<br/>

<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="ltSucc"><span class="id" title="lemma">ltSucc</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>, <a class="idref" href="wellfounded.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Peano.html#989c98e7ddd65d5bf37c334ff2076de8"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="wellfounded.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="wellfounded.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Peano.html#989c98e7ddd65d5bf37c334ff2076de8"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="wellfounded.html#y"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="tactic">intro</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a name="natsub"><span class="id" title="lemma">natsub</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">n</span> <span class="id" title="var">x</span>, <a class="idref" href="wellfounded.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Peano.html#9482aae3d3b06e249765c1225dbb8cbb"><span class="id" title="notation">-</span></a> <a class="idref" href="wellfounded.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Peano.html#989c98e7ddd65d5bf37c334ff2076de8"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="wellfounded.html#n"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="wellfounded.html#ltSucc"><span class="id" title="lemma">ltSucc</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">IHn</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHn</span>. <span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.omega.Omega.html#"><span class="id" title="library">Omega</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="divide_v2"><span class="id" title="definition">divide_v2</span></a> : <a class="idref" href="wellfounded.html#MyStupidPair"><span class="id" title="inductive">MyStupidPair</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>.<br/>
&nbsp;<span class="id" title="tactic">refine</span> <br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">Fix</span> <a class="idref" href="wellfounded.html#pairsWfr"><span class="id" title="lemma">pairsWfr</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> (<span class="id" title="var">p</span> : <a class="idref" href="wellfounded.html#MyStupidPair"><span class="id" title="inductive">MyStupidPair</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">subcall</span> : <span class="id" title="keyword">forall</span>  <span class="id" title="var">p'</span> : <a class="idref" href="wellfounded.html#MyStupidPair"><span class="id" title="inductive">MyStupidPair</span></a>, <a class="idref" href="wellfounded.html#first_ltR"><span class="id" title="definition">first_ltR</span></a> <a class="idref" href="wellfounded.html#p'"><span class="id" title="variable">p'</span></a> <a class="idref" href="wellfounded.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">_</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;). <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">n0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> 0.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Arith.PeanoNat.html#Nat.leb"><span class="id" title="definition">Nat.leb</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n0</span>) <span class="id" title="var">n</span>) <span class="id" title="var">eqn</span> :<span class="id" title="tactic">case</span>.<br/>
 <span class="id" title="tactic">refine</span>  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<span class="id" title="var">subcall</span> (<a class="idref" href="wellfounded.html#mystupidpair"><span class="id" title="constructor">mystupidpair</span></a> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Peano.html#9482aae3d3b06e249765c1225dbb8cbb"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Peano.html#9482aae3d3b06e249765c1225dbb8cbb"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n0</span><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Peano.html#9482aae3d3b06e249765c1225dbb8cbb"><span class="id" title="notation">)</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n0</span>))  <span class="id" title="var">_</span>) ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="wellfounded.html#first_ltR"><span class="id" title="definition">first_ltR</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="tactic">case</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="tactic">case</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="wellfounded.html#natsub"><span class="id" title="lemma">natsub</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> 0. <span class="id" title="keyword">Defined</span>.<br/>
<span class="id" title="keyword">Print</span> <a class="idref" href="wellfounded.html#divide_v2"><span class="id" title="definition">divide_v2</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a name="myDivide"><span class="id" title="definition">myDivide</span></a> (<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) := <a class="idref" href="wellfounded.html#divide_v2"><span class="id" title="definition">divide_v2</span></a> (<a class="idref" href="wellfounded.html#mystupidpair"><span class="id" title="constructor">mystupidpair</span></a> <a class="idref" href="wellfounded.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="wellfounded.html#y"><span class="id" title="variable">y</span></a>).<br/>

<br/>
<span class="id" title="keyword">Eval</span> <span class="id" title="tactic">compute</span> <span class="id" title="keyword">in</span> (<a class="idref" href="wellfounded.html#myDivide"><span class="id" title="definition">myDivide</span></a> 0 0).<br/>
<span class="id" title="keyword">Eval</span> <span class="id" title="var">cbn</span> <span class="id" title="keyword">in</span> (<a class="idref" href="wellfounded.html#myDivide"><span class="id" title="definition">myDivide</span></a> 3 4).<br/>
<span class="id" title="keyword">Eval</span> <span class="id" title="tactic">compute</span> <span class="id" title="keyword">in</span> (<a class="idref" href="wellfounded.html#myDivide"><span class="id" title="definition">myDivide</span></a> 4 2).<br/>
<span class="id" title="keyword">Eval</span> <span class="id" title="tactic">compute</span> <span class="id" title="keyword">in</span> (<a class="idref" href="wellfounded.html#myDivide"><span class="id" title="definition">myDivide</span></a> 5 2).<br/>
<span class="id" title="keyword">Eval</span> <span class="id" title="tactic">compute</span> <span class="id" title="keyword">in</span> (<a class="idref" href="wellfounded.html#myDivide"><span class="id" title="definition">myDivide</span></a> 100 7).<br/>
<span class="id" title="keyword">Eval</span> <span class="id" title="tactic">compute</span> <span class="id" title="keyword">in</span> (<a class="idref" href="wellfounded.html#myDivide"><span class="id" title="definition">myDivide</span></a> 3 4).<br/>

<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>