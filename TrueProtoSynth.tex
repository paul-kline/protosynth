\documentclass[12pt]{report}
\usepackage[]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{fullpage}
\usepackage{coqdoc}
\usepackage{amsmath,amssymb}
\usepackage{url}
\begin{document}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% This file has been automatically generated with the command
%% coqdoc -latex TrueProtoSynth.v 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\coqlibrary{TrueProtoSynth}{Library }{TrueProtoSynth}

\begin{coqdoccode}
\coqdocemptyline
\coqdocnoindent
\coqdockw{Add} \coqdocvar{LoadPath} "/home/paul/Documents/coqs/protosynth/cpdt/src" \coqdockw{as} \coqdocvar{Cpdt}.\coqdoceol
\coqdocnoindent
\coqdockw{Require} \coqdockw{Export} \coqdoclibrary{MyShortHand}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Add} \coqdocvar{LoadPath} "C:\symbol{92}Users\symbol{92}Paul\symbol{92}Documents\symbol{92}coqStuff\symbol{92}protosynth".\coqdoceol
\coqdocnoindent
\coqdockw{Add} \coqdocvar{LoadPath} "/nfs/users/paulkline/Documents/coqs/protosynth/cpdt/src" .\coqdoceol
\coqdocnoindent
\coqdockw{Require} \coqdockw{Export} \coqdoclibrary{ProtoSynthDataTypes}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Require} \coqdockw{Export} \coqdoclibrary{ProtoSynthProtocolDataTypes}.\coqdoceol
\coqdocnoindent
\coqdockw{Require} \coqdockw{Export} \coqexternalref{}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List}{\coqdoclibrary{Coq.Lists.List}}.\coqdoceol
\coqdocnoindent
\coqdockw{Add} \coqdocvar{LoadPath} "/home/paul/Documents/coqs/protosynth/cpdt/src" \coqdockw{as} \coqdocvar{Cpdt}.\coqdoceol
\coqdocnoindent
\coqdockw{Require} \coqdockw{Export} \coqdoclibrary{Cpdt.CpdtTactics}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Definition}  \coqdef{TrueProtoSynth.des1}{des1}{\coqdocdefinition{des1}} := (\coqdocconstructor{descriptor} (\coqdocconstructor{pcrMR} 1)).\coqdoceol
\coqdocnoindent
\coqdockw{Eval} \coqdoctac{compute} \coqdoctac{in} (\coqdocdefinition{measurementDenote} \coqref{TrueProtoSynth.des1}{\coqdocdefinition{des1}}).\coqdoceol
\coqdocnoindent
\coqdockw{Definition} \coqdef{TrueProtoSynth.req1}{req1}{\coqdocdefinition{req1}} : (\coqdocinductive{Requirement} \coqref{TrueProtoSynth.des1}{\coqdocdefinition{des1}} ).\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdoctac{apply} \coqdocconstructor{requirement}. \coqdoctac{simpl}. \coqdoctac{exact} ((\coqdockw{fun} (\coqdocvar{x} : \coqexternalref{nat}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocinductive{nat}}) \ensuremath{\Rightarrow} \coqexternalref{leb}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Nat}{\coqdocdefinition{Nat.leb}} \coqdocvariable{x} 7)).\coqdoceol
\coqdocnoindent
\coqdockw{Defined}.\coqdoceol
\coqdocnoindent
\coqdockw{Definition} \coqdef{TrueProtoSynth.req2}{req2}{\coqdocdefinition{req2}} := \coqdoceol
\coqdocindent{0.50em}
\coqdocconstructor{requirement} (\coqref{TrueProtoSynth.des1}{\coqdocdefinition{des1}}) ((\coqdockw{fun} (\coqdocvar{x} : \coqexternalref{nat}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocinductive{nat}}) \ensuremath{\Rightarrow} \coqexternalref{leb}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Nat}{\coqdocdefinition{Nat.leb}} \coqdocvariable{x} 7)).\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Definition} \coqdef{TrueProtoSynth.myRule1}{myRule1}{\coqdocdefinition{myRule1}} := \coqdocconstructor{rule} (\coqref{TrueProtoSynth.des1}{\coqdocdefinition{des1}}) (\coqdocconstructor{requirement} (\coqdocconstructor{descriptor} (\coqdocconstructor{pcrMR} 2))\coqdoceol
\coqdocindent{0.50em}
(\coqdockw{fun} \coqdocvar{x} : \coqexternalref{nat}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocinductive{nat}} \ensuremath{\Rightarrow} \coqexternalref{leb}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Nat}{\coqdocdefinition{Nat.leb}} \coqdocvariable{x} 9)).\coqdoceol
\coqdocnoindent
\coqdockw{Check} \coqref{TrueProtoSynth.myRule1}{\coqdocdefinition{myRule1}}.\coqdoceol
\coqdocnoindent
\coqdockw{Check} \coqdocconstructor{ConsPolicy}.\coqdoceol
\coqdocnoindent
\coqdockw{Print} \coqref{TrueProtoSynth.myRule1}{\coqdocdefinition{myRule1}}.\coqdoceol
\coqdocnoindent
\coqdockw{Definition} \coqdef{TrueProtoSynth.myPrivacyPolicy}{myPrivacyPolicy}{\coqdocdefinition{myPrivacyPolicy}} := \coqdocconstructor{ConsPolicy} \coqref{TrueProtoSynth.myRule1}{\coqdocdefinition{myRule1}} \coqdocconstructor{EmptyPolicy}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Definition} \coqdef{TrueProtoSynth.myrequirement1}{myrequirement1}{\coqdocdefinition{myrequirement1}} := \coqdockw{fun} (\coqdocvar{x} : \coqexternalref{nat}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocinductive{nat}}) \ensuremath{\Rightarrow} (\coqdocvariable{x} \coqexternalref{:nat scope:x '>' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Peano}{\coqdocnotation{>}} 7).\coqdoceol
\coqdocemptyline
\coqdocemptyline
\coqdocemptyline
\coqdocemptyline
\coqdocemptyline
\coqdocindent{0.50em}
\coqdockw{Definition} \coqdef{TrueProtoSynth.measure}{measure}{\coqdocdefinition{measure}} (\coqdocvar{d}: \coqdocinductive{Description}) : \coqdocdefinition{measurementDenote} \coqdocvariable{d}.\coqdoceol
\coqdocindent{0.50em}
\coqdockw{Proof}. \coqdoctac{destruct} \coqdocvar{d}. \coqdoctac{destruct} \coqdocvar{d}. \coqdoctac{simpl}. \coqdoctac{exact} \coqdocvar{n}.\coqdoceol
\coqdocindent{0.50em}
\coqdoctac{simpl}. \coqdoctac{exact} 0.\coqdoceol
\coqdocindent{0.50em}
\coqdoctac{simpl}. \coqdoctac{exact} 1.\coqdoceol
\coqdocindent{0.50em}
\coqdockw{Defined}.\coqdoceol
\coqdocemptyline
\coqdocemptyline
\coqdocemptyline
\coqdocnoindent
\coqdockw{Fixpoint} \coqdef{TrueProtoSynth.reduceUnresolved}{reduceUnresolved}{\coqdocdefinition{reduceUnresolved}} (\coqdocvar{d} : \coqdocinductive{Description}) (\coqdocvar{v} : \coqdocdefinition{measurementDenote} \coqdocvariable{d})\coqdoceol
\coqdocnoindent
(\coqdocvar{unresolved} : \coqdocinductive{RequestLS}) : \coqexternalref{option}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocinductive{option}} \coqdocinductive{RequestLS}. \coqdoctac{refine} \coqdockw{match} \coqdocvar{unresolved} \coqdockw{with}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{emptyRequestLS} \ensuremath{\Rightarrow} \coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} \coqdocconstructor{emptyRequestLS}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{ConsRequestLS} \coqdocvar{r} \coqdocvar{x0} \ensuremath{\Rightarrow} \coqdockw{match} \coqdocvar{r} \coqdockw{with}\coqdoceol
\coqdocindent{3.00em}
\ensuremath{|} \coqdocconstructor{requestItem} \coqdocvar{dr} \coqdocvar{reqment} \ensuremath{\Rightarrow} \coqdockw{if} \coqdoclemma{eq\_dec\_Description} \coqdocvar{dr} \coqdocvar{d} \coqdockw{then}\coqdoceol
\coqdocindent{5.00em}
\coqdockw{match} \coqdocvar{reqment} \coqdockw{with}\coqdoceol
\coqdocindent{6.00em}
\ensuremath{|} \coqdocconstructor{requirement} \coqdocvar{\_} \coqdocvar{f} \ensuremath{\Rightarrow} \coqdockw{match} \coqdocvar{f} \coqdocvar{\_} \coqdockw{with}\coqdoceol
\coqdocindent{7.50em}
\ensuremath{|} \coqexternalref{true}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{true}} \ensuremath{\Rightarrow} \coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} \coqdocvar{x0} \coqdoceol
\coqdocindent{7.50em}
\ensuremath{|} \coqexternalref{false}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{false}} \ensuremath{\Rightarrow} \coqexternalref{None}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{None}} \coqdoceol
\coqdocindent{7.00em}
\coqdockw{end}\coqdoceol
\coqdocindent{5.00em}
\coqdockw{end}\coqdoceol
\coqdocindent{4.00em}
\coqdockw{else} \coqdoceol
\coqdocindent{5.00em}
\coqdockw{match} \coqdocvar{reduceUnresolved} \coqdocvar{d} \coqdocvar{v} \coqdocvar{x0} \coqdockw{with} \coqdoceol
\coqdocindent{6.00em}
\ensuremath{|} \coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} \coqdocvar{some} \ensuremath{\Rightarrow} \coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} (\coqdocconstructor{ConsRequestLS} \coqdocvar{r} \coqdocvar{some})\coqdoceol
\coqdocindent{6.00em}
\ensuremath{|} \coqexternalref{None}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{None}} \ensuremath{\Rightarrow} \coqexternalref{None}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{None}}\coqdoceol
\coqdocindent{5.00em}
\coqdockw{end}\coqdoceol
\coqdocindent{2.50em}
\coqdockw{end}\coqdoceol
\coqdocindent{0.50em}
\coqdockw{end}. \coqdoctac{rewrite} \ensuremath{\leftarrow} \coqdocvar{e} \coqdoctac{in} \coqdocvar{v}. \coqdoctac{exact} \coqdocvar{v}. \coqdockw{Defined}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Definition} \coqdef{TrueProtoSynth.freeRequirement}{freeRequirement}{\coqdocdefinition{freeRequirement}} (\coqdocvar{d} : \coqdocinductive{Description}): \coqdocinductive{Requirement} \coqdocvariable{d}:= \coqdoceol
\coqdocindent{0.50em}
\coqdocconstructor{requirement} \coqdocvariable{d} (\coqdockw{fun} \coqdocvar{\_} \ensuremath{\Rightarrow} \coqexternalref{true}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{true}}).\coqdoceol
\coqdocnoindent
\coqdockw{Definition} \coqdef{TrueProtoSynth.neverRequirement}{neverRequirement}{\coqdocdefinition{neverRequirement}} (\coqdocvar{d} : \coqdocinductive{Description}): \coqdocinductive{Requirement} \coqdocvariable{d}:= \coqdoceol
\coqdocindent{0.50em}
\coqdocconstructor{requirement} \coqdocvariable{d} (\coqdockw{fun} \coqdocvar{\_} \ensuremath{\Rightarrow} \coqexternalref{false}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{false}}).\coqdoceol
\coqdocnoindent
\coqdockw{Check} \coqref{TrueProtoSynth.neverRequirement}{\coqdocdefinition{neverRequirement}}.\coqdoceol
\coqdocemptyline
\coqdocemptyline
\coqdocnoindent
\coqdockw{Fixpoint} \coqdef{TrueProtoSynth.reduceRule}{reduceRule}{\coqdocdefinition{reduceRule}} \{\coqdocvar{theird} \coqdocvar{myd}: \coqdocinductive{Description}\} (\coqdocvar{v} : (\coqdocdefinition{measurementDenote} \coqdocvariable{theird})) (\coqdocvar{myRule} : \coqdocinductive{Rule} \coqdocvariable{myd}) : (\coqdocinductive{Rule} \coqdocvariable{myd}). \coqdoctac{refine} (\coqdoceol
\coqdocnoindent
\coqdockw{match} \coqdocvar{myRule} \coqdockw{with}\coqdoceol
\coqdocindent{3.50em}
\ensuremath{|} @\coqdocvar{rule} \coqdocvar{\_} \coqdocvar{your} \coqdocvar{reqrment} \ensuremath{\Rightarrow} \coqdockw{if} (\coqdoclemma{eq\_dec\_Description} \coqdocvar{theird} \coqdocvar{your}) \coqdockw{then}\coqdoceol
\coqdocindent{5.00em}
(\coqdockw{match} \coqdocvar{reqrment} \coqdockw{with}\coqdoceol
\coqdocindent{6.00em}
\ensuremath{|} \coqdocconstructor{requirement} \coqdocvar{\_} \coqdocvar{f} \ensuremath{\Rightarrow} \coqdockw{if} (\coqdocvar{f} \coqdocvar{\_}) \coqdockw{then} (\coqdocconstructor{free} \coqdocvar{myd})\coqdoceol
\coqdocindent{15.50em}
\coqdockw{else}  (\coqdocconstructor{never} \coqdocvar{myd})\coqdoceol
\coqdocindent{5.00em}
\coqdockw{end})\coqdoceol
\coqdocindent{5.00em}
\coqdockw{else}  \coqdocvar{myRule}\coqdoceol
\coqdocindent{3.00em}
\coqdoceol
\coqdocindent{3.50em}
\ensuremath{|} \coqdocvar{\_} \ensuremath{\Rightarrow} \coqdocvar{myRule}\coqdoceol
\coqdocindent{3.50em}
\coqdoceol
\coqdocnoindent
\coqdockw{end}). \coqdoctac{subst}. \coqdoctac{exact} \coqdocvar{v}.\coqdoceol
\coqdocnoindent
\coqdockw{Defined}.\coqdoceol
\coqdocemptyline
\end{coqdoccode}
reducePrivacy is now just repeated application of reduceRule to all terms in the policy.\begin{coqdoccode}
\coqdocnoindent
\coqdockw{Fixpoint} \coqdef{TrueProtoSynth.reducePrivacy}{reducePrivacy}{\coqdocdefinition{reducePrivacy}} (\coqdocvar{d} : \coqdocinductive{Description}) (\coqdocvar{v} : (\coqdocdefinition{measurementDenote} \coqdocvariable{d})) (\coqdocvar{priv} : \coqdocinductive{PrivacyPolicy}) : \coqdocinductive{PrivacyPolicy} :=\coqdoceol
\coqdocnoindent
\coqdockw{match} \coqdocvariable{priv} \coqdockw{with}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{EmptyPolicy} \ensuremath{\Rightarrow} \coqdocconstructor{EmptyPolicy}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} @\coqdocvar{ConsPolicy} \coqdocvar{dp} \coqdocvar{rule\_d} \coqdocvar{pp'} \ensuremath{\Rightarrow} @\coqdocconstructor{ConsPolicy} \coqdocvar{dp} (\coqref{TrueProtoSynth.reduceRule}{\coqdocdefinition{reduceRule}} \coqdocvariable{v} \coqdocvar{rule\_d}) (\coqref{TrueProtoSynth.reducePrivacy}{\coqdocdefinition{reducePrivacy}} \coqdocvariable{d} \coqdocvariable{v} \coqdocvar{pp'})\coqdoceol
\coqdocindent{0.50em}
\coqdockw{end}.\coqdoceol
\coqdocemptyline
\end{coqdoccode}
We indicate the variable was not in the state by the None option.\begin{coqdoccode}
\coqdocnoindent
\coqdockw{Fixpoint} \coqdef{TrueProtoSynth.varSubst'}{varSubst'}{\coqdocdefinition{varSubst'}} (\coqdocvar{t} : \coqdocinductive{Term}) (\coqdocvar{ls} : \coqdocdefinition{VarState}) : \coqexternalref{option}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocinductive{option}} \coqdocinductive{Const} :=\coqdoceol
\coqdocnoindent
\coqdockw{match} \coqdocvariable{t} \coqdockw{with}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{variable} \coqdocvar{vid} \ensuremath{\Rightarrow} \coqdockw{match} \coqdocvariable{ls} \coqdockw{with}\coqdoceol
\coqdocindent{10.50em}
\ensuremath{|} \coqexternalref{nil}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{nil}} \ensuremath{\Rightarrow} \coqexternalref{None}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{None}}\coqdoceol
\coqdocindent{10.50em}
\ensuremath{|} \coqexternalref{cons}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{cons}} \coqdocvar{pr} \coqdocvar{ls'} \ensuremath{\Rightarrow} \coqdockw{if} (\coqdoclemma{eq\_dec\_VarID} (\coqexternalref{fst}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocdefinition{fst}} \coqdocvar{pr}) \coqdocvar{vid}) \coqdockw{then} \coqdoceol
\coqdocindent{13.50em}
\coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} (\coqexternalref{snd}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocdefinition{snd}} \coqdocvar{pr})\coqdoceol
\coqdocindent{13.00em}
\coqdockw{else} \coqdoceol
\coqdocindent{13.50em}
\coqref{TrueProtoSynth.varSubst'}{\coqdocdefinition{varSubst'}} \coqdocvariable{t} \coqdocvar{ls'}\coqdoceol
\coqdocindent{9.50em}
\coqdockw{end}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{const} \coqdocvar{x} \ensuremath{\Rightarrow} \coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} ( \coqdocvar{x})\coqdoceol
\coqdocnoindent
\coqdockw{end}.\coqdoceol
\coqdocemptyline
\end{coqdoccode}


This is a much handier version that deconstructs the state for you.
\begin{coqdoccode}
\coqdocnoindent
\coqdockw{Definition} \coqdef{TrueProtoSynth.varSubst}{varSubst}{\coqdocdefinition{varSubst}} (\coqdocvar{t} : \coqdocinductive{Term}) (\coqdocvar{st} : \coqdocinductive{State} ) : \coqexternalref{option}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocinductive{option}} \coqdocinductive{Const} :=\coqdoceol
\coqdocnoindent
\coqdockw{match} \coqdocvariable{st} \coqdockw{with}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{state} \coqdocvar{varst} \coqdocvar{\_} \ensuremath{\Rightarrow} \coqref{TrueProtoSynth.varSubst'}{\coqdocdefinition{varSubst'}} \coqdocvariable{t} \coqdocvar{varst}\coqdoceol
\coqdocnoindent
\coqdockw{end}.\coqdoceol
\coqdocemptyline
\end{coqdoccode}


When we send a message, it gets appended to the end of the list. This makes receiving
in the correct order easier. \begin{coqdoccode}
\coqdocnoindent
\coqdockw{Fixpoint} \coqdef{TrueProtoSynth.sendOnNetwork}{sendOnNetwork}{\coqdocdefinition{sendOnNetwork}} (\coqdocvar{from} : \coqdocinductive{Participant}) (\coqdocvar{to} : \coqdocinductive{Participant}) (\coqdocvar{m} : \coqdocinductive{Const}) (\coqdocvar{n} : \coqdocdefinition{Network}) : \coqdocdefinition{Network} :=\coqdoceol
\coqdocindent{0.50em}
\coqdockw{match} \coqdocvariable{n} \coqdockw{with}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqexternalref{nil}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{nil}} \ensuremath{\Rightarrow} \coqexternalref{cons}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{cons}} (\coqdocconstructor{networkMessage} \coqdocvariable{from} \coqdocvariable{to} \coqdocvariable{m}) \coqexternalref{nil}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{nil}}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqexternalref{cons}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{cons}} \coqdocvar{n1} \coqdocvar{nls} \ensuremath{\Rightarrow} \coqexternalref{cons}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{cons}} \coqdocvar{n1} (\coqref{TrueProtoSynth.sendOnNetwork}{\coqdocdefinition{sendOnNetwork}} \coqdocvariable{from} \coqdocvariable{to} \coqdocvariable{m} \coqdocvar{nls}) \coqdoceol
\coqdocnoindent
\coqdockw{end}.\coqdoceol
\coqdocemptyline
\end{coqdoccode}
Who are you expecting a message from? Who am I? and the network.
This function finds the first message in the list that is from the expected party to me.\begin{coqdoccode}
\coqdocnoindent
\coqdockw{Fixpoint} \coqdef{TrueProtoSynth.receiveOnNetwork}{receiveOnNetwork}{\coqdocdefinition{receiveOnNetwork}} (\coqdocvar{from} : \coqdocinductive{Participant}) (\coqdocvar{me} : \coqdocinductive{Participant}) (\coqdocvar{n} : \coqdocdefinition{Network}) : \coqexternalref{option}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocinductive{option}} \coqdocinductive{Const} :=\coqdoceol
\coqdocindent{0.50em}
\coqdockw{match} \coqdocvariable{n} \coqdockw{with}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqexternalref{nil}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{nil}} \ensuremath{\Rightarrow} \coqexternalref{None}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{None}}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqexternalref{cons}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{cons}} \coqdocvar{msg} \coqdocvar{n'} \ensuremath{\Rightarrow} \coqdockw{match} \coqdocvar{msg} \coqdockw{with}\coqdoceol
\coqdocindent{9.50em}
\ensuremath{|} \coqdocconstructor{networkMessage} \coqdocvar{nfrom} \coqdocvar{nto} \coqdocvar{x1} \ensuremath{\Rightarrow} \coqdockw{match} \coqdoceol
\coqdocindent{11.00em}
\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{((}}\coqdoclemma{eq\_dec\_Participant} \coqdocvar{nfrom} \coqdocvariable{from}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{),(}}\coqdoclemma{eq\_dec\_Participant} \coqdocvar{nto} \coqdocvariable{me}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{))}} \coqdockw{with} \coqdoceol
\coqdocindent{11.00em}
\ensuremath{|} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqexternalref{left}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif}{\coqdocconstructor{left}} \coqdocvar{\_}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqexternalref{left}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif}{\coqdocconstructor{left}} \coqdocvar{\_}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \ensuremath{\Rightarrow} \coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} \coqdocvar{x1}\coqdoceol
\coqdocindent{11.00em}
\ensuremath{|} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvar{\_}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvar{\_}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \ensuremath{\Rightarrow} \coqref{TrueProtoSynth.receiveOnNetwork}{\coqdocdefinition{receiveOnNetwork}} \coqdocvariable{from} \coqdocvariable{me} \coqdocvar{n'}\coqdoceol
\coqdocindent{11.00em}
\coqdockw{end}\coqdoceol
\coqdocindent{9.00em}
\coqdockw{end}\coqdoceol
\coqdocnoindent
\coqdockw{end}.\coqdoceol
\coqdocemptyline
\end{coqdoccode}
This is a handy check to see if the network is empty or not. Syntactic sugar. Tasty\begin{coqdoccode}
\coqdocnoindent
\coqdockw{Definition} \coqdef{TrueProtoSynth.net isEmpty}{net\_isEmpty}{\coqdocdefinition{net\_isEmpty}} ( \coqdocvar{n} : \coqdocdefinition{Network}) : \coqexternalref{bool}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocinductive{bool}} :=\coqdoceol
\coqdocindent{0.50em}
\coqdockw{match} \coqdocvariable{n} \coqdockw{with}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqexternalref{nil}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{nil}} \ensuremath{\Rightarrow} \coqexternalref{true}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{true}}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqexternalref{cons}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{cons}} \coqdocvar{x} \coqdocvar{x0} \ensuremath{\Rightarrow} \coqexternalref{false}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{false}}\coqdoceol
\coqdocnoindent
\coqdockw{end}.\coqdoceol
\coqdocemptyline
\end{coqdoccode}
This function gives us a new state to replace the passed in state. We are also
given a Const value, which must be the result of a measurment. The state is modified
in the following ways:
1. reduceUnresolved is called with the given value. Recall that reduceUnresolved will optinally
give a reduced list of unresolved RequestItems. If it gives us back none, we know some outstanding requirement
has not been met. Therefore notice that here we propagate this information by including a No as the AllGood
signal.  
2. Whether or not we successfully have reducedUnresolved, we call reducePrivacy as well. Recall that this function
softens the heart of the privacy policy, loosening up any restrictions tied to that value.
OR: it hardens its heart. making the requirement 'never' if the value fails the requirement. It is evaluated here 


Calling reducePrivacy when reduceUnresolved gives back 'none' seems supurfluous, and indeed it is but aids in proving.
\begin{coqdoccode}
\coqdocnoindent
\coqdockw{Definition} \coqdef{TrueProtoSynth.reduceStateWithMeasurement}{reduceStateWithMeasurement}{\coqdocdefinition{reduceStateWithMeasurement}} (\coqdocvar{v} : \coqdocinductive{Const}) (\coqdocvar{st} : \coqdocinductive{State}) : \coqdocinductive{State} := \coqdoceol
\coqdocindent{0.50em}
\coqdockw{match} \coqdocvariable{v} \coqdockw{with}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{constValue} \coqdocvar{d} \coqdocvar{denotedVal} \ensuremath{\Rightarrow} (\coqdockw{match} \coqdocvariable{st} \coqdockw{with}\coqdoceol
\coqdocindent{16.00em}
\ensuremath{|} \coqdocconstructor{state} \coqdocvar{varst}  \coqdocvar{prost}\ensuremath{\Rightarrow} (\coqdockw{match} \coqdocvar{prost} \coqdockw{with}\coqdoceol
\coqdocindent{18.00em}
\ensuremath{|} \coqdocconstructor{proState} \coqdocvar{a} \coqdocvar{g} \coqdocvar{p} \coqdocvar{pp} \coqdocvar{toReq} \coqdocvar{myUnresolved} \coqdocvar{tosend} \ensuremath{\Rightarrow} \coqdoceol
\coqdocindent{19.50em}
(\coqdockw{match} (\coqref{TrueProtoSynth.reduceUnresolved}{\coqdocdefinition{reduceUnresolved}} \coqdocvar{d} \coqdocvar{denotedVal} \coqdocvar{myUnresolved}) \coqdockw{with}\coqdoceol
\coqdocindent{20.50em}
\ensuremath{|} \coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} \coqdocvar{newUnresolvedState} \ensuremath{\Rightarrow} ( \coqdoceol
\coqdocindent{22.00em}
\coqdocconstructor{state} \coqdocvar{varst} \coqdoceol
\coqdocindent{23.00em}
(\coqdocconstructor{proState} \coqdocvar{a} \coqdocconstructor{Yes} \coqdocvar{p} (\coqref{TrueProtoSynth.reducePrivacy}{\coqdocdefinition{reducePrivacy}} \coqdocvar{d} \coqdocvar{denotedVal} \coqdocvar{pp}) \coqdocvar{toReq}     \coqdoceol
\coqdocindent{28.00em}
\coqdocvar{newUnresolvedState} \coqdocvar{tosend}))\coqdoceol
\coqdocindent{20.50em}
\ensuremath{|} \coqexternalref{None}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{None}} \ensuremath{\Rightarrow} \coqdocconstructor{state} \coqdocvar{varst} (\coqdocconstructor{proState} \coqdocvar{a} \coqdocconstructor{No} \coqdocvar{p} (\coqref{TrueProtoSynth.reducePrivacy}{\coqdocdefinition{reducePrivacy}} \coqdocvar{d} \coqdocvar{denotedVal} \coqdocvar{pp}) \coqdocvar{toReq}\coqdoceol
\coqdocindent{27.50em}
\coqdocvar{myUnresolved} \coqdocvar{tosend})\coqdoceol
\coqdocindent{19.50em}
\coqdockw{end})\coqdoceol
\coqdocindent{18.00em}
\coqdockw{end})\coqdoceol
\coqdocindent{15.00em}
\coqdockw{end})\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocvar{\_} \ensuremath{\Rightarrow} \coqdocvariable{st}\coqdoceol
\coqdocindent{0.50em}
\coqdockw{end}.\coqdoceol
\coqdocemptyline
\end{coqdoccode}


Actually...
This function answers the question of how to respond to a mesurement request.
We iterate through our privacy policy, if there is no rule for the Description, we indicate
this by returning 'none'. This is meant to be isomorphic to the response when pattern matching 
on a 'never' rule for a particular Description, but for some reason, I return a None. I'm not sure why.
Let's continue.
If we find a rule for this measurement request (Description), if it has a remaining rule that has not
been simplified down to 'free' or 'never' (in otherwords, we haven't already received the value as a result
of some other action), we return a request for the item we wish to know about to release the initially desired
measurement and the requirement its value must meet along with it. If we find a 'free' rule attached to the 
desired measurment value, we perform the measuring, and return no restriction (free) because it  feels right to do so. It is not used as all when a value is returned as the first in the pair. The reason why we return this supurfluous value in these cases is it simplifies the case we return with a counter request.
In the case we encounter a 'never' rule, we return a constStop. 
\begin{coqdoccode}
\coqdocnoindent
\coqdockw{Fixpoint} \coqdef{TrueProtoSynth.findandMeasureItem}{findandMeasureItem}{\coqdocdefinition{findandMeasureItem}} (\coqdocvar{pp} : \coqdocinductive{PrivacyPolicy}) (\coqdocvar{d} : \coqdocinductive{Description}) : \coqexternalref{option}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocinductive{option}} (\coqdocinductive{Const}\coqexternalref{:type scope:x '*' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{\ensuremath{\times}}}\coqdocinductive{RequestItem}) :=\coqdoceol
\coqdocnoindent
\coqdockw{match} \coqdocvariable{pp} \coqdockw{with}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{EmptyPolicy} \ensuremath{\Rightarrow} \coqexternalref{None}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{None}}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} @\coqdocvar{ConsPolicy} \coqdocvar{dp} \coqdocvar{rule\_d} \coqdocvar{pp'} \ensuremath{\Rightarrow} \coqdockw{if} (\coqdoclemma{eq\_dec\_Description} \coqdocvar{dp} \coqdocvariable{d}) \coqdockw{then} \coqdoceol
\coqdocindent{2.50em}
\coqdockw{match} \coqdocvar{rule\_d} \coqdockw{with}\coqdoceol
\coqdocindent{3.50em}
\ensuremath{|} @\coqdocvar{rule} \coqdocvar{\_} \coqdocvar{your} \coqdocvar{reqrment} \ensuremath{\Rightarrow} \coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocconstructor{constRequest} \coqdocvar{your}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocconstructor{requestItem} \coqdocvar{your} \coqdocvar{reqrment}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}}\coqdoceol
\coqdocindent{3.50em}
\ensuremath{|} \coqdocconstructor{free} \coqdocvar{\_} \ensuremath{\Rightarrow} \coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocconstructor{constValue} \coqdocvariable{d} (\coqref{TrueProtoSynth.measure}{\coqdocdefinition{measure}} \coqdocvariable{d})\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocconstructor{requestItem} \coqdocvariable{d} (\coqref{TrueProtoSynth.freeRequirement}{\coqdocdefinition{freeRequirement}} \coqdocvariable{d}) \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}}\coqdoceol
\coqdocindent{3.50em}
\ensuremath{|} \coqdocconstructor{never} \coqdocvar{\_} \ensuremath{\Rightarrow} \coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}} \coqdocconstructor{constStop}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocconstructor{requestItem} \coqdocvariable{d} (\coqref{TrueProtoSynth.neverRequirement}{\coqdocdefinition{neverRequirement}} \coqdocvariable{d})\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqdoceol
\coqdocindent{3.50em}
\coqdoceol
\coqdocindent{3.00em}
\coqdockw{end}\coqdoceol
\coqdocindent{2.00em}
\coqdockw{else} \coqref{TrueProtoSynth.findandMeasureItem}{\coqdocdefinition{findandMeasureItem}} \coqdocvar{pp'} \coqdocvariable{d} \coqdoceol
\coqdocnoindent
\coqdockw{end}.\coqdoceol
\coqdocemptyline
\end{coqdoccode}
If findandMeasureItem returns a constValue, it is, in fact, the result of the initial request (d=d0). 
\begin{coqdoccode}
\coqdocnoindent
\coqdockw{Theorem} \coqdef{TrueProtoSynth.thm findAndMeasureItemL}{thm\_findAndMeasureItemL}{\coqdoclemma{thm\_findAndMeasureItemL}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{pp} \coqdocvar{d} \coqdocvar{d0} \coqdocvar{val} \coqdocvar{x}, \coqref{TrueProtoSynth.findandMeasureItem}{\coqdocdefinition{findandMeasureItem}} \coqdocvariable{pp} \coqdocvariable{d} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocconstructor{constValue} \coqdocvariable{d0} \coqdocvariable{val}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{x}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdocvariable{d} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqdocvariable{d0}.\coqdoceol
\coqdocnoindent
\coqdockw{Proof}. \coqdoctac{intros}. \coqdoctac{induction} \coqdocvar{pp}. \coqdocvar{inv} \coqdocvar{H}.\coqdoceol
\coqdocnoindent
\coqdoctac{destruct} \coqdocvar{r}. \coqdoctac{simpl} \coqdoctac{in} \coqdocvar{H}. \coqdoctac{destruct} (\coqdoclemma{eq\_dec\_Description} \coqdocvar{d1} \coqdocvar{d}). \coqdoctac{subst}. \coqdocvar{inv} \coqdocvar{H}.\coqdoceol
\coqdocnoindent
\coqdoctac{apply} \coqdocvar{IHpp}. \coqdoctac{assumption}.\coqdoceol
\coqdocnoindent
\coqdoctac{simpl} \coqdoctac{in} \coqdocvar{H}. \coqdoctac{destruct} (\coqdoclemma{eq\_dec\_Description} \coqdocvar{d1} \coqdocvar{d}). \coqdoctac{subst}. \coqdocvar{inv} \coqdocvar{H}. \coqdoctac{subst}. \coqdocvar{refl}.\coqdoceol
\coqdocnoindent
\coqdoctac{apply} \coqdocvar{IHpp}. \coqdoctac{assumption}.\coqdoceol
\coqdocnoindent
\coqdoctac{simpl} \coqdoctac{in} \coqdocvar{H}. \coqdoctac{destruct} (\coqdoclemma{eq\_dec\_Description} \coqdocvar{d1} \coqdocvar{d}). \coqdoctac{subst}. \coqdocvar{inv} \coqdocvar{H}. \coqdoctac{apply} \coqdocvar{IHpp}. \coqdoctac{assumption}.\coqdoceol
\coqdocnoindent
\coqdockw{Qed}.\coqdoceol
\coqdocnoindent
\coqdockw{Hint Resolve} \coqdocvar{thm\_findAndMeasureItemL}.\coqdoceol
\coqdocemptyline
\end{coqdoccode}


This function removes all instances of a description from a privacyPolicy.
Remember, we only want to allow someone to request something once. Therefore, this 
function will be called on each description we receive as a request. In hindsight,
PrivacyPolicy should be implemented as a Set.  
\begin{coqdoccode}
\coqdocnoindent
\coqdockw{Fixpoint} \coqdef{TrueProtoSynth.rmAllFromPolicy}{rmAllFromPolicy}{\coqdocdefinition{rmAllFromPolicy}} (\coqdocvar{pp} : \coqdocinductive{PrivacyPolicy}) (\coqdocvar{d} : \coqdocinductive{Description}) : \coqdocinductive{PrivacyPolicy} :=\coqdoceol
\coqdocnoindent
\coqdockw{match} \coqdocvariable{pp} \coqdockw{with}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{EmptyPolicy} \ensuremath{\Rightarrow} \coqdocconstructor{EmptyPolicy}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} @\coqdocvar{ConsPolicy} \coqdocvar{dp} \coqdocvar{r} \coqdocvar{pp'} \ensuremath{\Rightarrow} \coqdockw{if} (\coqdoclemma{eq\_dec\_Description} \coqdocvar{dp} \coqdocvariable{d}) \coqdockw{then} \coqref{TrueProtoSynth.rmAllFromPolicy}{\coqdocdefinition{rmAllFromPolicy}} \coqdocvar{pp'} \coqdocvariable{d}\coqdoceol
\coqdocindent{3.00em}
\coqdockw{else}\coqdoceol
\coqdocindent{3.00em}
@\coqdocconstructor{ConsPolicy} \coqdocvar{dp} \coqdocvar{r} (\coqref{TrueProtoSynth.rmAllFromPolicy}{\coqdocdefinition{rmAllFromPolicy}} \coqdocvar{pp'} \coqdocvariable{d})\coqdoceol
\coqdocnoindent
\coqdockw{end}.\coqdoceol
\coqdocemptyline
\end{coqdoccode}
If findandMeasureItem returns None, we still removeAll occurances in the policy.
Recall None means the item didn't exist in our privacy policy. We still call rmAllFromPolicy
because it doesn't hurt anything, and aids in the proving. We of course stop in this case
and throw on a never requirment because its fitting (though completely unnecessary).
If we get back a some, we propagate the results. 
The purpose of this function is to call findandMeasureItem and removeAll from the 
privacy policy.
\begin{coqdoccode}
\coqdocnoindent
\coqdockw{Fixpoint} \coqdef{TrueProtoSynth.handleRequest'}{handleRequest'}{\coqdocdefinition{handleRequest'}} (\coqdocvar{pp} : \coqdocinductive{PrivacyPolicy}) (\coqdocvar{d} : \coqdocinductive{Description}) :=\coqdoceol
\coqdocindent{0.50em}
(\coqdockw{match} \coqref{TrueProtoSynth.findandMeasureItem}{\coqdocdefinition{findandMeasureItem}} \coqdocvariable{pp} \coqdocvariable{d} \coqdockw{with} \coqdoceol
\coqdocindent{1.50em}
\ensuremath{|} \coqexternalref{None}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{None}} \ensuremath{\Rightarrow} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqref{TrueProtoSynth.rmAllFromPolicy}{\coqdocdefinition{rmAllFromPolicy}} \coqdocvariable{pp} \coqdocvariable{d}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocconstructor{constStop}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocconstructor{requestItem} \coqdocvariable{d} (\coqref{TrueProtoSynth.neverRequirement}{\coqdocdefinition{neverRequirement}} \coqdocvariable{d})\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}}\coqdoceol
\coqdocindent{1.50em}
\ensuremath{|} \coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvar{mvalue}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvar{reqItem}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \ensuremath{\Rightarrow} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqref{TrueProtoSynth.rmAllFromPolicy}{\coqdocdefinition{rmAllFromPolicy}} \coqdocvariable{pp} \coqdocvariable{d}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvar{mvalue}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvar{reqItem}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}}\coqdoceol
\coqdocindent{1.00em}
\coqdockw{end}).\coqdoceol
\coqdocnoindent
\coqdockw{Check} \coqref{TrueProtoSynth.handleRequest'}{\coqdocdefinition{handleRequest'}}.\coqdoceol
\coqdocnoindent
\coqdockw{Lemma} \coqdef{TrueProtoSynth.thm handleRequestL}{thm\_handleRequestL}{\coqdoclemma{thm\_handleRequestL}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{pp} \coqdocvar{d} \coqdocvar{pp'} \coqdocvar{d2} \coqdocvar{v} \coqdocvar{z}, \coqref{TrueProtoSynth.handleRequest'}{\coqdocdefinition{handleRequest'}} \coqdocvariable{pp} \coqdocvariable{d} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvariable{pp'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocconstructor{constValue} \coqdocvariable{d2} \coqdocvariable{v}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{z}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdocvariable{d} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqdocvariable{d2}.\coqdoceol
\coqdocnoindent
\coqdockw{Proof}. \coqdoctac{intros}. \coqdoctac{destruct} \coqdocvar{pp}. \coqdoctac{simpl} \coqdoctac{in} \coqdocvar{H}. \coqdoctac{inversion} \coqdocvar{H}. \coqdocvar{sh}.\coqdoceol
\coqdocnoindent
\coqdoctac{destruct} (\coqdoclemma{eq\_dec\_Description} \coqdocvar{d0} \coqdocvar{d}) \coqdocvar{eqn}:\coqdocvar{hh}. \coqdoctac{destruct} \coqdocvar{r}.\coqdoceol
\coqdocnoindent
\coqdoctac{inversion} \coqdocvar{H}. \coqdoctac{inversion} \coqdocvar{H}. \coqdoctac{auto}. \coqdoctac{inversion} \coqdocvar{H}.\coqdoceol
\coqdocnoindent
\coqdoctac{destruct} (\coqref{TrueProtoSynth.findandMeasureItem}{\coqdocdefinition{findandMeasureItem}} \coqdocvar{pp} \coqdocvar{d}) \coqdocvar{eqn}:\coqdocvar{hhh}. \coqdoctac{destruct} \coqdocvar{p}.\coqdoceol
\coqdocnoindent
\coqdoctac{inversion} \coqdocvar{H}. \coqdoctac{subst}.\coqdoceol
\coqdocnoindent
\coqdoctac{eapply} \coqref{TrueProtoSynth.thm findAndMeasureItemL}{\coqdoclemma{thm\_findAndMeasureItemL}}. \coqdoctac{eauto}.\coqdoceol
\coqdocnoindent
\coqdoctac{inversion} \coqdocvar{H}.\coqdoceol
\coqdocnoindent
\coqdockw{Qed}.\coqdoceol
\coqdocnoindent
\coqdockw{Hint Resolve} \coqdocvar{thm\_handleRequestL}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Definition} \coqdef{TrueProtoSynth.snd3}{snd3}{\coqdocdefinition{snd3}} \{\coqdocvar{A} \coqdocvar{B} \coqdocvar{C} : \coqdockw{Type}\} (\coqdocvar{x} : (\coqdocvariable{A}\coqexternalref{:type scope:x '*' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{\ensuremath{\times}}}\coqdocvariable{B}\coqexternalref{:type scope:x '*' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{\ensuremath{\times}}}\coqdocvariable{C}) ): \coqdocvariable{B} := \coqdockw{match} \coqdocvariable{x} \coqdockw{with} \coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvar{\_}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvar{b}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvar{\_}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \ensuremath{\Rightarrow} \coqdocvar{b}\coqdoceol
\coqdocindent{0.50em}
\coqdockw{end}.\coqdoceol
\coqdocemptyline
\end{coqdoccode}
In all calls to handleRequest', the privacy policy has the requested item removed.
\begin{coqdoccode}
\coqdocnoindent
\coqdockw{Lemma} \coqdef{TrueProtoSynth.thm removedFromPrivacyHelper}{thm\_removedFromPrivacyHelper}{\coqdoclemma{thm\_removedFromPrivacyHelper}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{pp} \coqdocvar{d}, \coqexternalref{:type scope:'exists' x '..' x ',' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\exists}}} \coqdocvar{c} \coqdocvar{ri}\coqexternalref{:type scope:'exists' x '..' x ',' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{,}} \coqdoceol
\coqdocindent{0.50em}
\coqref{TrueProtoSynth.handleRequest'}{\coqdocdefinition{handleRequest'}} \coqdocvariable{pp} \coqdocvariable{d} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqref{TrueProtoSynth.rmAllFromPolicy}{\coqdocdefinition{rmAllFromPolicy}} \coqdocvariable{pp} \coqdocvariable{d}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{c}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{ri}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}}.\coqdoceol
\coqdocindent{0.50em}
\coqdockw{Proof}. \coqdoctac{intros}. \coqdoctac{induction} \coqdocvar{pp}. \coqdoctac{simpl}. \coqdoctac{eauto}.\coqdoceol
\coqdocindent{0.50em}
\coqdoctac{simpl}. \coqdoctac{destruct} (\coqdoclemma{eq\_dec\_Description} \coqdocvar{d0} \coqdocvar{d}).\coqdoceol
\coqdocindent{0.50em}
\coqdoctac{destruct} \coqdocvar{r}. \coqdoctac{eexists}. \coqdoctac{eexists}. \coqdoctac{eauto}.\coqdoceol
\coqdocindent{0.50em}
\coqdoctac{eexists}. \coqdoctac{eexists}.\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{eauto}.\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{eexists}. \coqdoctac{eexists}. \coqdoctac{eauto}.\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{destruct} (\coqref{TrueProtoSynth.findandMeasureItem}{\coqdocdefinition{findandMeasureItem}} \coqdocvar{pp} \coqdocvar{d}). \coqdoctac{destruct} \coqdocvar{p}. \coqdoctac{eexists}. \coqdoctac{eexists}. \coqdoctac{eauto}.\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{eexists}. \coqdoctac{eexists}. \coqdoctac{reflexivity}.\coqdoceol
\coqdocindent{1.00em}
\coqdockw{Qed}.\coqdoceol
\coqdocnoindent
\coqdockw{Hint Resolve} \coqdocvar{thm\_removedFromPrivacyHelper}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Lemma} \coqdef{TrueProtoSynth.thm removedFromPrivacyHelper2}{thm\_removedFromPrivacyHelper2}{\coqdoclemma{thm\_removedFromPrivacyHelper2}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{pp} \coqdocvar{d} \coqdocvar{pp'} \coqdocvar{c} \coqdocvar{ri}, \coqdoceol
\coqdocindent{0.50em}
\coqref{TrueProtoSynth.handleRequest'}{\coqdocdefinition{handleRequest'}} \coqdocvariable{pp} \coqdocvariable{d} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvariable{pp'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{c}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{ri}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdoceol
\coqdocindent{0.50em}
\coqdocvariable{pp'} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{(}}\coqref{TrueProtoSynth.rmAllFromPolicy}{\coqdocdefinition{rmAllFromPolicy}} \coqdocvariable{pp} \coqdocvariable{d}\coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{)}}.\coqdoceol
\coqdocindent{0.50em}
\coqdockw{Proof}. \coqdoctac{intros}.\coqdoceol
\coqdocindent{0.50em}
\coqdoctac{destruct} \coqdocvar{pp}. \coqdoctac{simpl}.\coqdoceol
\coqdocindent{0.50em}
\coqdoctac{inversion} \coqdocvar{H}. \coqdoctac{auto}.\coqdoceol
\coqdocindent{0.50em}
\coqdoctac{simpl}.\coqdoceol
\coqdocindent{0.50em}
\coqdoctac{simpl} \coqdoctac{in} \coqdocvar{H}.\coqdoceol
\coqdocindent{0.50em}
\coqdoctac{simpl}. \coqdoctac{destruct} (\coqdoclemma{eq\_dec\_Description} \coqdocvar{d0} \coqdocvar{d}). \coqdoctac{destruct} \coqdocvar{r}.\coqdoceol
\coqdocindent{0.50em}
\coqdoctac{subst}. \coqdoctac{inversion} \coqdocvar{H}; \coqdoctac{subst}. \coqdoctac{reflexivity}.\coqdoceol
\coqdocindent{0.50em}
\coqdoctac{subst}. \coqdoctac{inversion} \coqdocvar{H}; \coqdoctac{subst}. \coqdoctac{reflexivity}.\coqdoceol
\coqdocindent{0.50em}
\coqdoctac{subst}. \coqdoctac{inversion} \coqdocvar{H}; \coqdoctac{subst}. \coqdoctac{reflexivity}.\coqdoceol
\coqdocindent{0.50em}
\coqdoctac{destruct} \coqref{TrueProtoSynth.findandMeasureItem}{\coqdocdefinition{findandMeasureItem}} . \coqdoctac{destruct} \coqdocvar{p}.\coqdoceol
\coqdocindent{0.50em}
\coqdoctac{subst}. \coqdoctac{inversion} \coqdocvar{H}; \coqdoctac{subst}. \coqdoctac{reflexivity}.\coqdoceol
\coqdocindent{0.50em}
\coqdoctac{subst}. \coqdoctac{inversion} \coqdocvar{H}; \coqdoctac{subst}. \coqdoctac{reflexivity}.\coqdoceol
\coqdocindent{0.50em}
\coqdockw{Qed}.\coqdoceol
\coqdocindent{0.50em}
\coqdockw{Hint Resolve} \coqdocvar{thm\_removedFromPrivacyHelper2}.\coqdoceol
\coqdocemptyline
\end{coqdoccode}
If an item has been removed, findAndMeasureItemL will never succeed.\begin{coqdoccode}
\coqdocnoindent
\coqdockw{Theorem} \coqdef{TrueProtoSynth.thm youCantFindit}{thm\_youCantFindit}{\coqdoclemma{thm\_youCantFindit}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{pp} \coqdocvar{d}, \coqref{TrueProtoSynth.findandMeasureItem}{\coqdocdefinition{findandMeasureItem}} (\coqref{TrueProtoSynth.rmAllFromPolicy}{\coqdocdefinition{rmAllFromPolicy}} \coqdocvariable{pp} \coqdocvariable{d}) \coqdocvariable{d} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{None}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{None}}.\coqdoceol
\coqdocnoindent
\coqdockw{Proof}. \coqdoctac{intros}. \coqdoctac{induction} \coqdocvar{pp}. \coqdoctac{auto}.\coqdoceol
\coqdocnoindent
\coqdoctac{simpl}. \coqdoctac{destruct} (\coqdoclemma{eq\_dec\_Description} \coqdocvar{d0} \coqdocvar{d}). \coqdoctac{assumption}.\coqdoceol
\coqdocnoindent
\coqdoctac{simpl}. \coqdoctac{destruct} (\coqdoclemma{eq\_dec\_Description} \coqdocvar{d0} \coqdocvar{d}). \coqdocvar{contradiction}.\coqdoceol
\coqdocnoindent
\coqdoctac{assumption}.\coqdoceol
\coqdocnoindent
\coqdockw{Qed}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Hint Resolve} \coqdocvar{thm\_youCantFindit}.\coqdoceol
\coqdocemptyline
\end{coqdoccode}
After handling a request, subsequest requests of that description will fail.\begin{coqdoccode}
\coqdocnoindent
\coqdockw{Theorem} \coqdef{TrueProtoSynth.thm removedFromPrivacy}{thm\_removedFromPrivacy}{\coqdoclemma{thm\_removedFromPrivacy}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{pp} \coqdocvar{d} \coqdocvar{pp'} \coqdocvar{c} \coqdocvar{ri},\coqdoceol
\coqdocindent{0.50em}
\coqref{TrueProtoSynth.handleRequest'}{\coqdocdefinition{handleRequest'}} \coqdocvariable{pp} \coqdocvariable{d} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvariable{pp'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{c}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{ri}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdoceol
\coqdocindent{0.50em}
\coqref{TrueProtoSynth.findandMeasureItem}{\coqdocdefinition{findandMeasureItem}} \coqdocvariable{pp'} \coqdocvariable{d} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{None}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{None}}.\coqdoceol
\coqdocindent{0.50em}
\coqdockw{Proof}. \coqdoctac{intros}. \coqdoctac{assert} (\coqdocvar{pp'} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqref{TrueProtoSynth.rmAllFromPolicy}{\coqdocdefinition{rmAllFromPolicy}} \coqdocvar{pp} \coqdocvar{d}). \coqdoctac{eauto}.\coqdoceol
\coqdocindent{1.00em}
\coqdoctac{rewrite} \coqdocvar{H0}. \coqdoctac{eauto}.\coqdoceol
\coqdocindent{0.50em}
\coqdockw{Qed}.\coqdoceol
\coqdocnoindent
\coqdockw{Hint Resolve} \coqdocvar{thm\_removedFromPrivacy}.\coqdoceol
\coqdocemptyline
\end{coqdoccode}
 The main purpose of this function is to 
  1. open up the state
  2. call handleRequest'
  3. give us a new state with: 
         a. the toSendMESSAGE variable set to the result of calling handleRequest'.
         b. appended the new requirment to our unresolved state.
         c. the reduced privacy policy


 \begin{coqdoccode}
\coqdocnoindent
\coqdockw{Definition} \coqdef{TrueProtoSynth.handleRequestST}{handleRequestST}{\coqdocdefinition{handleRequestST}} (\coqdocvar{st}: \coqdocinductive{State}) (\coqdocvar{d}: \coqdocinductive{Description}) := \coqdockw{match} \coqdocvariable{st} \coqdockw{with}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{state} \coqdocvar{vars} \coqdocvar{prostate} \ensuremath{\Rightarrow} \coqdockw{match} \coqdocvar{prostate} \coqdockw{with}\coqdoceol
\coqdocindent{2.50em}
\ensuremath{|} \coqdocconstructor{proState} \coqdocvar{a} \coqdocvar{g} \coqdocvar{p} \coqdocvar{pp} \coqdocvar{b} \coqdocvar{unres} \coqdocvar{dls} \ensuremath{\Rightarrow} \coqdockw{match}(\coqref{TrueProtoSynth.handleRequest'}{\coqdocdefinition{handleRequest'}} \coqdocvar{pp} \coqdocvariable{d}) \coqdockw{with} \coqdoceol
\coqdocindent{16.00em}
\ensuremath{|} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvar{pp'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvar{c}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvar{ri}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \ensuremath{\Rightarrow} \coqdocconstructor{state} (\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocconstructor{toSendMESSAGE}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvar{c}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}}\coqexternalref{:list scope:x '::' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{::}}\coqdocvar{vars}) (\coqdocconstructor{proState} \coqdocvar{a} \coqdocvar{g} \coqdocvar{p} \coqdocvar{pp'} \coqdocvar{b} (\coqdocconstructor{ConsRequestLS} \coqdocvar{ri} \coqdocvar{unres}) \coqdocvar{dls})\coqdoceol
\coqdocindent{25.00em}
\coqdoceol
\coqdocindent{15.00em}
\coqdockw{end}\coqdoceol
\coqdocnoindent
\coqdockw{end}\coqdoceol
\coqdocnoindent
\coqdockw{end}.\coqdoceol
\coqdocemptyline
\coqdocindent{0.50em}
\coqdockw{Definition} \coqdef{TrueProtoSynth.canSend}{canSend}{\coqdocdefinition{canSend}} (\coqdocvar{ls} : \coqexternalref{list}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocinductive{list}} \coqdocinductive{Description}) (\coqdocvar{priv} : \coqdocinductive{PrivacyPolicy}) : \coqexternalref{option}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocinductive{option}} \coqdocinductive{Description} :=\coqdoceol
\coqdocnoindent
(\coqdockw{match} \coqdocvariable{ls} \coqdockw{with}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqexternalref{nil}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{nil}} \ensuremath{\Rightarrow} \coqexternalref{None}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{None}}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqexternalref{cons}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{cons}} \coqdocvar{d} \coqdocvar{ds} \ensuremath{\Rightarrow} \coqdoceol
\coqdocindent{1.50em}
(\coqdockw{match} (\coqref{TrueProtoSynth.handleRequest'}{\coqdocdefinition{handleRequest'}} \coqdocvariable{priv} \coqdocvar{d}) \coqdockw{with} \coqdoceol
\coqdocindent{2.50em}
\ensuremath{|} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvar{\_}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocconstructor{constValue} \coqdocvar{d} \coqdocvar{\_}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvar{\_}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \ensuremath{\Rightarrow} \coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} \coqdocvar{d}  \coqdoceol
\coqdocindent{2.50em}
\ensuremath{|} \coqdocvar{\_} \ensuremath{\Rightarrow} \coqexternalref{None}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{None}}\coqdoceol
\coqdocindent{2.50em}
\coqdockw{end})\coqdoceol
\coqdocnoindent
\coqdockw{end}).\coqdoceol
\coqdocemptyline
\end{coqdoccode}
This Theorem ensures that we are, in fact, returning the head of the 
request list, if we canSend.
\begin{coqdoccode}
\coqdocnoindent
\coqdockw{Theorem} \coqdef{TrueProtoSynth.thm canSendL}{thm\_canSendL}{\coqdoclemma{thm\_canSendL}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{pp} \coqdocvar{ls} \coqdocvar{d}, \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{(}}\coqref{TrueProtoSynth.canSend}{\coqdocdefinition{canSend}} \coqdocvariable{ls} \coqdocvariable{pp} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} \coqdocvariable{d} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{)->}} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{(}}\coqexternalref{head}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List}{\coqdocabbreviation{head}} \coqdocvariable{ls}\coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{)}} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}}\coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}}  \coqdocvariable{d}.\coqdoceol
\coqdocnoindent
\coqdockw{Proof}. \coqdoctac{intros}. \coqdoctac{destruct} \coqdocvar{ls}. \coqdocvar{inv} \coqdocvar{H}. \coqdoctac{simpl} \coqdoctac{in} \coqdocvar{H}.\coqdoceol
\coqdocnoindent
\coqdoctac{simpl}.\coqdoceol
\coqdocnoindent
\coqdoctac{destruct} (\coqref{TrueProtoSynth.handleRequest'}{\coqdocdefinition{handleRequest'}} \coqdocvar{pp} \coqdocvar{d0}) \coqdocvar{eqn}:\coqdocvar{hh}. \coqdoctac{destruct} \coqdocvar{p}. \coqdoctac{destruct} \coqdocvar{c}.\coqdoceol
\coqdocnoindent
\coqdocvar{inv} \coqdocvar{H}.\coqdoceol
\coqdocindent{0.50em}
\coqdoctac{assert} (\coqdocvar{d0} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqdocvar{d}). \coqdoctac{eapply} \coqref{TrueProtoSynth.thm handleRequestL}{\coqdoclemma{thm\_handleRequestL}}.\coqdoceol
\coqdocnoindent
\coqdoctac{eauto}. \coqdoctac{subst}. \coqdoctac{auto}. \coqdocvar{inv} \coqdocvar{H}. \coqdocvar{inv} \coqdocvar{H}.\coqdoceol
\coqdocnoindent
\coqdockw{Qed}.\coqdoceol
\coqdocnoindent
\coqdockw{Hint Resolve} \coqdocvar{thm\_canSendL}.\coqdoceol
\coqdocemptyline
\end{coqdoccode}
Simply sugar for call canSend. This one extracts the important bits from the state \begin{coqdoccode}
\coqdocnoindent
\coqdockw{Definition} \coqdef{TrueProtoSynth.canSendST}{canSendST}{\coqdocdefinition{canSendST}} (\coqdocvar{st} : \coqdocinductive{State}) : \coqexternalref{option}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocinductive{option}} \coqdocinductive{Description} :=\coqdoceol
\coqdocnoindent
\coqdockw{match} \coqdocvariable{st} \coqdockw{with}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{state} \coqdocvar{vars} \coqdocvar{prostate} \ensuremath{\Rightarrow} \coqdockw{match} \coqdocvar{prostate} \coqdockw{with}\coqdoceol
\coqdocindent{13.50em}
\ensuremath{|} \coqdocconstructor{proState} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{pp} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{ls} \ensuremath{\Rightarrow}  \coqref{TrueProtoSynth.canSend}{\coqdocdefinition{canSend}} \coqdocvar{ls} \coqdocvar{pp}\coqdoceol
\coqdocindent{13.00em}
\coqdockw{end}\coqdoceol
\coqdocnoindent
\coqdockw{end}.\coqdoceol
\coqdocemptyline
\end{coqdoccode}
Sugar for assigning a value to a variable in a state.\begin{coqdoccode}
\coqdocnoindent
\coqdockw{Definition} \coqdef{TrueProtoSynth.assign}{assign}{\coqdocdefinition{assign}} (\coqdocvar{var} : \coqdocinductive{VarID}) (\coqdocvar{val} : \coqdocinductive{Const}) (\coqdocvar{st} : \coqdocinductive{State}) :=\coqdoceol
\coqdocindent{1.00em}
\coqdockw{match} \coqdocvariable{st} \coqdockw{with}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{state} \coqdocvar{varls} \coqdocvar{prostate} \ensuremath{\Rightarrow} \coqdocconstructor{state} (\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvariable{var}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{val}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}}\coqexternalref{:list scope:x '::' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{::}}\coqdocvar{varls}) \coqdocvar{prostate}\coqdoceol
\coqdocnoindent
\coqdockw{end}.\coqdoceol
\coqdocemptyline
\end{coqdoccode}
Simply checks if it is my turn to send or not. \begin{coqdoccode}
\coqdocnoindent
\coqdockw{Definition} \coqdef{TrueProtoSynth.isMyTurn}{isMyTurn}{\coqdocdefinition{isMyTurn}} (\coqdocvar{st} : \coqdocinductive{State}) : \coqexternalref{bool}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocinductive{bool}} :=\coqdoceol
\coqdocnoindent
\coqdockw{match} \coqdocvariable{st} \coqdockw{with}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{state} \coqdocvar{vs} \coqdocvar{ps} \ensuremath{\Rightarrow} (\coqdockw{match} \coqdocvar{ps} \coqdockw{with}\coqdoceol
\coqdocindent{2.50em}
\ensuremath{|} \coqdocconstructor{proState} \coqdocvar{a} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_} \ensuremath{\Rightarrow} (\coqdockw{match} \coqdocvar{a} \coqdockw{with}\coqdoceol
\coqdocindent{16.50em}
\ensuremath{|} \coqdocconstructor{ASend} \ensuremath{\Rightarrow} \coqexternalref{true}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{true}}\coqdoceol
\coqdocindent{16.50em}
\ensuremath{|} \coqdocconstructor{AReceive} \ensuremath{\Rightarrow} \coqexternalref{false}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{false}}\coqdoceol
\coqdocindent{16.00em}
\coqdockw{end})\coqdoceol
\coqdocindent{2.50em}
\coqdockw{end})\coqdoceol
\coqdocnoindent
\coqdockw{end}.\coqdoceol
\coqdocemptyline
\coqdocemptyline
\end{coqdoccode}
Simply checks to see if a queued up request exists.
In other words, is someone waiting for something from me?
\begin{coqdoccode}
\coqdocnoindent
\coqdockw{Definition} \coqdef{TrueProtoSynth.queuedRequestsExist}{queuedRequestsExist}{\coqdocdefinition{queuedRequestsExist}} (\coqdocvar{st} : \coqdocinductive{State}) := \coqdoceol
\coqdocnoindent
\coqdockw{match} \coqdocvariable{st} \coqdockw{with}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{state} \coqdocvar{vs} \coqdocvar{ps} \ensuremath{\Rightarrow} \coqdockw{match} \coqdocvar{ps} \coqdockw{with}\coqdoceol
\coqdocindent{3.50em}
\ensuremath{|} \coqdocconstructor{proState} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_}  \coqexternalref{nil}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{nil}} \ensuremath{\Rightarrow} \coqexternalref{false}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{false}}\coqdoceol
\coqdocindent{3.50em}
\ensuremath{|} \coqdocconstructor{proState} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_} \ensuremath{\Rightarrow} \coqexternalref{true}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{true}}\coqdoceol
\coqdocindent{4.00em}
\coqdockw{end}\coqdoceol
\coqdocindent{0.50em}
\coqdockw{end}.\coqdoceol
\coqdocemptyline
\end{coqdoccode}
Simply checks if a next desire exists. Checks if there ar more requests
I would like to make of the other party.
\begin{coqdoccode}
\coqdocnoindent
\coqdockw{Definition} \coqdef{TrueProtoSynth.existsNextDesire}{existsNextDesire}{\coqdocdefinition{existsNextDesire}} (\coqdocvar{st} : \coqdocinductive{State}) :=\coqdoceol
\coqdocnoindent
\coqdockw{match} \coqdocvariable{st} \coqdockw{with}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{state} \coqdocvar{\_} \coqdocvar{ps} \ensuremath{\Rightarrow}\coqdockw{match} \coqdocvar{ps} \coqdockw{with}\coqdoceol
\coqdocindent{6.00em}
\ensuremath{|} \coqdocconstructor{proState} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{wants} \coqdocvar{\_} \coqdocvar{\_} \ensuremath{\Rightarrow}\coqdockw{match} \coqdocvar{wants} \coqdockw{with}\coqdoceol
\coqdocindent{14.50em}
\ensuremath{|} \coqdocconstructor{emptyRequestLS} \ensuremath{\Rightarrow} \coqexternalref{false}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{false}}\coqdoceol
\coqdocindent{14.50em}
\ensuremath{|} \coqdocconstructor{ConsRequestLS} \coqdocvar{x} \coqdocvar{x0} \ensuremath{\Rightarrow} \coqexternalref{true}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{true}}\coqdoceol
\coqdocindent{14.00em}
\coqdockw{end}\coqdoceol
\coqdocindent{6.00em}
\coqdockw{end}\coqdoceol
\coqdocnoindent
\coqdockw{end}.\coqdoceol
\coqdocemptyline
\end{coqdoccode}
This is a biggie. This function determines how to handle evaluation of a condition into bool or false.
\begin{coqdoccode}
\coqdocnoindent
\coqdockw{Fixpoint} \coqdef{TrueProtoSynth.evalChoose}{evalChoose}{\coqdocdefinition{evalChoose}} (\coqdocvar{cond} : \coqdocinductive{Condition}) (\coqdocvar{st}: \coqdocinductive{State}) : \coqexternalref{bool}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocinductive{bool}} :=\coqdoceol
\coqdocindent{0.50em}
(\coqdockw{match} \coqdocvariable{st} \coqdockw{with}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{state} \coqdocvar{varst} \coqdocvar{prostate} \ensuremath{\Rightarrow} (\coqdockw{match} \coqdocvar{prostate} \coqdockw{with}\coqdoceol
\coqdocindent{3.00em}
\ensuremath{|} \coqdocconstructor{proState} \coqdocvar{act} \coqdocvar{g} \coqdocvar{p} \coqdocvar{pp} \coqdocvar{toReq} \coqdocvar{unres} \coqdocvar{ls} \ensuremath{\Rightarrow} (\coqdockw{match} \coqdocvariable{cond} \coqdockw{with}\coqdoceol
\coqdocindent{7.50em}
\ensuremath{|} \coqdocconstructor{IsMyTurntoSend} \ensuremath{\Rightarrow} \coqref{TrueProtoSynth.isMyTurn}{\coqdocdefinition{isMyTurn}} \coqdocvariable{st}\coqdoceol
\coqdocindent{7.50em}
\ensuremath{|} \coqdocconstructor{QueuedRequestsExist} \ensuremath{\Rightarrow} \coqref{TrueProtoSynth.queuedRequestsExist}{\coqdocdefinition{queuedRequestsExist}} \coqdocvariable{st}\coqdoceol
\coqdocindent{7.50em}
\ensuremath{|} \coqdocconstructor{ExistsNextDesire} \ensuremath{\Rightarrow} \coqref{TrueProtoSynth.existsNextDesire}{\coqdocdefinition{existsNextDesire}} \coqdocvariable{st}\coqdoceol
\coqdocindent{7.50em}
\ensuremath{|} \coqdocconstructor{CanSend} \ensuremath{\Rightarrow} (\coqdockw{match} (\coqref{TrueProtoSynth.canSend}{\coqdocdefinition{canSend}} \coqdocvar{ls} \coqdocvar{pp}) \coqdockw{with} \coqdoceol
\coqdocindent{10.50em}
\ensuremath{|} \coqexternalref{None}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{None}} \ensuremath{\Rightarrow} \coqexternalref{false}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{false}}\coqdoceol
\coqdocindent{10.50em}
\ensuremath{|} \coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} \coqdocvar{\_} \ensuremath{\Rightarrow} \coqexternalref{true}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{true}}\coqdoceol
\coqdocindent{10.50em}
\coqdockw{end})\coqdoceol
\coqdocindent{7.50em}
\ensuremath{|} \coqdocconstructor{IsSend} \ensuremath{\Rightarrow} (\coqdockw{match} \coqdocvar{act} \coqdockw{with}\coqdoceol
\coqdocindent{9.50em}
\ensuremath{|} \coqdocconstructor{ASend} \ensuremath{\Rightarrow} \coqexternalref{true}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{true}}\coqdoceol
\coqdocindent{9.50em}
\ensuremath{|} \coqdocconstructor{AReceive} \ensuremath{\Rightarrow} \coqexternalref{false}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{false}}\coqdoceol
\coqdocindent{9.50em}
\coqdockw{end})\coqdoceol
\coqdocnoindent
\coqdoceol
\coqdocindent{7.50em}
\ensuremath{|} \coqdocconstructor{IsMeasurement} \coqdocvar{term} \ensuremath{\Rightarrow} (\coqdockw{match} (\coqref{TrueProtoSynth.varSubst}{\coqdocdefinition{varSubst}} \coqdocvar{term} \coqdocvariable{st}) \coqdockw{with}\coqdoceol
\coqdocindent{10.00em}
\ensuremath{|} \coqexternalref{None}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{None}} \ensuremath{\Rightarrow} \coqexternalref{false}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{false}}\coqdoceol
\coqdocindent{10.00em}
\ensuremath{|} \coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} (\coqdocconstructor{constValue} \coqdocvar{\_} \coqdocvar{\_}) \ensuremath{\Rightarrow} \coqexternalref{true}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{true}}\coqdoceol
\coqdocindent{10.00em}
\ensuremath{|} \coqdocvar{\_} \ensuremath{\Rightarrow} \coqexternalref{false}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{false}}\coqdoceol
\coqdocindent{10.00em}
\coqdockw{end})\coqdoceol
\coqdocindent{7.50em}
\ensuremath{|} \coqdocconstructor{IsRequest} \coqdocvar{term} \ensuremath{\Rightarrow} (\coqdockw{match} (\coqref{TrueProtoSynth.varSubst}{\coqdocdefinition{varSubst}} \coqdocvar{term} \coqdocvariable{st}) \coqdockw{with}\coqdoceol
\coqdocindent{10.00em}
\ensuremath{|} \coqexternalref{None}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{None}} \ensuremath{\Rightarrow} \coqexternalref{false}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{false}}\coqdoceol
\coqdocindent{10.00em}
\ensuremath{|} \coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} (\coqdocconstructor{constRequest} \coqdocvar{\_}) \ensuremath{\Rightarrow} \coqexternalref{true}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{true}}\coqdoceol
\coqdocindent{10.00em}
\ensuremath{|} \coqdocvar{\_} \ensuremath{\Rightarrow} \coqexternalref{false}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{false}}\coqdoceol
\coqdocindent{10.00em}
\coqdockw{end})\coqdoceol
\coqdocindent{7.50em}
\ensuremath{|} \coqdocconstructor{IsStop} \coqdocvar{term} \ensuremath{\Rightarrow} (\coqdockw{match} (\coqref{TrueProtoSynth.varSubst}{\coqdocdefinition{varSubst}} \coqdocvar{term} \coqdocvariable{st}) \coqdockw{with}\coqdoceol
\coqdocindent{10.00em}
\ensuremath{|} \coqexternalref{None}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{None}} \ensuremath{\Rightarrow} \coqexternalref{false}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{false}}\coqdoceol
\coqdocindent{10.00em}
\ensuremath{|} \coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} \coqdocconstructor{constStop} \ensuremath{\Rightarrow} \coqexternalref{true}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{true}}\coqdoceol
\coqdocindent{10.00em}
\ensuremath{|} \coqdocvar{\_} \ensuremath{\Rightarrow} \coqexternalref{false}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{false}}\coqdoceol
\coqdocindent{10.00em}
\coqdockw{end})\coqdoceol
\coqdocindent{7.50em}
\ensuremath{|} \coqdocconstructor{IsAllGood} \ensuremath{\Rightarrow} (\coqdockw{match} \coqdocvariable{st} \coqdockw{with}\coqdoceol
\coqdocindent{14.50em}
\ensuremath{|} \coqdocconstructor{state} \coqdocvar{vars} \coqdocvar{ps} \ensuremath{\Rightarrow} (\coqdockw{match} \coqdocvar{ps} \coqdockw{with}\coqdoceol
\coqdocindent{15.50em}
\ensuremath{|} \coqdocconstructor{proState} \coqdocvar{x} \coqdocvar{g} \coqdocvar{x1} \coqdocvar{x2} \coqdocvar{x3} \coqdocvar{x4} \coqdocvar{x5} \ensuremath{\Rightarrow} \coqdoceol
\coqdocindent{17.00em}
(\coqdockw{match} \coqdocvar{g} \coqdockw{with}\coqdoceol
\coqdocindent{17.50em}
\ensuremath{|} \coqdocconstructor{Yes} \ensuremath{\Rightarrow} \coqexternalref{true}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{true}} \coqdoceol
\coqdocindent{17.50em}
\ensuremath{|} \coqdocconstructor{No} \ensuremath{\Rightarrow} \coqexternalref{false}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{false}}\coqdoceol
\coqdocindent{17.50em}
\ensuremath{|} \coqdocconstructor{Unset} \ensuremath{\Rightarrow} \coqexternalref{false}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{false}}\coqdoceol
\coqdocindent{18.00em}
\coqdockw{end})\coqdoceol
\coqdocindent{15.00em}
\coqdockw{end})\coqdoceol
\coqdocindent{14.00em}
\coqdockw{end})\coqdoceol
\coqdocindent{7.50em}
\coqdockw{end}) \coqdoceol
\coqdocindent{3.00em}
\coqdockw{end})\coqdoceol
\coqdocnoindent
\coqdoceol
\coqdocnoindent
\coqdockw{end})\coqdoceol
\coqdocnoindent
.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Fixpoint} \coqdef{TrueProtoSynth.receiveMess}{receiveMess}{\coqdocdefinition{receiveMess}} (\coqdocvar{n} : \coqdocdefinition{Network}) (\coqdocvar{p} : \coqdocinductive{Participant}) : \coqexternalref{option}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocinductive{option}} \coqdocinductive{Const} :=\coqdoceol
\coqdocnoindent
\coqdockw{match} \coqdocvariable{n} \coqdockw{with} \coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqexternalref{nil}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{nil}} \ensuremath{\Rightarrow} \coqexternalref{None}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{None}}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqexternalref{cons}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{cons}} \coqdocvar{m} \coqdocvar{ls} \ensuremath{\Rightarrow} \coqdockw{match} \coqdocvar{m} \coqdockw{with} \coqdoceol
\coqdocindent{8.00em}
\ensuremath{|} \coqdocconstructor{networkMessage} \coqdocvar{from} \coqdocvar{to} \coqdocvar{c} \ensuremath{\Rightarrow} \coqdockw{match} \coqdoclemma{eq\_dec\_Participant} \coqdocvariable{p} \coqdocvar{to} \coqdockw{with} \coqdoceol
\coqdocindent{10.00em}
\ensuremath{|} \coqexternalref{left}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif}{\coqdocconstructor{left}} \coqdocvar{\_} \ensuremath{\Rightarrow} \coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} \coqdocvar{c}\coqdoceol
\coqdocindent{10.00em}
\ensuremath{|} \coqexternalref{right}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif}{\coqdocconstructor{right}} \coqdocvar{\_} \ensuremath{\Rightarrow}  \coqref{TrueProtoSynth.receiveMess}{\coqdocdefinition{receiveMess}} \coqdocvar{ls} \coqdocvariable{p}\coqdoceol
\coqdocindent{10.00em}
\coqdockw{end} \coqdoceol
\coqdocindent{8.00em}
\coqdockw{end}\coqdoceol
\coqdocnoindent
\coqdockw{end}.\coqdoceol
\coqdocemptyline
\end{coqdoccode}
Removes the message from the networ, IF one exists. \begin{coqdoccode}
\coqdocnoindent
\coqdockw{Fixpoint} \coqdef{TrueProtoSynth.rmMess}{rmMess}{\coqdocdefinition{rmMess}} (\coqdocvar{n} : \coqdocdefinition{Network}) (\coqdocvar{p} : \coqdocinductive{Participant}) : \coqdocdefinition{Network} :=\coqdoceol
\coqdocindent{0.50em}
\coqdockw{match} \coqdocvariable{n} \coqdockw{with} \coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqexternalref{nil}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{nil}} \ensuremath{\Rightarrow} \coqexternalref{nil}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{nil}}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqexternalref{cons}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{cons}} \coqdocvar{m} \coqdocvar{ls} \ensuremath{\Rightarrow} \coqdockw{match} \coqdocvar{m} \coqdockw{with} \coqdoceol
\coqdocindent{8.00em}
\ensuremath{|} \coqdocconstructor{networkMessage} \coqdocvar{from} \coqdocvar{to} \coqdocvar{c} \ensuremath{\Rightarrow} \coqdockw{match} \coqdoclemma{eq\_dec\_Participant} \coqdocvariable{p} \coqdocvar{to} \coqdockw{with} \coqdoceol
\coqdocindent{10.00em}
\ensuremath{|} \coqexternalref{left}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif}{\coqdocconstructor{left}} \coqdocvar{\_} \ensuremath{\Rightarrow}  \coqdocvar{ls}\coqdoceol
\coqdocindent{10.00em}
\ensuremath{|} \coqexternalref{right}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif}{\coqdocconstructor{right}} \coqdocvar{\_} \ensuremath{\Rightarrow}  \coqdocvar{m} \coqexternalref{:list scope:x '::' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{::}} \coqexternalref{:list scope:x '::' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqref{TrueProtoSynth.rmMess}{\coqdocdefinition{rmMess}} \coqdocvar{ls} \coqdocvariable{p}\coqexternalref{:list scope:x '::' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}}\coqdoceol
\coqdocindent{10.00em}
\coqdockw{end} \coqdoceol
\coqdocindent{8.00em}
\coqdockw{end}\coqdoceol
\coqdocnoindent
\coqdockw{end}.\coqdoceol
\coqdocnoindent
\coqdockw{Fixpoint} \coqdef{TrueProtoSynth.existsMessageForMe}{existsMessageForMe}{\coqdocdefinition{existsMessageForMe}} (\coqdocvar{n} : \coqdocdefinition{Network}) (\coqdocvar{p} : \coqdocinductive{Participant}) : \coqdockw{Prop} :=\coqdoceol
\coqdocindent{0.50em}
\coqdockw{match} \coqdocvariable{n} \coqdockw{with} \coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqexternalref{nil}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{nil}} \ensuremath{\Rightarrow} \coqexternalref{False}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocinductive{False}}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqexternalref{cons}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{cons}} \coqdocvar{m} \coqdocvar{ls} \ensuremath{\Rightarrow} \coqdockw{match} \coqdocvar{m} \coqdockw{with} \coqdoceol
\coqdocindent{8.00em}
\ensuremath{|} \coqdocconstructor{networkMessage} \coqdocvar{from} \coqdocvar{to} \coqdocvar{c} \ensuremath{\Rightarrow} \coqdockw{match} \coqdoclemma{eq\_dec\_Participant} \coqdocvariable{p} \coqdocvar{to} \coqdockw{with} \coqdoceol
\coqdocindent{10.00em}
\ensuremath{|} \coqexternalref{left}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif}{\coqdocconstructor{left}} \coqdocvar{\_} \ensuremath{\Rightarrow}  \coqexternalref{True}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocinductive{True}}\coqdoceol
\coqdocindent{10.00em}
\ensuremath{|} \coqexternalref{right}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Specif}{\coqdocconstructor{right}} \coqdocvar{\_} \ensuremath{\Rightarrow}  (\coqref{TrueProtoSynth.existsMessageForMe}{\coqdocdefinition{existsMessageForMe}} \coqdocvar{ls} \coqdocvariable{p})\coqdoceol
\coqdocindent{10.00em}
\coqdockw{end} \coqdoceol
\coqdocindent{8.00em}
\coqdockw{end}\coqdoceol
\coqdocnoindent
\coqdockw{end}.\coqdoceol
\coqdocnoindent
\coqdockw{Require} \coqdockw{Import} \coqexternalref{}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.omega.Omega}{\coqdoclibrary{Omega}}.\coqdoceol
\coqdocnoindent
\coqdockw{Lemma} \coqdef{TrueProtoSynth.thm rmMessSmallerL}{thm\_rmMessSmallerL}{\coqdoclemma{thm\_rmMessSmallerL}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{n} \coqdocvar{p}, \coqref{TrueProtoSynth.existsMessageForMe}{\coqdocdefinition{existsMessageForMe}} \coqdocvariable{n} \coqdocvariable{p}  \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqexternalref{S}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{S}} (\coqexternalref{length}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List}{\coqdocabbreviation{length}}  (\coqref{TrueProtoSynth.rmMess}{\coqdocdefinition{rmMess}} \coqdocvariable{n} \coqdocvariable{p}))\coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{length}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List}{\coqdocabbreviation{length}} \coqdocvariable{n}.\coqdoceol
\coqdocnoindent
\coqdockw{Proof}. \coqdoctac{intros}. \coqdoctac{induction} \coqdocvar{n}. \coqdoctac{simpl} \coqdoctac{in} \coqdocvar{H}. \coqdoctac{tauto}.\coqdoceol
\coqdocnoindent
\coqdoctac{simpl}. \coqdoctac{destruct} \coqdocvar{a}. \coqdoctac{destruct} (\coqdoclemma{eq\_dec\_Participant} \coqdocvar{p} \coqdocvar{p1}) \coqdocvar{eqn}:\coqdocvar{hh}. \coqdoctac{auto}.\coqdoceol
\coqdocnoindent
\coqdoctac{simpl}.\coqdoceol
\coqdocnoindent
\coqdoctac{simpl} \coqdoctac{in} \coqdocvar{H}. \coqdoctac{rewrite} \coqdocvar{hh} \coqdoctac{in} \coqdocvar{H}. \coqdoctac{rewrite} \coqdocvar{IHn}. \coqdoctac{auto}. \coqdoctac{auto}.\coqdoceol
\coqdocnoindent
\coqdockw{Qed}.\coqdoceol
\coqdocnoindent
\coqdockw{Hint Resolve} \coqdocvar{thm\_rmMessSmallerL}.\coqdoceol
\coqdocemptyline
\end{coqdoccode}
Receive, getting a message for me if there is one, None otherwise. 
Upon successful receive, remove the message from the network.
\begin{coqdoccode}
\coqdocnoindent
\coqdockw{Fixpoint} \coqdef{TrueProtoSynth.receiveN}{receiveN}{\coqdocdefinition{receiveN}} (\coqdocvar{n} : \coqdocdefinition{Network}) (\coqdocvar{p} : \coqdocinductive{Participant}) : \coqexternalref{option}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocinductive{option}} (\coqdocinductive{Const}\coqexternalref{:type scope:x '*' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{\ensuremath{\times}}}\coqdocdefinition{Network}) :=\coqdoceol
\coqdocnoindent
\coqdockw{match} (\coqref{TrueProtoSynth.receiveMess}{\coqdocdefinition{receiveMess}} \coqdocvariable{n} \coqdocvariable{p}) \coqdockw{with} \coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqexternalref{None}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{None}} \ensuremath{\Rightarrow} \coqexternalref{None}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{None}}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} \coqdocvar{c} \ensuremath{\Rightarrow} \coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvar{c}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqref{TrueProtoSynth.rmMess}{\coqdocdefinition{rmMess}} \coqdocvariable{n} \coqdocvariable{p}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}}\coqdoceol
\coqdocnoindent
\coqdockw{end}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Require} \coqdockw{Import} \coqexternalref{}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.omega.Omega}{\coqdoclibrary{Omega}}.\coqdoceol
\coqdocnoindent
\coqdockw{Theorem} \coqdef{TrueProtoSynth.thm receivingShrinks'}{thm\_receivingShrinks'}{\coqdoclemma{thm\_receivingShrinks'}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{c} \coqdocvar{n} \coqdocvar{p}, \coqref{TrueProtoSynth.receiveMess}{\coqdocdefinition{receiveMess}} \coqdocvariable{n} \coqdocvariable{p} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} \coqdocvariable{c} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdoceol
\coqdocnoindent
\coqexternalref{length}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List}{\coqdocabbreviation{length}} \coqdocvariable{n} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{length}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List}{\coqdocabbreviation{length}} (\coqref{TrueProtoSynth.rmMess}{\coqdocdefinition{rmMess}} \coqdocvariable{n} \coqdocvariable{p}) \coqexternalref{:nat scope:x '+' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Peano}{\coqdocnotation{+}} 1.\coqdoceol
\coqdocnoindent
\coqdockw{Proof}. \coqdoctac{intros}.\coqdoceol
\coqdocnoindent
\coqdoctac{induction} \coqdocvar{n}. \coqdoctac{inversion} \coqdocvar{H}.\coqdoceol
\coqdocnoindent
\coqdoctac{simpl} \coqdoctac{in} \coqdocvar{H}.\coqdoceol
\coqdocnoindent
\coqdoctac{destruct} \coqdocvar{a}.\coqdoceol
\coqdocnoindent
\coqdoctac{simpl}. \coqdoctac{simpl} \coqdoctac{in} \coqdocvar{H}.\coqdoceol
\coqdocnoindent
\coqdoctac{destruct} (\coqdoclemma{eq\_dec\_Participant} \coqdocvar{p} \coqdocvar{p1}). \coqdoctac{subst}. \coqdoctac{inversion} \coqdocvar{H}; \coqdoctac{subst}. \coqdoctac{omega}.\coqdoceol
\coqdocindent{1.50em}
\coqdoctac{simpl}. \coqdoctac{rewrite} \coqdocvar{IHn}. \coqdoctac{auto}. \coqdoctac{auto}.\coqdoceol
\coqdocnoindent
\coqdockw{Qed}.\coqdoceol
\coqdocnoindent
\coqdockw{Hint Resolve} \coqdocvar{thm\_receivingShrinks'}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Lemma} \coqdef{TrueProtoSynth.thm receiveN receiveMess}{thm\_receiveN\_receiveMess}{\coqdoclemma{thm\_receiveN\_receiveMess}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{c} \coqdocvar{n} \coqdocvar{p}, \coqdoceol
\coqdocindent{0.50em}
\coqref{TrueProtoSynth.receiveN}{\coqdocdefinition{receiveN}} \coqdocvariable{n} \coqdocvariable{p} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvariable{c}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqref{TrueProtoSynth.rmMess}{\coqdocdefinition{rmMess}} \coqdocvariable{n} \coqdocvariable{p}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqexternalref{:type scope:x '<->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\leftrightarrow}}} \coqref{TrueProtoSynth.receiveMess}{\coqdocdefinition{receiveMess}} \coqdocvariable{n} \coqdocvariable{p} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} \coqdocvariable{c}.\coqdoceol
\coqdocnoindent
\coqdockw{Proof}. \coqdoctac{intros}. \coqdoctac{split}; \coqdoctac{intros}. \coqdoctac{induction} \coqdocvar{n}; \coqdoctac{intros}. \coqdocvar{inv} \coqdocvar{H}.\coqdoceol
\coqdocnoindent
\coqdoctac{simpl}. \coqdoctac{destruct} \coqdocvar{a}. \coqdoctac{destruct} (\coqdoclemma{eq\_dec\_Participant} \coqdocvar{p} \coqdocvar{p1}) \coqdocvar{eqn}:\coqdocvar{hh}.\coqdoceol
\coqdocnoindent
\coqdoctac{simpl} \coqdoctac{in} \coqdocvar{H}. \coqdoctac{rewrite} \coqdocvar{hh} \coqdoctac{in} \coqdocvar{H}. \coqdocvar{inv} \coqdocvar{H}. \coqdoctac{auto}.\coqdoceol
\coqdocnoindent
\coqdoctac{simpl} \coqdoctac{in} \coqdocvar{H}. \coqdoctac{rewrite} \coqdocvar{hh} \coqdoctac{in} \coqdocvar{H}. \coqdoctac{destruct} (\coqref{TrueProtoSynth.receiveMess}{\coqdocdefinition{receiveMess}} \coqdocvar{n} \coqdocvar{p}). \coqdocvar{inv} \coqdocvar{H}. \coqdoctac{auto}.\coqdoceol
\coqdocnoindent
\coqdocvar{inv} \coqdocvar{H}.\coqdoceol
\coqdocnoindent
\coqdoctac{induction} \coqdocvar{n}. \coqdocvar{inv} \coqdocvar{H}.\coqdoceol
\coqdocnoindent
\coqdoctac{simpl}. \coqdoctac{simpl} \coqdoctac{in} \coqdocvar{H}. \coqdoctac{destruct} \coqdocvar{a}. \coqdoctac{destruct} (\coqdoclemma{eq\_dec\_Participant} \coqdocvar{p} \coqdocvar{p1}) \coqdocvar{eqn}:\coqdocvar{hh}.\coqdoceol
\coqdocnoindent
\coqdocvar{inv} \coqdocvar{H}. \coqdoctac{auto}.\coqdoceol
\coqdocnoindent
\coqdoctac{simpl} \coqdoctac{in} \coqdocvar{H}. \coqdoctac{destruct} (\coqref{TrueProtoSynth.receiveMess}{\coqdocdefinition{receiveMess}} \coqdocvar{n} \coqdocvar{p}). \coqdocvar{inv} \coqdocvar{H}. \coqdoctac{auto}.\coqdoceol
\coqdocnoindent
\coqdocvar{inv} \coqdocvar{H}.\coqdoceol
\coqdocnoindent
\coqdockw{Qed}.\coqdoceol
\coqdocnoindent
\coqdockw{Hint Resolve} \coqdocvar{thm\_receiveN\_receiveMess}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Theorem} \coqdef{TrueProtoSynth.thm receiveN NewNetworkrmMessage}{thm\_receiveN\_NewNetworkrmMessage}{\coqdoclemma{thm\_receiveN\_NewNetworkrmMessage}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{c} \coqdocvar{n} \coqdocvar{n'} \coqdocvar{p}, \coqref{TrueProtoSynth.receiveN}{\coqdocdefinition{receiveN}} \coqdocvariable{n} \coqdocvariable{p} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvariable{c}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdocvariable{n'} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqref{TrueProtoSynth.rmMess}{\coqdocdefinition{rmMess}} \coqdocvariable{n} \coqdocvariable{p}.\coqdoceol
\coqdocnoindent
\coqdockw{Proof}. \coqdoctac{intros}. \coqdoctac{destruct} \coqdocvar{n}. \coqdoctac{simpl} \coqdoctac{in} \coqdocvar{H}. \coqdocvar{inv} \coqdocvar{H}. \coqdoctac{simpl} \coqdoctac{in} \coqdocvar{H}.\coqdoceol
\coqdocnoindent
\coqdoctac{destruct} \coqdocvar{n}. \coqdoctac{destruct} (\coqdoclemma{eq\_dec\_Participant} \coqdocvar{p} \coqdocvar{p1}) \coqdocvar{eqn}:\coqdocvar{hh}. \coqdocvar{inv} \coqdocvar{H}.\coqdoceol
\coqdocnoindent
\coqdoctac{simpl}. \coqdoctac{rewrite} \coqdocvar{hh}. \coqdoctac{auto}.\coqdoceol
\coqdocnoindent
\coqdoctac{destruct} (\coqref{TrueProtoSynth.receiveMess}{\coqdocdefinition{receiveMess}} \coqdocvar{n0} \coqdocvar{p}). \coqdocvar{inv} \coqdocvar{H}. \coqdoctac{simpl}.\coqdoceol
\coqdocnoindent
\coqdoctac{rewrite} \coqdocvar{hh}. \coqdoctac{auto}. \coqdocvar{inv} \coqdocvar{H}.\coqdoceol
\coqdocnoindent
\coqdockw{Qed}.\coqdoceol
\coqdocnoindent
\coqdockw{Hint Resolve} \coqdocvar{thm\_receiveN\_NewNetworkrmMessage}.\coqdoceol
\coqdocnoindent
\coqdockw{Hint Rewrite} \coqref{TrueProtoSynth.thm receiveN NewNetworkrmMessage}{\coqdoclemma{thm\_receiveN\_NewNetworkrmMessage}}.\coqdoceol
\coqdocnoindent
\coqdockw{Theorem} \coqdef{TrueProtoSynth.thm receivingShrinks}{thm\_receivingShrinks}{\coqdoclemma{thm\_receivingShrinks}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{n} \coqdocvar{c} \coqdocvar{p} \coqdocvar{n'}, \coqref{TrueProtoSynth.receiveN}{\coqdocdefinition{receiveN}} \coqdocvariable{n} \coqdocvariable{p} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvariable{c}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{n'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdoceol
\coqdocnoindent
\coqexternalref{length}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List}{\coqdocabbreviation{length}} \coqdocvariable{n} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{S}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{S}} (\coqexternalref{length}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List}{\coqdocabbreviation{length}} \coqdocvariable{n'}) .\coqdoceol
\coqdocnoindent
\coqdockw{Proof}. \coqdoctac{intros}.\coqdoceol
\coqdocnoindent
\coqdoctac{intros}. \coqdoctac{assert} (\coqref{TrueProtoSynth.receiveN}{\coqdocdefinition{receiveN}} \coqdocvar{n} \coqdocvar{p} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvar{c}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvar{n'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}}). \coqdoctac{auto}. \coqdoctac{apply} \coqref{TrueProtoSynth.thm receiveN NewNetworkrmMessage}{\coqdoclemma{thm\_receiveN\_NewNetworkrmMessage}} \coqdoctac{in} \coqdocvar{H}. \coqdoctac{subst}.\coqdoceol
\coqdocnoindent
\coqdoctac{induction} \coqdocvar{n}. \coqdocvar{inv} \coqdocvar{H0}. \coqdoctac{simpl}. \coqdoctac{assert} (\coqref{TrueProtoSynth.receiveN}{\coqdocdefinition{receiveN}} (\coqdocvar{a} \coqexternalref{:list scope:x '::' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{::}} \coqdocvar{n}) \coqdocvar{p} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvar{c}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqref{TrueProtoSynth.rmMess}{\coqdocdefinition{rmMess}} (\coqdocvar{a} \coqexternalref{:list scope:x '::' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{::}} \coqdocvar{n}) \coqdocvar{p}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}}). \coqdoctac{auto}.\coqdoceol
\coqdocnoindent
\coqdocvar{sh}.\coqdoceol
\coqdocnoindent
\coqdoctac{destruct} \coqdocvar{a}. \coqdocvar{sh}. \coqdoctac{destruct} (\coqdoclemma{eq\_dec\_Participant} \coqdocvar{p} \coqdocvar{p1}) \coqdocvar{eqn}:\coqdocvar{hh}. \coqdoctac{auto}.\coqdoceol
\coqdocnoindent
\coqdoctac{simpl}.\coqdoceol
\coqdocnoindent
\coqdoctac{rewrite} \coqdocvar{IHn}. \coqdoctac{auto}.\coqdoceol
\coqdocnoindent
\coqdoctac{destruct} (\coqref{TrueProtoSynth.receiveMess}{\coqdocdefinition{receiveMess}} \coqdocvar{n} \coqdocvar{p}) \coqdocvar{eqn}:\coqdocvar{hhh}. \coqdoctac{apply} \coqref{TrueProtoSynth.thm receiveN receiveMess}{\coqdoclemma{thm\_receiveN\_receiveMess}} \coqdoctac{in} \coqdocvar{hhh}.\coqdoceol
\coqdocnoindent
\coqdocvar{inv} \coqdocvar{H0}.\coqdoceol
\coqdocnoindent
\coqdoctac{auto}. \coqdocvar{inv} \coqdocvar{H0}.\coqdoceol
\coqdocnoindent
\coqdockw{Qed}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Definition} \coqdef{TrueProtoSynth.fst3}{fst3}{\coqdocdefinition{fst3}} \{\coqdocvar{A} \coqdocvar{B} \coqdocvar{C} : \coqdockw{Type}\} (\coqdocvar{tripl} : (\coqdocvariable{A} \coqexternalref{:type scope:x '*' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{\ensuremath{\times}}} \coqdocvariable{B} \coqexternalref{:type scope:x '*' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{\ensuremath{\times}}} \coqdocvariable{C})) : \coqdocvariable{A} := \coqdockw{match} \coqdocvariable{tripl} \coqdockw{with} \coqdoceol
\coqdocindent{1.00em}
\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvar{a}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvar{\_}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvar{\_}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \ensuremath{\Rightarrow} \coqdocvar{a}\coqdoceol
\coqdocindent{1.00em}
\coqdockw{end}.\coqdoceol
\coqdocnoindent
\coqdockw{Fixpoint} \coqdef{TrueProtoSynth.stmHead}{stmHead}{\coqdocdefinition{stmHead}} (\coqdocvar{stm} : \coqdocinductive{Statement}) : \coqdocinductive{Statement} :=\coqdoceol
\coqdocindent{0.50em}
\coqdockw{match} \coqdocvariable{stm} \coqdockw{with} \coqdoceol
\coqdocindent{1.00em}
\ensuremath{|} (\coqdocconstructor{Chain} \coqdocvar{stm1} \coqdocvar{\_}) \ensuremath{\Rightarrow} \coqref{TrueProtoSynth.stmHead}{\coqdocdefinition{stmHead}} \coqdocvar{stm1}\coqdoceol
\coqdocindent{1.00em}
\ensuremath{|} \coqdocvar{x} \ensuremath{\Rightarrow} \coqdocvar{x}\coqdoceol
\coqdocindent{0.50em}
\coqdockw{end}.\coqdoceol
\coqdocnoindent
\coqdockw{Print}  \coqref{TrueProtoSynth.reduceUnresolved}{\coqdocdefinition{reduceUnresolved}}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Definition} \coqdef{TrueProtoSynth.getMe}{getMe}{\coqdocdefinition{getMe}} (\coqdocvar{st}: \coqdocinductive{State}) : \coqdocinductive{Participant} :=\coqdoceol
\coqdocindent{0.50em}
\coqdockw{match} \coqdocvariable{st} \coqdockw{with}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{state} \coqdocvar{\_} (\coqdocconstructor{proState} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{p} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_}) \ensuremath{\Rightarrow}  \coqdocvar{p}\coqdoceol
\coqdocnoindent
\coqdockw{end}.\coqdoceol
\coqdocemptyline
\end{coqdoccode}
This function moves the next desired measurement into the unresolved
list.
\begin{coqdoccode}
\coqdocnoindent
\coqdockw{Definition} \coqdef{TrueProtoSynth.mvNextDesire}{mvNextDesire}{\coqdocdefinition{mvNextDesire}} (\coqdocvar{st} : \coqdocinductive{State}) : \coqdocinductive{State} :=\coqdoceol
\coqdocnoindent
\coqdockw{match} \coqdocvariable{st} \coqdockw{with}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{state} \coqdocvar{vars} (\coqdocconstructor{proState} \coqdocvar{a} \coqdocvar{g} \coqdocvar{b} \coqdocvar{c} \coqdocvar{wants} \coqdocvar{e} \coqdocvar{f}) =>(\coqdockw{match} \coqdocvar{wants} \coqdockw{with}\coqdoceol
\coqdocindent{9.50em}
\ensuremath{|} \coqdocconstructor{emptyRequestLS} \ensuremath{\Rightarrow} \coqdocconstructor{state} \coqdocvar{vars} (\coqdocconstructor{proState} \coqdocvar{a} \coqdocvar{g} \coqdocvar{b} \coqdocvar{c} \coqdoceol
\coqdocindent{11.00em}
\coqdocconstructor{emptyRequestLS} \coqdocvar{e} \coqdocvar{f})\coqdoceol
\coqdocindent{9.50em}
\ensuremath{|} \coqdocconstructor{ConsRequestLS} \coqdocvar{ri} \coqdocvar{rest} \ensuremath{\Rightarrow} \coqdocconstructor{state} \coqdocvar{vars} (\coqdocconstructor{proState} \coqdocvar{a} \coqdocvar{g} \coqdocvar{b} \coqdocvar{c} \coqdocvar{rest}\coqdoceol
\coqdocindent{11.00em}
(\coqdocconstructor{ConsRequestLS} \coqdocvar{ri} \coqdocvar{e}) \coqdocvar{f} )\coqdoceol
\coqdocindent{9.00em}
\coqdockw{end}) \coqdoceol
\coqdocnoindent
\coqdockw{end}.\coqdoceol
\coqdocemptyline
\end{coqdoccode}
This function takes the desired measurement and stores it in the queue of things
I have been asked to measure.
\begin{coqdoccode}
\coqdocnoindent
\coqdockw{Definition} \coqdef{TrueProtoSynth.storeRequest}{storeRequest}{\coqdocdefinition{storeRequest}} (\coqdocvar{d} : \coqdocinductive{Description}) (\coqdocvar{st} : \coqdocinductive{State}) : \coqdocinductive{State} :=\coqdoceol
\coqdocnoindent
\coqdockw{match} \coqdocvariable{st} \coqdockw{with}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{state} \coqdocvar{vs} \coqdocvar{ps} \ensuremath{\Rightarrow} \coqdockw{match} \coqdocvar{ps} \coqdockw{with}\coqdoceol
\coqdocindent{3.00em}
\ensuremath{|} \coqdocconstructor{proState} \coqdocvar{x} \coqdocvar{g} \coqdocvar{x0} \coqdocvar{x1} \coqdocvar{x2} \coqdocvar{x3} \coqdocvar{queue} \ensuremath{\Rightarrow} \coqdocconstructor{state} \coqdocvar{vs} (\coqdocconstructor{proState}  \coqdocvar{x} \coqdocvar{g} \coqdocvar{x0} \coqdocvar{x1} \coqdocvar{x2} \coqdocvar{x3} (\coqdocvariable{d} \coqexternalref{:list scope:x '::' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{::}} \coqdocvar{queue}))\coqdoceol
\coqdocnoindent
\coqdockw{end}\coqdoceol
\coqdocnoindent
\coqdockw{end}.\coqdoceol
\coqdocemptyline
\end{coqdoccode}
Removes from privacy given a state. Just a wrapper funtion. \begin{coqdoccode}
\coqdocnoindent
\coqdockw{Definition} \coqdef{TrueProtoSynth.rm f Privacy w RequestST}{rm\_f\_Privacy\_w\_RequestST}{\coqdocdefinition{rm\_f\_Privacy\_w\_RequestST}} (\coqdocvar{d} : \coqdocinductive{Description}) (\coqdocvar{st} : \coqdocinductive{State}) : \coqdocinductive{State} :=\coqdoceol
\coqdocnoindent
\coqdockw{match} \coqdocvariable{st} \coqdockw{with}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{state} \coqdocvar{vs} (\coqdocconstructor{proState} \coqdocvar{x} \coqdocvar{g} \coqdocvar{x0} \coqdocvar{pp} \coqdocvar{x2} \coqdocvar{x3} \coqdocvar{x4}) \ensuremath{\Rightarrow} \coqdoceol
\coqdocindent{1.50em}
\coqdocconstructor{state} \coqdocvar{vs} (\coqdocconstructor{proState} \coqdocvar{x} \coqdocvar{g} \coqdocvar{x0} (\coqref{TrueProtoSynth.rmAllFromPolicy}{\coqdocdefinition{rmAllFromPolicy}} \coqdocvar{pp} \coqdocvariable{d}) \coqdocvar{x2} \coqdocvar{x3} \coqdocvar{x4})\coqdoceol
\coqdocindent{2.50em}
\coqdoceol
\coqdocnoindent
\coqdockw{end}.\coqdoceol
\coqdocemptyline
\end{coqdoccode}
Wrapper for removing the head of the queued up requests I have.
\begin{coqdoccode}
\coqdocnoindent
\coqdockw{Definition} \coqdef{TrueProtoSynth.handleRmFstQueued}{handleRmFstQueued}{\coqdocdefinition{handleRmFstQueued}} (\coqdocvar{st} : \coqdocinductive{State}) :=\coqdoceol
\coqdocnoindent
\coqdockw{match} \coqdocvariable{st} \coqdockw{with}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{state} \coqdocvar{vs} \coqdocvar{ps} \ensuremath{\Rightarrow} \coqdockw{match} \coqdocvar{ps} \coqdockw{with}\coqdoceol
\coqdocindent{2.00em}
\ensuremath{|} \coqdocconstructor{proState} \coqdocvar{x} \coqdocvar{g} \coqdocvar{x0} \coqdocvar{x1} \coqdocvar{x2} \coqdocvar{x3} \coqdocvar{x4} \ensuremath{\Rightarrow} \coqdocconstructor{state} \coqdocvar{vs}\coqdoceol
\coqdocindent{3.50em}
(\coqdocconstructor{proState} \coqdocvar{x} \coqdocvar{g} \coqdocvar{x0} \coqdocvar{x1} \coqdocvar{x2} \coqdocvar{x3} (\coqexternalref{tail}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List}{\coqdocabbreviation{tail}} \coqdocvar{x4})) \coqdoceol
\coqdocnoindent
\coqdockw{end}\coqdoceol
\coqdocnoindent
\coqdockw{end}.\coqdoceol
\coqdocemptyline
\coqdocemptyline
\end{coqdoccode}
Answers, what, if any is my counter request?
\begin{coqdoccode}
\coqdocnoindent
\coqdockw{Fixpoint} \coqdef{TrueProtoSynth.getCounterReqItemFromPP}{getCounterReqItemFromPP}{\coqdocdefinition{getCounterReqItemFromPP}} (\coqdocvar{pp} : \coqdocinductive{PrivacyPolicy}) (\coqdocvar{d} : \coqdocinductive{Description}) : \coqexternalref{option}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocinductive{option}} \coqdocinductive{RequestItem} :=\coqdoceol
\coqdocnoindent
\coqdockw{match} \coqdocvariable{pp} \coqdockw{with}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{EmptyPolicy} \ensuremath{\Rightarrow} \coqexternalref{None}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{None}}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} @\coqdocvar{ConsPolicy} \coqdocvar{dp} \coqdocvar{x} \coqdocvar{x0} \ensuremath{\Rightarrow} \coqdockw{if} (\coqdoclemma{eq\_dec\_Description} \coqdocvariable{d} \coqdocvar{dp}) \coqdockw{then} \coqdockw{match} \coqdocvar{x} \coqdockw{with}\coqdoceol
\coqdocindent{1.50em}
\ensuremath{|} @\coqdocvar{rule} \coqdocvar{\_} \coqdocvar{dd}  \coqdocvar{r} \ensuremath{\Rightarrow} \coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} (\coqdocconstructor{requestItem} \coqdocvar{dd} \coqdocvar{r})\coqdoceol
\coqdocindent{1.50em}
\ensuremath{|} \coqdocconstructor{free} \coqdocvar{\_} \ensuremath{\Rightarrow} \coqexternalref{None}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{None}}\coqdoceol
\coqdocindent{1.50em}
\ensuremath{|} \coqdocconstructor{never} \coqdocvar{\_} \ensuremath{\Rightarrow} \coqexternalref{None}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{None}}\coqdoceol
\coqdocindent{0.50em}
\coqdoceol
\coqdocindent{1.50em}
\coqdockw{end} \coqdoceol
\coqdocindent{13.00em}
\coqdockw{else}      \coqdoceol
\coqdocindent{13.00em}
(\coqref{TrueProtoSynth.getCounterReqItemFromPP}{\coqdocdefinition{getCounterReqItemFromPP}} \coqdocvar{x0} \coqdocvariable{d})\coqdoceol
\coqdocnoindent
\coqdockw{end}.\coqdoceol
\coqdocemptyline
\end{coqdoccode}
This function checks to see if a counter request is needed to release the
description asked of me. If there is none, this is reported by returning none.
If a counter is needed, the counter is added to the outstanding requests.
\begin{coqdoccode}
\coqdocnoindent
\coqdockw{Definition} \coqdef{TrueProtoSynth.handlecp ppUnresolved}{handlecp\_ppUnresolved}{\coqdocdefinition{handlecp\_ppUnresolved}} (\coqdocvar{d} : \coqdocinductive{Description})  (\coqdocvar{st} : \coqdocinductive{State}) : \coqexternalref{option}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocinductive{option}} \coqdocinductive{State} := \coqdoceol
\coqdocnoindent
\coqdockw{match} \coqdocvariable{st} \coqdockw{with}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{state} \coqdocvar{vs} (\coqdocconstructor{proState} \coqdocvar{x} \coqdocvar{g} \coqdocvar{x0} \coqdocvar{pp} \coqdocvar{x2} \coqdocvar{x3} \coqdocvar{x4}) \ensuremath{\Rightarrow} \coqdockw{match}  \coqref{TrueProtoSynth.getCounterReqItemFromPP}{\coqdocdefinition{getCounterReqItemFromPP}} \coqdocvar{pp} \coqdocvariable{d} \coqdockw{with} \coqdoceol
\coqdocindent{19.00em}
\ensuremath{|} \coqexternalref{None}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{None}} \ensuremath{\Rightarrow} \coqexternalref{None}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{None}}\coqdoceol
\coqdocindent{19.00em}
\ensuremath{|} \coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} \coqdocvar{reqI} \ensuremath{\Rightarrow} \coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} (\coqdocconstructor{state} \coqdocvar{vs} (\coqdocconstructor{proState} \coqdocvar{x} \coqdocvar{g} \coqdocvar{x0} \coqdocvar{pp} \coqdocvar{x2} (\coqdocconstructor{ConsRequestLS} \coqdocvar{reqI} \coqdocvar{x3}) \coqdocvar{x4}))\coqdoceol
\coqdocindent{19.00em}
\coqdockw{end}\coqdoceol
\coqdocnoindent
\coqdoceol
\coqdocnoindent
\coqdockw{end}.\coqdoceol
\coqdocemptyline
\end{coqdoccode}
Setter for allGood Property
\begin{coqdoccode}
\coqdocnoindent
\coqdockw{Definition} \coqdef{TrueProtoSynth.setAllGood}{setAllGood}{\coqdocdefinition{setAllGood}} (\coqdocvar{g} : \coqdocinductive{AllGood}) (\coqdocvar{st} : \coqdocinductive{State}) : \coqdocinductive{State}:=\coqdoceol
\coqdocnoindent
\coqdockw{match} \coqdocvariable{st} \coqdockw{with}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{state} \coqdocvar{var} (\coqdocconstructor{proState} \coqdocvar{x} \coqdocvar{x0} \coqdocvar{x1} \coqdocvar{x2} \coqdocvar{x3} \coqdocvar{x4} \coqdocvar{x5}) \ensuremath{\Rightarrow} \coqdocconstructor{state} \coqdocvar{var} (\coqdocconstructor{proState} \coqdocvar{x} \coqdocvariable{g} \coqdocvar{x1} \coqdocvar{x2} \coqdocvar{x3} \coqdocvar{x4} \coqdocvar{x5}) \coqdoceol
\coqdocnoindent
\coqdockw{end}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Definition} \coqdef{TrueProtoSynth.handleEffect}{handleEffect}{\coqdocdefinition{handleEffect}} (\coqdocvar{e} : \coqdocinductive{Effect}) (\coqdocvar{st} : \coqdocinductive{State}) : \coqexternalref{option}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocinductive{option}} \coqdocinductive{State} :=\coqdoceol
\coqdocnoindent
\coqdockw{match} \coqdocvariable{e} \coqdockw{with}\coqdoceol
\coqdocindent{0.50em}
\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{effect\_StoreRequest} \coqdocvar{t} \ensuremath{\Rightarrow} \coqdockw{match} (\coqref{TrueProtoSynth.varSubst}{\coqdocdefinition{varSubst}} \coqdocvar{t} \coqdocvariable{st}) \coqdockw{with} \coqdoceol
\coqdocindent{15.00em}
\ensuremath{|} \coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} (\coqdocconstructor{constRequest} \coqdocvar{r}) \ensuremath{\Rightarrow} \coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} (\coqref{TrueProtoSynth.storeRequest}{\coqdocdefinition{storeRequest}} \coqdocvar{r} \coqdocvariable{st}) \coqdoceol
\coqdocindent{15.00em}
\ensuremath{|} \coqdocvar{\_} \ensuremath{\Rightarrow} \coqexternalref{None}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{None}} \coqdoceol
\coqdocindent{15.00em}
\coqdockw{end}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{effect\_ReducePrivacyWithRequest} \coqdocvar{t}\ensuremath{\Rightarrow} \coqdockw{match} (\coqref{TrueProtoSynth.varSubst}{\coqdocdefinition{varSubst}} \coqdocvar{t} \coqdocvariable{st}) \coqdockw{with} \coqdoceol
\coqdocindent{20.00em}
\ensuremath{|} \coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} (\coqdocconstructor{constRequest} \coqdocvar{r}) \ensuremath{\Rightarrow} \coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} (\coqref{TrueProtoSynth.rm f Privacy w RequestST}{\coqdocdefinition{rm\_f\_Privacy\_w\_RequestST}} \coqdocvar{r} \coqdocvariable{st})\coqdoceol
\coqdocindent{20.00em}
\ensuremath{|} \coqdocvar{\_} \ensuremath{\Rightarrow} \coqexternalref{None}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{None}}\coqdoceol
\coqdocindent{20.00em}
\coqdockw{end}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{effect\_ReduceStatewithMeasurement} \coqdocvar{t} \ensuremath{\Rightarrow} \coqdockw{match} (\coqref{TrueProtoSynth.varSubst}{\coqdocdefinition{varSubst}} \coqdocvar{t} \coqdocvariable{st}) \coqdockw{with} \coqdoceol
\coqdocindent{21.50em}
\ensuremath{|} \coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} \coqdocvar{c} \ensuremath{\Rightarrow}\coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} (\coqref{TrueProtoSynth.reduceStateWithMeasurement}{\coqdocdefinition{reduceStateWithMeasurement}} \coqdocvar{c} \coqdocvariable{st})\coqdoceol
\coqdocindent{21.50em}
\ensuremath{|} \coqdocvar{\_} \ensuremath{\Rightarrow} \coqexternalref{None}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{None}}\coqdoceol
\coqdocindent{21.50em}
\coqdockw{end}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{effect\_MvFirstDesire} \ensuremath{\Rightarrow} \coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} (\coqref{TrueProtoSynth.mvNextDesire}{\coqdocdefinition{mvNextDesire}} \coqdocvariable{st})\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{effect\_rmFstQueued}  \ensuremath{\Rightarrow}  \coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} (\coqref{TrueProtoSynth.handleRmFstQueued}{\coqdocdefinition{handleRmFstQueued}} \coqdocvariable{st})\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{effect\_cp\_ppUnresolved} \coqdocvar{t} \ensuremath{\Rightarrow}  \coqdockw{match} (\coqref{TrueProtoSynth.varSubst}{\coqdocdefinition{varSubst}} \coqdocvar{t} \coqdocvariable{st}) \coqdockw{with} \coqdoceol
\coqdocindent{21.50em}
\ensuremath{|} \coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} (\coqdocconstructor{constRequest} \coqdocvar{d}) \ensuremath{\Rightarrow} (\coqref{TrueProtoSynth.handlecp ppUnresolved}{\coqdocdefinition{handlecp\_ppUnresolved}} \coqdocvar{d} \coqdocvariable{st})\coqdoceol
\coqdocindent{21.50em}
\ensuremath{|} \coqdocvar{\_} \ensuremath{\Rightarrow} \coqexternalref{None}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{None}}\coqdoceol
\coqdocindent{21.50em}
\coqdockw{end}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{effect\_setAllGood} \coqdocvar{x}  \ensuremath{\Rightarrow} \coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} (\coqref{TrueProtoSynth.setAllGood}{\coqdocdefinition{setAllGood}} \coqdocvar{x} \coqdocvariable{st})\coqdoceol
\coqdocnoindent
\coqdockw{end}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Check} \coqref{TrueProtoSynth.measure}{\coqdocdefinition{measure}}.\coqdoceol
\end{coqdoccode}
Getter \begin{coqdoccode}
\coqdocnoindent
\coqdockw{Definition} \coqdef{TrueProtoSynth.getNextDesire}{getNextDesire}{\coqdocdefinition{getNextDesire}} (\coqdocvar{st} : \coqdocinductive{State}) : \coqexternalref{option}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocinductive{option}} \coqdocinductive{Description} :=\coqdoceol
\coqdocnoindent
\coqdockw{match} \coqdocvariable{st} \coqdockw{with}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{state} \coqdocvar{\_} (\coqdocconstructor{proState} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{wants} \coqdocvar{\_} \coqdocvar{\_}) \ensuremath{\Rightarrow}\coqdoceol
\coqdocindent{1.00em}
(\coqdockw{match} \coqdocvar{wants} \coqdockw{with}\coqdoceol
\coqdocindent{2.50em}
\ensuremath{|} \coqdocconstructor{emptyRequestLS} \ensuremath{\Rightarrow} \coqexternalref{None}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{None}}\coqdoceol
\coqdocindent{2.50em}
\ensuremath{|} \coqdocconstructor{ConsRequestLS} (\coqdocconstructor{requestItem} \coqdocvar{d} \coqdocvar{x}) \coqdocvar{\_} \ensuremath{\Rightarrow}  \coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} \coqdocvar{d}\coqdoceol
\coqdocindent{1.50em}
\coqdockw{end})\coqdoceol
\coqdocindent{5.00em}
\coqdoceol
\coqdocnoindent
\coqdockw{end}.\coqdoceol
\coqdocemptyline
\end{coqdoccode}
Getter for first unfulfilled description by me.\begin{coqdoccode}
\coqdocnoindent
\coqdockw{Definition} \coqdef{TrueProtoSynth.getfstQueueAsConst}{getfstQueueAsConst}{\coqdocdefinition{getfstQueueAsConst}} (\coqdocvar{st} : \coqdocinductive{State}) :=\coqdoceol
\coqdocnoindent
\coqdockw{match} \coqdocvariable{st} \coqdockw{with}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{state} \coqdocvar{\_} \coqdocvar{ps} \ensuremath{\Rightarrow} \coqdockw{match} \coqdocvar{ps} \coqdockw{with}\coqdoceol
\coqdocindent{2.00em}
\ensuremath{|} \coqdocconstructor{proState} \coqdocvar{x} \coqdocvar{g} \coqdocvar{x0} \coqdocvar{x1} \coqdocvar{x2} \coqdocvar{x3} \coqdocvar{x4} \ensuremath{\Rightarrow} \coqdockw{match} \coqdocvar{x4} \coqdockw{with}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqexternalref{nil}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{nil}} \ensuremath{\Rightarrow} \coqexternalref{None}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{None}}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqexternalref{cons}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{cons}} \coqdocvar{x} \coqdocvar{x0} \ensuremath{\Rightarrow} \coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} (\coqdocconstructor{constRequest} \coqdocvar{x})\coqdoceol
\coqdocnoindent
\coqdockw{end}\coqdoceol
\coqdocnoindent
\coqdockw{end}\coqdoceol
\coqdocnoindent
\coqdockw{end}.\coqdoceol
\coqdocemptyline
\end{coqdoccode}
mapping from computations to actual actions. \begin{coqdoccode}
\coqdocnoindent
\coqdockw{Definition} \coqdef{TrueProtoSynth.handleCompute}{handleCompute}{\coqdocdefinition{handleCompute}} (\coqdocvar{comp} : \coqdocinductive{Computation}) (\coqdocvar{st} : \coqdocinductive{State}) : \coqexternalref{option}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocinductive{option}} \coqdocinductive{Const} :=\coqdoceol
\coqdocindent{0.50em}
\coqdockw{match} \coqdocvariable{comp} \coqdockw{with}\coqdoceol
\coqdocindent{1.00em}
\ensuremath{|} \coqdocconstructor{compGetfstQueue} \ensuremath{\Rightarrow} \coqref{TrueProtoSynth.getfstQueueAsConst}{\coqdocdefinition{getfstQueueAsConst}} \coqdocvariable{st}\coqdoceol
\coqdocindent{1.00em}
\ensuremath{|} \coqdocconstructor{compGetMessageToSend} \ensuremath{\Rightarrow} \coqdockw{match} (\coqref{TrueProtoSynth.canSendST}{\coqdocdefinition{canSendST}} \coqdocvariable{st}) \coqdockw{with} \coqdoceol
\coqdocindent{15.00em}
\ensuremath{|} \coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} \coqdocvar{d} \ensuremath{\Rightarrow} \coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} (\coqdocconstructor{constValue} \coqdocvar{d} (\coqref{TrueProtoSynth.measure}{\coqdocdefinition{measure}} \coqdocvar{d}))\coqdoceol
\coqdocindent{15.00em}
\ensuremath{|} \coqexternalref{None}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{None}} \ensuremath{\Rightarrow} \coqexternalref{None}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{None}}\coqdoceol
\coqdocindent{14.00em}
\coqdockw{end}\coqdoceol
\coqdocindent{1.00em}
\ensuremath{|} \coqdocconstructor{compGetNextRequest} \ensuremath{\Rightarrow}  (\coqdockw{match} (\coqref{TrueProtoSynth.getNextDesire}{\coqdocdefinition{getNextDesire}} \coqdocvariable{st}) \coqdockw{with} \coqdoceol
\coqdocindent{15.00em}
\ensuremath{|} \coqexternalref{None}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{None}} \ensuremath{\Rightarrow} \coqexternalref{None}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{None}}\coqdoceol
\coqdocindent{15.00em}
\ensuremath{|} \coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} \coqdocvar{desire} \ensuremath{\Rightarrow} \coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} (\coqdocconstructor{constRequest} \coqdocvar{desire})\coqdoceol
\coqdocindent{14.00em}
\coqdockw{end})\coqdoceol
\coqdocindent{0.50em}
\coqdockw{end}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Reserved Notation} " x '⇒'  x'"\coqdoceol
\coqdocindent{9.00em}
(\coqdoctac{at} \coqdockw{level} 40).\coqdoceol
\coqdocnoindent
\coqdockw{Inductive} \coqdef{TrueProtoSynth.stmEval}{stmEval}{\coqdocinductive{stmEval}} : \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{(}}\coqdocinductive{Statement} \coqexternalref{:type scope:x '*' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{\ensuremath{\times}}} \coqdocinductive{State} \coqexternalref{:type scope:x '*' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{\ensuremath{\times}}} \coqdocdefinition{Network}\coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{)}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{(}}\coqdocinductive{Statement} \coqexternalref{:type scope:x '*' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{\ensuremath{\times}}} \coqdocinductive{State} \coqexternalref{:type scope:x '*' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{\ensuremath{\times}}} \coqdocdefinition{Network}\coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{)}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdockw{Prop} :=\coqdoceol
\coqdocindent{1.50em}
\ensuremath{|} \coqdef{TrueProtoSynth.E Send}{E\_Send}{\coqdocconstructor{E\_Send}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{st} \coqdocvar{n} \coqdocvar{term} \coqdocvar{f} \coqdocvar{t} \coqdocvar{v}, \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{(}}\coqref{TrueProtoSynth.varSubst}{\coqdocdefinition{varSubst}} \coqdocvariable{term} \coqdocvariable{st}\coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{)}} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} \coqdocvariable{v} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdoceol
\coqdocindent{7.00em}
\coqdocvariable{v} \coqexternalref{:type scope:x '<>' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\not=}}} \coqdocconstructor{constStop} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}}  \coqdoceol
\coqdocindent{7.00em}
\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocconstructor{SendStatement} \coqdocvariable{term} \coqdocvariable{f} \coqdocvariable{t}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqref{TrueProtoSynth.::x 'xE2x87x92' x}{\coqdocnotation{⇒}}\coqdoceol
\coqdocindent{8.00em}
\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocconstructor{Skip}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqref{TrueProtoSynth.sendOnNetwork}{\coqdocdefinition{sendOnNetwork}} \coqdocvariable{f} \coqdocvariable{t} \coqdocvariable{v} \coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{))}}\coqdoceol
\coqdocindent{1.50em}
\ensuremath{|} \coqdef{TrueProtoSynth.E SendStop}{E\_SendStop}{\coqdocconstructor{E\_SendStop}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{st} \coqdocvar{n} \coqdocvar{term} \coqdocvar{f} \coqdocvar{t} \coqdocvar{v}, \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{(}}\coqref{TrueProtoSynth.varSubst}{\coqdocdefinition{varSubst}} \coqdocvariable{term} \coqdocvariable{st}\coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{)}} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} \coqdocconstructor{constStop} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}}  \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocconstructor{SendStatement} \coqdocvariable{term} \coqdocvariable{f} \coqdocvariable{t}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqref{TrueProtoSynth.::x 'xE2x87x92' x}{\coqdocnotation{⇒}}\coqdoceol
\coqdocindent{3.00em}
\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocconstructor{StopStatement}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}  \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqref{TrueProtoSynth.sendOnNetwork}{\coqdocdefinition{sendOnNetwork}} \coqdocvariable{f} \coqdocvariable{t} \coqdocvariable{v} \coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{))}}\coqdoceol
\coqdocindent{1.50em}
\ensuremath{|} \coqdef{TrueProtoSynth.E ReceiveStop}{E\_ReceiveStop}{\coqdocconstructor{E\_ReceiveStop}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{st} \coqdocvar{n} \coqdocvar{n'} \coqdocvar{vid},\coqdoceol
\coqdocindent{4.00em}
\coqref{TrueProtoSynth.receiveN}{\coqdocdefinition{receiveN}} \coqdocvariable{n} (\coqref{TrueProtoSynth.getMe}{\coqdocdefinition{getMe}} \coqdocvariable{st}) \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocconstructor{constStop}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{n'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}}  \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}}\coqdoceol
\coqdocindent{4.00em}
\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocconstructor{ReceiveStatement} \coqdocvariable{vid}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqref{TrueProtoSynth.::x 'xE2x87x92' x}{\coqdocnotation{⇒}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocconstructor{StopStatement}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqref{TrueProtoSynth.assign}{\coqdocdefinition{assign}} \coqdocvariable{vid} \coqdocconstructor{constStop} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}}\coqdoceol
\coqdocindent{1.50em}
\ensuremath{|} \coqdef{TrueProtoSynth.E ReceiveWait}{E\_ReceiveWait}{\coqdocconstructor{E\_ReceiveWait}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{st} \coqdocvar{n} \coqdocvar{vid},\coqdoceol
\coqdocindent{4.00em}
\coqref{TrueProtoSynth.receiveN}{\coqdocdefinition{receiveN}} \coqdocvariable{n} (\coqref{TrueProtoSynth.getMe}{\coqdocdefinition{getMe}} \coqdocvariable{st}) \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{None}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{None}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdoceol
\coqdocindent{4.00em}
\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocconstructor{ReceiveStatement} \coqdocvariable{vid}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqref{TrueProtoSynth.::x 'xE2x87x92' x}{\coqdocnotation{⇒}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocconstructor{Wait} \coqdocnotation{>>} \coqdocnotation{(}\coqdocconstructor{ReceiveStatement} \coqdocvariable{vid}\coqdocnotation{)} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{st} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}}\coqdoceol
\coqdocindent{1.50em}
\ensuremath{|} \coqdef{TrueProtoSynth.E Wait}{E\_Wait}{\coqdocconstructor{E\_Wait}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{st} \coqdocvar{n} \coqdocvar{happy},\coqdoceol
\coqdocindent{4.00em}
\coqref{TrueProtoSynth.receiveN}{\coqdocdefinition{receiveN}} \coqdocvariable{n} (\coqref{TrueProtoSynth.getMe}{\coqdocdefinition{getMe}} \coqdocvariable{st}) \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} \coqdocvariable{happy} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}}\coqdoceol
\coqdocindent{4.00em}
\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocconstructor{Wait}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqref{TrueProtoSynth.::x 'xE2x87x92' x}{\coqdocnotation{⇒}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocconstructor{Skip}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}}\coqdoceol
\coqdocindent{1.50em}
\ensuremath{|} \coqdef{TrueProtoSynth.E Receive}{E\_Receive}{\coqdocconstructor{E\_Receive}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{st} \coqdocvar{n} \coqdocvar{n'} \coqdocvar{vid} \coqdocvar{mess},\coqdoceol
\coqdocindent{4.00em}
\coqref{TrueProtoSynth.receiveN}{\coqdocdefinition{receiveN}} \coqdocvariable{n} (\coqref{TrueProtoSynth.getMe}{\coqdocdefinition{getMe}} \coqdocvariable{st}) \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvariable{mess}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{n'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}}  \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}}\coqdoceol
\coqdocindent{4.00em}
\coqdocvariable{mess} \coqexternalref{:type scope:x '<>' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\not=}}} \coqdocconstructor{constStop} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}}\coqdoceol
\coqdocindent{4.00em}
\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocconstructor{ReceiveStatement} \coqdocvariable{vid}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqref{TrueProtoSynth.::x 'xE2x87x92' x}{\coqdocnotation{⇒}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocconstructor{Skip}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqref{TrueProtoSynth.assign}{\coqdocdefinition{assign}} \coqdocvariable{vid} \coqdocvariable{mess} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}}\coqdoceol
\coqdocindent{1.50em}
\ensuremath{|} \coqdef{TrueProtoSynth.E Effect}{E\_Effect}{\coqdocconstructor{E\_Effect}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{st} \coqdocvar{n} \coqdocvar{effect} \coqdocvar{st'},\coqdoceol
\coqdocindent{4.00em}
\coqref{TrueProtoSynth.handleEffect}{\coqdocdefinition{handleEffect}} \coqdocvariable{effect} \coqdocvariable{st} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} \coqdocvariable{st'} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}}  \coqdoceol
\coqdocindent{4.00em}
\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocconstructor{EffectStatement} \coqdocvariable{effect}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqref{TrueProtoSynth.::x 'xE2x87x92' x}{\coqdocnotation{⇒}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocconstructor{Skip}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{st'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}}\coqdoceol
\coqdocindent{1.50em}
\ensuremath{|} \coqdef{TrueProtoSynth.E Compute}{E\_Compute}{\coqdocconstructor{E\_Compute}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{st} \coqdocvar{n} \coqdocvar{vid} \coqdocvar{compTerm} \coqdocvar{c}, \coqdoceol
\coqdocindent{4.00em}
\coqref{TrueProtoSynth.handleCompute}{\coqdocdefinition{handleCompute}} \coqdocvariable{compTerm} \coqdocvariable{st} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} \coqdocvariable{c} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdoceol
\coqdocindent{4.00em}
\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocconstructor{Compute} \coqdocvariable{vid} \coqdocvariable{compTerm}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqref{TrueProtoSynth.::x 'xE2x87x92' x}{\coqdocnotation{⇒}}\coqdoceol
\coqdocindent{4.00em}
\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocconstructor{Skip}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqref{TrueProtoSynth.assign}{\coqdocdefinition{assign}} \coqdocvariable{vid} \coqdocvariable{c} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}}\coqdoceol
\coqdocindent{1.50em}
\ensuremath{|} \coqdef{TrueProtoSynth.E Assign}{E\_Assign}{\coqdocconstructor{E\_Assign}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{st} \coqdocvar{n} \coqdocvar{vid} \coqdocvar{term2} \coqdocvar{c}, \coqdoceol
\coqdocindent{3.50em}
\coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{(}}\coqref{TrueProtoSynth.varSubst}{\coqdocdefinition{varSubst}} \coqdocvariable{term2} \coqdocvariable{st}\coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{)}} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} \coqdocvariable{c} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdoceol
\coqdocindent{3.50em}
\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocconstructor{Assignment} \coqdocvariable{vid} \coqdocvariable{term2}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqref{TrueProtoSynth.::x 'xE2x87x92' x}{\coqdocnotation{⇒}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocconstructor{Skip}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqref{TrueProtoSynth.assign}{\coqdocdefinition{assign}} \coqdocvariable{vid} \coqdocvariable{c} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}}\coqdoceol
\coqdocindent{1.50em}
\ensuremath{|} \coqdef{TrueProtoSynth.E ChooseTrue}{E\_ChooseTrue}{\coqdocconstructor{E\_ChooseTrue}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{st} \coqdocvar{n} \coqdocvar{cond} \coqdocvar{stmTrue} \coqdocvar{stmFalse},\coqdoceol
\coqdocindent{3.00em}
\coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{(}}\coqref{TrueProtoSynth.evalChoose}{\coqdocdefinition{evalChoose}} \coqdocvariable{cond} \coqdocvariable{st}\coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{)}} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{true}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{true}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdoceol
\coqdocindent{3.00em}
\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocconstructor{Choose} \coqdocvariable{cond} \coqdocvariable{stmTrue} \coqdocvariable{stmFalse}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqref{TrueProtoSynth.::x 'xE2x87x92' x}{\coqdocnotation{⇒}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvariable{stmTrue}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}}\coqdoceol
\coqdocindent{1.50em}
\ensuremath{|} \coqdef{TrueProtoSynth.E ChooseFalse}{E\_ChooseFalse}{\coqdocconstructor{E\_ChooseFalse}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{st} \coqdocvar{n} \coqdocvar{cond} \coqdocvar{stmTrue} \coqdocvar{stmFalse},\coqdoceol
\coqdocindent{3.00em}
\coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{(}}\coqref{TrueProtoSynth.evalChoose}{\coqdocdefinition{evalChoose}} \coqdocvariable{cond} \coqdocvariable{st}\coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{)}} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{false}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{false}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdoceol
\coqdocindent{3.00em}
\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocconstructor{Choose} \coqdocvariable{cond} \coqdocvariable{stmTrue} \coqdocvariable{stmFalse}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqref{TrueProtoSynth.::x 'xE2x87x92' x}{\coqdocnotation{⇒}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvariable{stmFalse}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}}\coqdoceol
\coqdocindent{1.50em}
\ensuremath{|} \coqdef{TrueProtoSynth.E Chain}{E\_Chain}{\coqdocconstructor{E\_Chain}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{st} \coqdocvar{n} \coqdocvar{st'} \coqdocvar{n'} \coqdocvar{stm1} \coqdocvar{stm2}, \coqdoceol
\coqdocindent{3.50em}
\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvariable{stm1}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqref{TrueProtoSynth.::x 'xE2x87x92' x}{\coqdocnotation{⇒}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocconstructor{Skip}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{st'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{n'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdoceol
\coqdocindent{3.50em}
\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocconstructor{Chain} \coqdocvariable{stm1} \coqdocvariable{stm2}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqref{TrueProtoSynth.::x 'xE2x87x92' x}{\coqdocnotation{⇒}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvariable{stm2}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{st'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{n'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}}\coqdoceol
\coqdocindent{1.50em}
\ensuremath{|} \coqdef{TrueProtoSynth.E ChainBad}{E\_ChainBad}{\coqdocconstructor{E\_ChainBad}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{st} \coqdocvar{n} \coqdocvar{st'} \coqdocvar{n'} \coqdocvar{stm1} \coqdocvar{stm2}, \coqdoceol
\coqdocindent{3.50em}
\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvariable{stm1}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqref{TrueProtoSynth.::x 'xE2x87x92' x}{\coqdocnotation{⇒}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocconstructor{StopStatement}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{st'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{n'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdoceol
\coqdocindent{3.50em}
\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocconstructor{Chain} \coqdocvariable{stm1} \coqdocvariable{stm2}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqref{TrueProtoSynth.::x 'xE2x87x92' x}{\coqdocnotation{⇒}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocconstructor{StopStatement}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{st'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{n'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}}\coqdoceol
\coqdocindent{1.50em}
\ensuremath{|} \coqdef{TrueProtoSynth.E ChainWait}{E\_ChainWait}{\coqdocconstructor{E\_ChainWait}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{st} \coqdocvar{n} \coqdocvar{st'} \coqdocvar{n'} \coqdocvar{stm1} \coqdocvar{stm2}, \coqdoceol
\coqdocindent{3.50em}
\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvariable{stm1}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqref{TrueProtoSynth.::x 'xE2x87x92' x}{\coqdocnotation{⇒}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocconstructor{Wait} \coqdocnotation{>>} \coqdocvariable{stm1}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{st'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{n'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdoceol
\coqdocindent{3.50em}
\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocconstructor{Chain} \coqdocvariable{stm1} \coqdocvariable{stm2}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqref{TrueProtoSynth.::x 'xE2x87x92' x}{\coqdocnotation{⇒}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocconstructor{Wait} \coqdocnotation{>>} \coqdocvariable{stm1} \coqdocnotation{>>} \coqdocvariable{stm2}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{st'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{n'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}}\coqdoceol
\coqdocindent{1.50em}
\coqdoceol
\coqdocindent{1.50em}
\coqdoceol
\coqdocindent{1.50em}
\ensuremath{|} \coqdef{TrueProtoSynth.E KeepWaiting}{E\_KeepWaiting}{\coqdocconstructor{E\_KeepWaiting}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{st} \coqdocvar{n} \coqdocvar{stm}, \coqdoceol
\coqdocindent{3.50em}
\coqref{TrueProtoSynth.receiveN}{\coqdocdefinition{receiveN}} \coqdocvariable{n} (\coqref{TrueProtoSynth.getMe}{\coqdocdefinition{getMe}} \coqdocvariable{st}) \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{None}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{None}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdoceol
\coqdocindent{3.50em}
\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocconstructor{Wait} \coqdocnotation{>>} \coqdocvariable{stm}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqref{TrueProtoSynth.::x 'xE2x87x92' x}{\coqdocnotation{⇒}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocconstructor{Wait} \coqdocnotation{>>} \coqdocvariable{stm}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqdoceol
\coqdocindent{1.50em}
\ensuremath{|} \coqdef{TrueProtoSynth.E KeepWaiting2}{E\_KeepWaiting2}{\coqdocconstructor{E\_KeepWaiting2}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{st} \coqdocvar{n}, \coqdoceol
\coqdocindent{3.50em}
\coqref{TrueProtoSynth.receiveN}{\coqdocdefinition{receiveN}} \coqdocvariable{n} (\coqref{TrueProtoSynth.getMe}{\coqdocdefinition{getMe}} \coqdocvariable{st}) \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{None}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{None}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdoceol
\coqdocindent{3.50em}
\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocconstructor{Wait}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqref{TrueProtoSynth.::x 'xE2x87x92' x}{\coqdocnotation{⇒}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocconstructor{Wait}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqdoceol
\coqdocindent{1.50em}
\coqdockw{where} \coqdef{TrueProtoSynth.::x 'xE2x87x92' x}{"}{"}x '⇒' x' " := (\coqref{TrueProtoSynth.stmEval}{\coqdocinductive{stmEval}} \coqdocvar{x} \coqdocvar{x'}).\coqdoceol
\coqdocnoindent
\coqdockw{Hint Constructors} \coqref{TrueProtoSynth.stmEval}{\coqdocinductive{stmEval}}.\coqdoceol
\coqdocnoindent
\coqdockw{Ltac} \coqdocvar{chain} := (\coqdoctac{apply} \coqref{TrueProtoSynth.E Chain}{\coqdocconstructor{E\_Chain}}) + (\coqdoctac{eapply} \coqref{TrueProtoSynth.E Chain}{\coqdocconstructor{E\_Chain}}).\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Reserved Notation} "x ⇒* x'"(\coqdoctac{at} \coqdockw{level} 35).\coqdoceol
\coqdocnoindent
\coqdockw{Inductive} \coqdef{TrueProtoSynth.MultiStep stmEval}{MultiStep\_stmEval}{\coqdocinductive{MultiStep\_stmEval}} : \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{(}}\coqdocinductive{Statement} \coqexternalref{:type scope:x '*' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{\ensuremath{\times}}} \coqdocinductive{State} \coqexternalref{:type scope:x '*' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{\ensuremath{\times}}} \coqdocdefinition{Network}\coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{)}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{(}}\coqdocinductive{Statement} \coqexternalref{:type scope:x '*' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{\ensuremath{\times}}} \coqdocinductive{State} \coqexternalref{:type scope:x '*' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{\ensuremath{\times}}} \coqdocdefinition{Network}\coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{)}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdockw{Prop} := \coqdoceol
\coqdocnoindent
\ensuremath{|} \coqdef{TrueProtoSynth.multistep id}{multistep\_id}{\coqdocconstructor{multistep\_id}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{stm} \coqdocvar{st} \coqdocvar{n} \coqdocvar{stm'} \coqdocvar{st'} \coqdocvar{n'}, \coqref{TrueProtoSynth.stmEval}{\coqdocinductive{stmEval}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvariable{stm}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvariable{stm'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{st'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{n'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqref{TrueProtoSynth.MultiStep stmEval}{\coqdocinductive{MultiStep\_stmEval}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvariable{stm}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvariable{stm'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{st'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{n'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}}\coqdoceol
\coqdocnoindent
\ensuremath{|} \coqdef{TrueProtoSynth.multistep step}{multistep\_step}{\coqdocconstructor{multistep\_step}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{stm} \coqdocvar{st} \coqdocvar{n} \coqdocvar{stm'} \coqdocvar{st'} \coqdocvar{n'} \coqdocvar{stm'{}'} \coqdocvar{st'{}'} \coqdocvar{n'{}'}, \coqdoceol
\coqdocnoindent
\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvariable{stm}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}}    \coqref{TrueProtoSynth.::x 'xE2x87x92*' x}{\coqdocnotation{⇒*}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvariable{stm'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{st'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}}  \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdoceol
\coqdocnoindent
\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvariable{stm'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{st'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{n'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}}   \coqref{TrueProtoSynth.::x 'xE2x87x92*' x}{\coqdocnotation{⇒*}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvariable{stm'{}'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{st'{}'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{n'{}'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdoceol
\coqdocnoindent
\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvariable{stm}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqref{TrueProtoSynth.::x 'xE2x87x92*' x}{\coqdocnotation{⇒*}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvariable{stm'{}'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{st'{}'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{n'{}'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}}\coqdoceol
\coqdocindent{0.50em}
\coqdockw{where} \coqdef{TrueProtoSynth.::x 'xE2x87x92*' x}{"}{"}x ⇒* x'" := (\coqref{TrueProtoSynth.MultiStep stmEval}{\coqdocinductive{MultiStep\_stmEval}} \coqdocvar{x} \coqdocvar{x'}).\coqdoceol
\coqdocnoindent
\coqdockw{Hint Constructors} \coqref{TrueProtoSynth.MultiStep stmEval}{\coqdocinductive{MultiStep\_stmEval}}.\coqdoceol
\coqdocnoindent
\coqdockw{Definition} \coqdef{TrueProtoSynth.notMe}{notMe}{\coqdocdefinition{notMe}} (\coqdocvar{p} : \coqdocinductive{Participant}) : \coqdocinductive{Participant} :=\coqdoceol
\coqdocnoindent
\coqdockw{match} \coqdocvariable{p} \coqdockw{with}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{ATTESTER} \ensuremath{\Rightarrow} \coqdocconstructor{APPRAISER}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{APPRAISER} \ensuremath{\Rightarrow} \coqdocconstructor{ATTESTER}\coqdoceol
\coqdocnoindent
\coqdockw{end}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Lemma} \coqdef{TrueProtoSynth.thm endEval}{thm\_endEval}{\coqdoclemma{thm\_endEval}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{st} \coqdocvar{st'} \coqdocvar{stm'} \coqdocvar{n} \coqdocvar{n'}, \coqdoceol
\coqdocnoindent
\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocconstructor{EndStatement}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqref{TrueProtoSynth.::x 'xE2x87x92*' x}{\coqdocnotation{⇒*}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvariable{stm'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{st'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqexternalref{False}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocinductive{False}}.\coqdoceol
\coqdocnoindent
\coqdockw{Proof}. \coqdoctac{intros}. \coqdoctac{dependent} \coqdoctac{induction} \coqdocvar{H}. \coqdoctac{inversion} \coqdocvar{H}. \coqdoctac{eauto}.\coqdoceol
\coqdocnoindent
\coqdockw{Qed}.\coqdoceol
\coqdocnoindent
\coqdockw{Hint Resolve} \coqdocvar{thm\_endEval}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Definition} \coqdef{TrueProtoSynth.proto handleCanSend}{proto\_handleCanSend}{\coqdocdefinition{proto\_handleCanSend}} (\coqdocvar{st} : \coqdocinductive{State}) :=\coqdoceol
\coqdocindent{0.50em}
\coqdocnotation{IFS} \coqdocconstructor{CanSend}\coqdoceol
\coqdocindent{2.00em}
\coqdocnotation{THEN} \coqdocconstructor{Compute} \coqdocconstructor{toSendMESSAGE} \coqdocconstructor{compGetMessageToSend} \coqdocnotation{>>}\coqdoceol
\coqdocindent{4.50em}
\coqdocconstructor{SendStatement} (\coqdocconstructor{variable} \coqdocconstructor{toSendMESSAGE}) (\coqref{TrueProtoSynth.getMe}{\coqdocdefinition{getMe}} \coqdocvariable{st}) (\coqref{TrueProtoSynth.notMe}{\coqdocdefinition{notMe}} (\coqref{TrueProtoSynth.getMe}{\coqdocdefinition{getMe}} \coqdocvariable{st})) \coqdocnotation{>>} \coqdoceol
\coqdocindent{4.50em}
\coqdocconstructor{Compute} (\coqdocconstructor{variden} 1) \coqdocconstructor{compGetfstQueue} \coqdocnotation{>>}\coqdoceol
\coqdocindent{4.50em}
\coqdocconstructor{EffectStatement} (\coqdocconstructor{effect\_ReducePrivacyWithRequest} (\coqdocconstructor{variable} (\coqdocconstructor{variden} 1))) \coqdocnotation{>>}\coqdoceol
\coqdocindent{4.50em}
\coqdocconstructor{EffectStatement} \coqdocconstructor{effect\_rmFstQueued} \coqdocnotation{>>}\coqdoceol
\coqdocindent{4.50em}
\coqdocconstructor{EffectStatement} (\coqdocconstructor{effect\_setAllGood} \coqdocconstructor{Yes}) \coqdocnotation{>>} \coqdoceol
\coqdocindent{4.50em}
\coqdocconstructor{EndStatement}\coqdoceol
\coqdocindent{2.00em}
\coqdocnotation{ELSE} \coqdoceol
\coqdocindent{3.00em}
\coqdocconstructor{EffectStatement} (\coqdocconstructor{effect\_setAllGood} \coqdocconstructor{No}) \coqdocnotation{>>} \coqdoceol
\coqdocindent{3.00em}
\coqdocconstructor{SendStatement} (\coqdocconstructor{const} \coqdocconstructor{constStop}) (\coqref{TrueProtoSynth.getMe}{\coqdocdefinition{getMe}} \coqdocvariable{st}) (\coqref{TrueProtoSynth.notMe}{\coqdocdefinition{notMe}} (\coqref{TrueProtoSynth.getMe}{\coqdocdefinition{getMe}} \coqdocvariable{st})) \coqdocnotation{>>} \coqdoceol
\coqdocindent{3.00em}
\coqdocconstructor{StopStatement} .\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Definition} \coqdef{TrueProtoSynth.proto handleExistsNextDesire}{proto\_handleExistsNextDesire}{\coqdocdefinition{proto\_handleExistsNextDesire}} (\coqdocvar{st} : \coqdocinductive{State}) :=\coqdoceol
\coqdocnoindent
\coqdocconstructor{Compute} \coqdocconstructor{toSendMESSAGE} \coqdocconstructor{compGetNextRequest} \coqdocnotation{>>}\coqdoceol
\coqdocnoindent
\coqdocconstructor{EffectStatement} \coqdocconstructor{effect\_MvFirstDesire} \coqdocnotation{>>} \coqdoceol
\coqdocnoindent
\coqdocconstructor{SendStatement} (\coqdocconstructor{variable} \coqdocconstructor{toSendMESSAGE}) (\coqref{TrueProtoSynth.getMe}{\coqdocdefinition{getMe}} \coqdocvariable{st}) (\coqref{TrueProtoSynth.notMe}{\coqdocdefinition{notMe}} (\coqref{TrueProtoSynth.getMe}{\coqdocdefinition{getMe}} \coqdocvariable{st})) \coqdocnotation{>>} \coqdoceol
\coqdocnoindent
\coqdocconstructor{EffectStatement} (\coqdocconstructor{effect\_setAllGood} \coqdocconstructor{Yes}) \coqdocnotation{>>}\coqdoceol
\coqdocnoindent
\coqdocconstructor{EndStatement}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Definition} \coqdef{TrueProtoSynth.proto handleNoNextDesire}{proto\_handleNoNextDesire}{\coqdocdefinition{proto\_handleNoNextDesire}} (\coqdocvar{st} : \coqdocinductive{State}) :=\coqdoceol
\coqdocnoindent
\coqdocconstructor{EffectStatement} (\coqdocconstructor{effect\_setAllGood} \coqdocconstructor{Yes}) \coqdocnotation{>>} \coqdoceol
\coqdocnoindent
\coqdocconstructor{SendStatement} (\coqdocconstructor{const} \coqdocconstructor{constStop}) (\coqref{TrueProtoSynth.getMe}{\coqdocdefinition{getMe}} \coqdocvariable{st}) (\coqref{TrueProtoSynth.notMe}{\coqdocdefinition{notMe}} (\coqref{TrueProtoSynth.getMe}{\coqdocdefinition{getMe}} \coqdocvariable{st})) \coqdocnotation{>>} \coqdoceol
\coqdocnoindent
\coqdocconstructor{StopStatement}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Definition} \coqdef{TrueProtoSynth.proto handleCantSend}{proto\_handleCantSend}{\coqdocdefinition{proto\_handleCantSend}} (\coqdocvar{st} : \coqdocinductive{State}):= \coqdocnotation{IFS} \coqdocconstructor{ExistsNextDesire}\coqdoceol
\coqdocindent{2.00em}
\coqdocnotation{THEN} \coqdoceol
\coqdocindent{3.00em}
\coqref{TrueProtoSynth.proto handleExistsNextDesire}{\coqdocdefinition{proto\_handleExistsNextDesire}} \coqdocvariable{st}\coqdoceol
\coqdocindent{2.00em}
\coqdocnotation{ELSE} \coqdoceol
\coqdocindent{3.00em}
\coqref{TrueProtoSynth.proto handleNoNextDesire}{\coqdocdefinition{proto\_handleNoNextDesire}} \coqdocvariable{st}\coqdoceol
\coqdocindent{3.00em}
.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Definition} \coqdef{TrueProtoSynth.proto handleIsMyTurnToSend}{proto\_handleIsMyTurnToSend}{\coqdocdefinition{proto\_handleIsMyTurnToSend}} (\coqdocvar{st}: \coqdocinductive{State}) := \coqdoceol
\coqdocnoindent
(\coqdocnotation{IFS} \coqdocconstructor{IsAllGood} \coqdocnotation{THEN}\coqdoceol
\coqdocindent{2.00em}
\coqdocconstructor{EffectStatement} (\coqdocconstructor{effect\_setAllGood} \coqdocconstructor{Unset}) \coqdocnotation{>>}\coqdoceol
\coqdocindent{2.00em}
\coqdocnotation{IFS} \coqdocconstructor{QueuedRequestsExist}\coqdoceol
\coqdocindent{3.00em}
\coqdocnotation{THEN} \coqdoceol
\coqdocindent{4.50em}
\coqref{TrueProtoSynth.proto handleCanSend}{\coqdocdefinition{proto\_handleCanSend}} \coqdocvariable{st}\coqdoceol
\coqdocindent{3.00em}
\coqdocnotation{ELSE} \coqdoceol
\coqdocindent{4.50em}
\coqref{TrueProtoSynth.proto handleCantSend}{\coqdocdefinition{proto\_handleCantSend}} \coqdocvariable{st}\coqdoceol
\coqdocindent{0.50em}
\coqdocnotation{ELSE}\coqdoceol
\coqdocindent{2.00em}
\coqdocconstructor{SendStatement} (\coqdocconstructor{const} \coqdocconstructor{constStop}) (\coqref{TrueProtoSynth.getMe}{\coqdocdefinition{getMe}} \coqdocvariable{st}) (\coqref{TrueProtoSynth.notMe}{\coqdocdefinition{notMe}} (\coqref{TrueProtoSynth.getMe}{\coqdocdefinition{getMe}} \coqdocvariable{st})) \coqdocnotation{>>}\coqdoceol
\coqdocindent{2.00em}
\coqdocconstructor{StopStatement}\coqdoceol
\coqdocnoindent
).\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Definition} \coqdef{TrueProtoSynth.proto handleNotMyTurnToSend}{proto\_handleNotMyTurnToSend}{\coqdocdefinition{proto\_handleNotMyTurnToSend}} (\coqdocvar{st} : \coqdocinductive{State}) :=\coqdoceol
\coqdocnoindent
\coqdocconstructor{ReceiveStatement} (\coqdocconstructor{receivedMESSAGE}) \coqdocnotation{>>}\coqdoceol
\coqdocnoindent
\coqdocnotation{IFS} \coqdocnotation{(}\coqdocconstructor{IsMeasurement} (\coqdocconstructor{variable} (\coqdocconstructor{receivedMESSAGE}))\coqdocnotation{)}\coqdoceol
\coqdocindent{0.50em}
\coqdocnotation{THEN} \coqdoceol
\coqdocindent{1.50em}
\coqdocconstructor{EffectStatement} (\coqdocconstructor{effect\_ReduceStatewithMeasurement} (\coqdocconstructor{variable} (\coqdocconstructor{receivedMESSAGE})) ) \coqdocnotation{>>} \coqdocconstructor{EndStatement}\coqdoceol
\coqdocindent{0.50em}
\coqdocnotation{ELSE}\coqdoceol
\coqdocindent{1.00em}
\coqdocnotation{(}\coqdocnotation{IFS} \coqdocnotation{(}\coqdocconstructor{IsRequest} (\coqdocconstructor{variable} (\coqdocconstructor{receivedMESSAGE}))\coqdocnotation{)}\coqdoceol
\coqdocindent{2.00em}
\coqdocnotation{THEN} \coqdoceol
\coqdocindent{3.00em}
\coqdocconstructor{EffectStatement} (\coqdocconstructor{effect\_StoreRequest} (\coqdocconstructor{variable} (\coqdocconstructor{receivedMESSAGE}))) \coqdocnotation{>>} \coqdocconstructor{EndStatement}\coqdoceol
\coqdocindent{2.00em}
\coqdocnotation{ELSE} \coqdoceol
\coqdocindent{3.00em}
\coqdocconstructor{StopStatement}\coqdoceol
\coqdocindent{1.00em}
\coqdocnotation{)}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Definition} \coqdef{TrueProtoSynth.OneProtocolStep}{OneProtocolStep}{\coqdocdefinition{OneProtocolStep}} (\coqdocvar{st} : \coqdocinductive{State}) : \coqdocinductive{Statement} :=\coqdoceol
\coqdocindent{1.00em}
\coqdoceol
\coqdocnoindent
(\coqdoceol
\coqdocnoindent
\coqdocnotation{IFS} \coqdocconstructor{IsMyTurntoSend} \coqdocnotation{THEN}\coqdoceol
\coqdocindent{0.50em}
\coqref{TrueProtoSynth.proto handleIsMyTurnToSend}{\coqdocdefinition{proto\_handleIsMyTurnToSend}} \coqdocvariable{st}\coqdoceol
\coqdocindent{3.00em}
\coqdoceol
\coqdocnoindent
\coqdocnotation{ELSE} \coqdoceol
\coqdocindent{0.50em}
\coqref{TrueProtoSynth.proto handleNotMyTurnToSend}{\coqdocdefinition{proto\_handleNotMyTurnToSend}} \coqdocvariable{st}\coqdoceol
\coqdocindent{2.50em}
).\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Definition} \coqdef{TrueProtoSynth.getProState}{getProState}{\coqdocdefinition{getProState}} (\coqdocvar{st} : \coqdocinductive{State}) : \coqdocinductive{ProState} :=\coqdoceol
\coqdocnoindent
\coqdockw{match} \coqdocvariable{st} \coqdockw{with}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{state} \coqdocvar{\_} \coqdocvar{ps} \ensuremath{\Rightarrow} \coqdocvar{ps}\coqdoceol
\coqdocnoindent
\coqdockw{end}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Fixpoint} \coqdef{TrueProtoSynth.headStatement}{headStatement}{\coqdocdefinition{headStatement}} (\coqdocvar{stm} : \coqdocinductive{Statement}) : \coqdocinductive{Statement} :=\coqdoceol
\coqdocnoindent
\coqdockw{match} \coqdocvariable{stm} \coqdockw{with}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{Chain} \coqdocvar{stm1} \coqdocvar{\_} \ensuremath{\Rightarrow} \coqref{TrueProtoSynth.headStatement}{\coqdocdefinition{headStatement}} \coqdocvar{stm1} \coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocvar{stmm} \ensuremath{\Rightarrow} \coqdocvar{stmm}\coqdoceol
\coqdocnoindent
\coqdockw{end}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Fixpoint} \coqdef{TrueProtoSynth.lastMessage}{lastMessage}{\coqdocdefinition{lastMessage}} (\coqdocvar{n}:\coqdocdefinition{Network}) : \coqexternalref{option}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocinductive{option}} \coqdocinductive{NetworkMessage} :=\coqdoceol
\coqdocnoindent
\coqdockw{match} \coqdocvariable{n} \coqdockw{with}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqexternalref{nil}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{nil}} \ensuremath{\Rightarrow} \coqexternalref{None}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{None}}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqexternalref{cons}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{cons}} \coqdocvar{x} \coqexternalref{nil}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{nil}} \ensuremath{\Rightarrow} \coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} \coqdocvar{x}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqexternalref{cons}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{cons}} \coqdocvar{\_} \coqdocvar{xs} \ensuremath{\Rightarrow} \coqref{TrueProtoSynth.lastMessage}{\coqdocdefinition{lastMessage}} \coqdocvar{xs}\coqdoceol
\coqdocnoindent
\coqdockw{end}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Fixpoint} \coqdef{TrueProtoSynth.hasNetworkAction}{hasNetworkAction}{\coqdocdefinition{hasNetworkAction}} (\coqdocvar{stm}:\coqdocinductive{Statement}) : \coqexternalref{bool}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocinductive{bool}} :=\coqdoceol
\coqdocnoindent
\coqdockw{match} \coqdocvariable{stm} \coqdockw{with}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{SendStatement} \coqdocvar{x} \coqdocvar{x0} \coqdocvar{x1} \ensuremath{\Rightarrow} \coqexternalref{false}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{false}}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{ReceiveStatement} \coqdocvar{x} \ensuremath{\Rightarrow} \coqexternalref{false}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{false}}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocvar{\_} \ensuremath{\Rightarrow} \coqexternalref{true}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{true}}\coqdoceol
\coqdocnoindent
\coqdockw{end}.\coqdoceol
\coqdocnoindent
\coqdockw{Fixpoint} \coqdef{TrueProtoSynth.countMaxNetworkActions}{countMaxNetworkActions}{\coqdocdefinition{countMaxNetworkActions}} (\coqdocvar{stm} : \coqdocinductive{Statement}) : \coqexternalref{nat}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocinductive{nat}} :=\coqdoceol
\coqdocnoindent
\coqdockw{match} \coqdocvariable{stm} \coqdockw{with}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{SendStatement} \coqdocvar{x} \coqdocvar{x0} \coqdocvar{x1} \ensuremath{\Rightarrow} 1\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{ReceiveStatement} \coqdocvar{x} \ensuremath{\Rightarrow} 1\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{Choose} \coqdocvar{x} \coqdocvar{x0} \coqdocvar{x1} \ensuremath{\Rightarrow} \coqexternalref{max}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Peano}{\coqdocabbreviation{max}} (\coqref{TrueProtoSynth.countMaxNetworkActions}{\coqdocdefinition{countMaxNetworkActions}} \coqdocvar{x0}) (\coqref{TrueProtoSynth.countMaxNetworkActions}{\coqdocdefinition{countMaxNetworkActions}} \coqdocvar{x1})\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{Chain} \coqdocvar{x} \coqdocvar{x0} \ensuremath{\Rightarrow} \coqexternalref{:nat scope:x '+' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Peano}{\coqdocnotation{(}}\coqref{TrueProtoSynth.countMaxNetworkActions}{\coqdocdefinition{countMaxNetworkActions}} \coqdocvar{x}\coqexternalref{:nat scope:x '+' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Peano}{\coqdocnotation{)}} \coqexternalref{:nat scope:x '+' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Peano}{\coqdocnotation{+}} \coqexternalref{:nat scope:x '+' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Peano}{\coqdocnotation{(}}\coqref{TrueProtoSynth.countMaxNetworkActions}{\coqdocdefinition{countMaxNetworkActions}} \coqdocvar{x0}\coqexternalref{:nat scope:x '+' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Peano}{\coqdocnotation{)}}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocvar{\_} \ensuremath{\Rightarrow} 0\coqdoceol
\coqdocnoindent
\coqdockw{end}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Fixpoint} \coqdef{TrueProtoSynth.countMinNetworkActions}{countMinNetworkActions}{\coqdocdefinition{countMinNetworkActions}} (\coqdocvar{stm} : \coqdocinductive{Statement}) : \coqexternalref{nat}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocinductive{nat}} :=\coqdoceol
\coqdocnoindent
\coqdockw{match} \coqdocvariable{stm} \coqdockw{with}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{SendStatement} \coqdocvar{x} \coqdocvar{x0} \coqdocvar{x1} \ensuremath{\Rightarrow} 1\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{ReceiveStatement} \coqdocvar{x} \ensuremath{\Rightarrow} 1\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{Choose} \coqdocvar{x} \coqdocvar{x0} \coqdocvar{x1} \ensuremath{\Rightarrow} \coqexternalref{min}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Peano}{\coqdocabbreviation{min}} (\coqref{TrueProtoSynth.countMinNetworkActions}{\coqdocdefinition{countMinNetworkActions}} \coqdocvar{x0}) (\coqref{TrueProtoSynth.countMinNetworkActions}{\coqdocdefinition{countMinNetworkActions}} \coqdocvar{x1})\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{Chain} \coqdocvar{x} \coqdocvar{x0} \ensuremath{\Rightarrow} \coqexternalref{:nat scope:x '+' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Peano}{\coqdocnotation{(}}\coqref{TrueProtoSynth.countMinNetworkActions}{\coqdocdefinition{countMinNetworkActions}} \coqdocvar{x}\coqexternalref{:nat scope:x '+' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Peano}{\coqdocnotation{)}} \coqexternalref{:nat scope:x '+' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Peano}{\coqdocnotation{+}} \coqexternalref{:nat scope:x '+' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Peano}{\coqdocnotation{(}}\coqref{TrueProtoSynth.countMinNetworkActions}{\coqdocdefinition{countMinNetworkActions}} \coqdocvar{x0}\coqexternalref{:nat scope:x '+' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Peano}{\coqdocnotation{)}}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocvar{\_} \ensuremath{\Rightarrow} 0\coqdoceol
\coqdocnoindent
\coqdockw{end}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Theorem} \coqdef{TrueProtoSynth.thm onestepProtocolmaxAction eq minAction}{thm\_onestepProtocolmaxAction\_eq\_minAction}{\coqdoclemma{thm\_onestepProtocolmaxAction\_eq\_minAction}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{st}, \coqdoceol
\coqdocnoindent
\coqref{TrueProtoSynth.countMinNetworkActions}{\coqdocdefinition{countMinNetworkActions}} (\coqref{TrueProtoSynth.OneProtocolStep}{\coqdocdefinition{OneProtocolStep}} \coqdocvariable{st}) \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{(}}\coqref{TrueProtoSynth.countMaxNetworkActions}{\coqdocdefinition{countMaxNetworkActions}} (\coqref{TrueProtoSynth.OneProtocolStep}{\coqdocdefinition{OneProtocolStep}} \coqdocvariable{st})\coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{)}}.\coqdoceol
\coqdocnoindent
\coqdockw{Proof}. \coqdoctac{intros}; \coqdoctac{compute}; \coqdoctac{reflexivity}.\coqdoceol
\coqdocnoindent
\coqdockw{Qed}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Theorem} \coqdef{TrueProtoSynth.thm onestepProtocolmaxAction eq 1}{thm\_onestepProtocolmaxAction\_eq\_1}{\coqdoclemma{thm\_onestepProtocolmaxAction\_eq\_1}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{st}, \coqdoceol
\coqdocnoindent
\coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{(}}\coqref{TrueProtoSynth.countMaxNetworkActions}{\coqdocdefinition{countMaxNetworkActions}} (\coqref{TrueProtoSynth.OneProtocolStep}{\coqdocdefinition{OneProtocolStep}} \coqdocvariable{st})\coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{)}} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} 1.\coqdoceol
\coqdocnoindent
\coqdockw{Proof}. \coqdoctac{intros}. \coqdoctac{compute}. \coqdoctac{reflexivity}.\coqdoceol
\coqdocnoindent
\coqdockw{Qed}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Fixpoint} \coqdef{TrueProtoSynth.countMinSends}{countMinSends}{\coqdocdefinition{countMinSends}} (\coqdocvar{stm} : \coqdocinductive{Statement}) : \coqexternalref{nat}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocinductive{nat}} :=\coqdoceol
\coqdocnoindent
\coqdockw{match} \coqdocvariable{stm} \coqdockw{with}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{SendStatement} \coqdocvar{x} \coqdocvar{x0} \coqdocvar{x1} \ensuremath{\Rightarrow} 1\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{Choose} \coqdocvar{x} \coqdocvar{x0} \coqdocvar{x1} \ensuremath{\Rightarrow} \coqexternalref{min}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Peano}{\coqdocabbreviation{min}} (\coqref{TrueProtoSynth.countMinSends}{\coqdocdefinition{countMinSends}} \coqdocvar{x0}) (\coqref{TrueProtoSynth.countMinSends}{\coqdocdefinition{countMinSends}} \coqdocvar{x1})\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{Chain} \coqdocvar{x} \coqdocvar{x0} \ensuremath{\Rightarrow} \coqexternalref{:nat scope:x '+' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Peano}{\coqdocnotation{(}}\coqref{TrueProtoSynth.countMinSends}{\coqdocdefinition{countMinSends}} \coqdocvar{x}\coqexternalref{:nat scope:x '+' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Peano}{\coqdocnotation{)}} \coqexternalref{:nat scope:x '+' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Peano}{\coqdocnotation{+}} \coqexternalref{:nat scope:x '+' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Peano}{\coqdocnotation{(}}\coqref{TrueProtoSynth.countMinSends}{\coqdocdefinition{countMinSends}} \coqdocvar{x0}\coqexternalref{:nat scope:x '+' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Peano}{\coqdocnotation{)}}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocvar{\_} \ensuremath{\Rightarrow} 0\coqdoceol
\coqdocnoindent
\coqdockw{end}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Fixpoint} \coqdef{TrueProtoSynth.countMinReceives}{countMinReceives}{\coqdocdefinition{countMinReceives}} (\coqdocvar{stm} : \coqdocinductive{Statement}) : \coqexternalref{nat}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocinductive{nat}} :=\coqdoceol
\coqdocnoindent
\coqdockw{match} \coqdocvariable{stm} \coqdockw{with}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{ReceiveStatement} \coqdocvar{x} \ensuremath{\Rightarrow} 1\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{Choose} \coqdocvar{x} \coqdocvar{x0} \coqdocvar{x1} \ensuremath{\Rightarrow} \coqexternalref{min}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Peano}{\coqdocabbreviation{min}} (\coqref{TrueProtoSynth.countMinReceives}{\coqdocdefinition{countMinReceives}} \coqdocvar{x0}) (\coqref{TrueProtoSynth.countMinReceives}{\coqdocdefinition{countMinReceives}} \coqdocvar{x1})\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{Chain} \coqdocvar{x} \coqdocvar{x0} \ensuremath{\Rightarrow} \coqexternalref{:nat scope:x '+' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Peano}{\coqdocnotation{(}}\coqref{TrueProtoSynth.countMinReceives}{\coqdocdefinition{countMinReceives}} \coqdocvar{x}\coqexternalref{:nat scope:x '+' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Peano}{\coqdocnotation{)}} \coqexternalref{:nat scope:x '+' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Peano}{\coqdocnotation{+}} \coqexternalref{:nat scope:x '+' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Peano}{\coqdocnotation{(}}\coqref{TrueProtoSynth.countMinReceives}{\coqdocdefinition{countMinReceives}} \coqdocvar{x0}\coqexternalref{:nat scope:x '+' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Peano}{\coqdocnotation{)}}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocvar{\_} \ensuremath{\Rightarrow} 0\coqdoceol
\coqdocnoindent
\coqdockw{end}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Fixpoint} \coqdef{TrueProtoSynth.countMaxSends}{countMaxSends}{\coqdocdefinition{countMaxSends}} (\coqdocvar{stm} : \coqdocinductive{Statement}) : \coqexternalref{nat}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocinductive{nat}} :=\coqdoceol
\coqdocnoindent
\coqdockw{match} \coqdocvariable{stm} \coqdockw{with}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{SendStatement} \coqdocvar{x} \coqdocvar{x0} \coqdocvar{x1} \ensuremath{\Rightarrow} 1\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{Choose} \coqdocvar{x} \coqdocvar{x0} \coqdocvar{x1} \ensuremath{\Rightarrow} \coqexternalref{max}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Peano}{\coqdocabbreviation{max}} (\coqref{TrueProtoSynth.countMaxSends}{\coqdocdefinition{countMaxSends}} \coqdocvar{x0}) (\coqref{TrueProtoSynth.countMaxSends}{\coqdocdefinition{countMaxSends}} \coqdocvar{x1})\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{Chain} \coqdocvar{x} \coqdocvar{x0} \ensuremath{\Rightarrow} \coqexternalref{:nat scope:x '+' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Peano}{\coqdocnotation{(}}\coqref{TrueProtoSynth.countMaxSends}{\coqdocdefinition{countMaxSends}} \coqdocvar{x}\coqexternalref{:nat scope:x '+' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Peano}{\coqdocnotation{)}} \coqexternalref{:nat scope:x '+' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Peano}{\coqdocnotation{+}} \coqexternalref{:nat scope:x '+' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Peano}{\coqdocnotation{(}}\coqref{TrueProtoSynth.countMaxSends}{\coqdocdefinition{countMaxSends}} \coqdocvar{x0}\coqexternalref{:nat scope:x '+' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Peano}{\coqdocnotation{)}}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocvar{\_} \ensuremath{\Rightarrow} 0\coqdoceol
\coqdocnoindent
\coqdockw{end}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Fixpoint} \coqdef{TrueProtoSynth.countMaxReceives}{countMaxReceives}{\coqdocdefinition{countMaxReceives}} (\coqdocvar{stm} : \coqdocinductive{Statement}) : \coqexternalref{nat}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocinductive{nat}} :=\coqdoceol
\coqdocnoindent
\coqdockw{match} \coqdocvariable{stm} \coqdockw{with}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{ReceiveStatement} \coqdocvar{x} \ensuremath{\Rightarrow} 1\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{Choose} \coqdocvar{x} \coqdocvar{x0} \coqdocvar{x1} \ensuremath{\Rightarrow} \coqexternalref{max}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Peano}{\coqdocabbreviation{max}} (\coqref{TrueProtoSynth.countMaxReceives}{\coqdocdefinition{countMaxReceives}} \coqdocvar{x0}) (\coqref{TrueProtoSynth.countMaxReceives}{\coqdocdefinition{countMaxReceives}} \coqdocvar{x1})\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{Chain} \coqdocvar{x} \coqdocvar{x0} \ensuremath{\Rightarrow} \coqexternalref{:nat scope:x '+' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Peano}{\coqdocnotation{(}}\coqref{TrueProtoSynth.countMaxReceives}{\coqdocdefinition{countMaxReceives}} \coqdocvar{x}\coqexternalref{:nat scope:x '+' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Peano}{\coqdocnotation{)}} \coqexternalref{:nat scope:x '+' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Peano}{\coqdocnotation{+}} \coqexternalref{:nat scope:x '+' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Peano}{\coqdocnotation{(}}\coqref{TrueProtoSynth.countMaxReceives}{\coqdocdefinition{countMaxReceives}} \coqdocvar{x0}\coqexternalref{:nat scope:x '+' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Peano}{\coqdocnotation{)}}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocvar{\_} \ensuremath{\Rightarrow} 0\coqdoceol
\coqdocnoindent
\coqdockw{end}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Inductive} \coqdef{TrueProtoSynth.SingularNetworkAction}{SingularNetworkAction}{\coqdocinductive{SingularNetworkAction}} :\coqdocinductive{Statement} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdocinductive{Action} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdockw{Prop} :=\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdef{TrueProtoSynth.s Send}{s\_Send}{\coqdocconstructor{s\_Send}} (\coqdocvar{stm} : \coqdocinductive{Statement}): \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{(}}\coqref{TrueProtoSynth.countMaxReceives}{\coqdocdefinition{countMaxReceives}} \coqdocvariable{stm}\coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{)}} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} 0 \coqexternalref{:type scope:x '/x5C' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\land}}} \coqdoceol
\coqdocindent{14.50em}
\coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{(}}\coqref{TrueProtoSynth.countMinSends}{\coqdocdefinition{countMinSends}} \coqdocvariable{stm}\coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{)}} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} 1 \coqexternalref{:type scope:x '/x5C' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\land}}}\coqdoceol
\coqdocindent{14.50em}
\coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{(}}\coqref{TrueProtoSynth.countMaxSends}{\coqdocdefinition{countMaxSends}} \coqdocvariable{stm}\coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{)}} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} 1 \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqref{TrueProtoSynth.SingularNetworkAction}{\coqdocinductive{SingularNetworkAction}} \coqdocvariable{stm} \coqdocconstructor{ASend}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdef{TrueProtoSynth.s Receive}{s\_Receive}{\coqdocconstructor{s\_Receive}} (\coqdocvar{stm} : \coqdocinductive{Statement}): \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{(}}\coqref{TrueProtoSynth.countMaxSends}{\coqdocdefinition{countMaxSends}} \coqdocvariable{stm}\coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{)}} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} 0 \coqexternalref{:type scope:x '/x5C' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\land}}}\coqdoceol
\coqdocindent{14.50em}
\coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{(}}\coqref{TrueProtoSynth.countMinReceives}{\coqdocdefinition{countMinReceives}} \coqdocvariable{stm}\coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{)}} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} 1 \coqexternalref{:type scope:x '/x5C' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\land}}} \coqdoceol
\coqdocindent{14.50em}
\coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{(}}\coqref{TrueProtoSynth.countMaxReceives}{\coqdocdefinition{countMaxReceives}} \coqdocvariable{stm}\coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{)}} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} 1 \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqref{TrueProtoSynth.SingularNetworkAction}{\coqdocinductive{SingularNetworkAction}} \coqdocvariable{stm} \coqdocconstructor{AReceive}.\coqdoceol
\coqdocnoindent
\coqdockw{Hint Constructors} \coqref{TrueProtoSynth.SingularNetworkAction}{\coqdocinductive{SingularNetworkAction}}.\coqdoceol
\coqdocnoindent
\coqdockw{Inductive} \coqdef{TrueProtoSynth.NetworkActionChain}{NetworkActionChain}{\coqdocinductive{NetworkActionChain}} : \coqdocinductive{Action} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdockw{Prop} :=\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdef{TrueProtoSynth.nac emptySend}{nac\_emptySend}{\coqdocconstructor{nac\_emptySend}} : \coqref{TrueProtoSynth.NetworkActionChain}{\coqdocinductive{NetworkActionChain}} \coqdocconstructor{ASend}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdef{TrueProtoSynth.nac emptyReceive}{nac\_emptyReceive}{\coqdocconstructor{nac\_emptyReceive}} : \coqref{TrueProtoSynth.NetworkActionChain}{\coqdocinductive{NetworkActionChain}} \coqdocconstructor{AReceive}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdef{TrueProtoSynth.nac Send}{nac\_Send}{\coqdocconstructor{nac\_Send}} \{\coqdocvar{stm}\} : \coqref{TrueProtoSynth.SingularNetworkAction}{\coqdocinductive{SingularNetworkAction}} \coqdocvariable{stm} \coqdocconstructor{ASend} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqref{TrueProtoSynth.NetworkActionChain}{\coqdocinductive{NetworkActionChain}} \coqdocconstructor{AReceive} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqref{TrueProtoSynth.NetworkActionChain}{\coqdocinductive{NetworkActionChain}} \coqdocconstructor{ASend}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdef{TrueProtoSynth.nac Receive}{nac\_Receive}{\coqdocconstructor{nac\_Receive}} \{\coqdocvar{stm}\}: \coqref{TrueProtoSynth.SingularNetworkAction}{\coqdocinductive{SingularNetworkAction}} \coqdocvariable{stm} \coqdocconstructor{AReceive} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqref{TrueProtoSynth.NetworkActionChain}{\coqdocinductive{NetworkActionChain}} \coqdocconstructor{ASend} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqref{TrueProtoSynth.NetworkActionChain}{\coqdocinductive{NetworkActionChain}} \coqdocconstructor{AReceive}.\coqdoceol
\coqdocindent{0.50em}
\coqdockw{Hint Constructors} \coqref{TrueProtoSynth.NetworkActionChain}{\coqdocinductive{NetworkActionChain}}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Theorem} \coqdef{TrueProtoSynth.thm oneStepSend}{thm\_oneStepSend}{\coqdoclemma{thm\_oneStepSend}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{st} \coqdocvar{stm'} \coqdocvar{n}, \coqdoceol
\coqdocindent{0.50em}
\coqref{TrueProtoSynth.evalChoose}{\coqdocdefinition{evalChoose}} \coqdocconstructor{IsMyTurntoSend} \coqdocvariable{st} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{true}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{true}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdoceol
\coqdocindent{0.50em}
\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqref{TrueProtoSynth.OneProtocolStep}{\coqdocdefinition{OneProtocolStep}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqref{TrueProtoSynth.::x 'xE2x87x92' x}{\coqdocnotation{⇒}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvariable{stm'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}}\coqdoceol
\coqdocindent{0.50em}
\coqref{TrueProtoSynth.SingularNetworkAction}{\coqdocinductive{SingularNetworkAction}} \coqdocvariable{stm'} \coqdocconstructor{ASend}.\coqdoceol
\coqdocindent{0.50em}
\coqdockw{Proof}. \coqdoctac{intros}. \coqdoctac{inversion} \coqdocvar{H0}; \coqdoctac{subst}.\coqdoceol
\coqdocindent{0.50em}
\coqdoctac{apply} \coqref{TrueProtoSynth.s Send}{\coqdocconstructor{s\_Send}}. \coqdoctac{simpl}. \coqdoctac{omega}. \coqdoctac{rewrite} \coqdocvar{H} \coqdoctac{in} \coqdocvar{H2}. \coqdoctac{inversion} \coqdocvar{H2}.\coqdoceol
\coqdocindent{0.50em}
\coqdockw{Qed}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Theorem} \coqdef{TrueProtoSynth.thm oneStepReceives}{thm\_oneStepReceives}{\coqdoclemma{thm\_oneStepReceives}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{st} \coqdocvar{stm'} \coqdocvar{n}, \coqdoceol
\coqdocindent{0.50em}
\coqref{TrueProtoSynth.evalChoose}{\coqdocdefinition{evalChoose}} \coqdocconstructor{IsMyTurntoSend} \coqdocvariable{st} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{false}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{false}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdoceol
\coqdocindent{0.50em}
\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqref{TrueProtoSynth.OneProtocolStep}{\coqdocdefinition{OneProtocolStep}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqref{TrueProtoSynth.::x 'xE2x87x92' x}{\coqdocnotation{⇒}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvariable{stm'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}}\coqdoceol
\coqdocindent{0.50em}
\coqref{TrueProtoSynth.SingularNetworkAction}{\coqdocinductive{SingularNetworkAction}} \coqdocvariable{stm'} \coqdocconstructor{AReceive}.\coqdoceol
\coqdocindent{0.50em}
\coqdockw{Proof}. \coqdoctac{intros}. \coqdoctac{inversion} \coqdocvar{H0}; \coqdoctac{subst}.\coqdoceol
\coqdocindent{0.50em}
\coqdoctac{rewrite} \coqdocvar{H} \coqdoctac{in} \coqdocvar{H2}. \coqdoctac{inversion} \coqdocvar{H2}.\coqdoceol
\coqdocindent{0.50em}
\coqdoctac{apply} \coqref{TrueProtoSynth.s Receive}{\coqdocconstructor{s\_Receive}}. \coqdoctac{simpl}. \coqdoctac{omega}.\coqdoceol
\coqdocindent{0.50em}
\coqdockw{Qed}.\coqdoceol
\coqdocindent{0.50em}
\coqdockw{Hint Resolve} \coqdocvar{thm\_oneStepSend} \coqdocvar{thm\_oneStepReceives}.\coqdoceol
\coqdocindent{0.50em}
\coqdockw{SearchAbout} \coqdocinductive{Action}.\coqdoceol
\coqdocemptyline
\coqdocindent{0.50em}
\coqdockw{Definition} \coqdef{TrueProtoSynth.reverse}{reverse}{\coqdocdefinition{reverse}} (\coqdocvar{a} : \coqdocinductive{Action}) : \coqdocinductive{Action} := \coqdoceol
\coqdocindent{0.50em}
\coqdockw{match} \coqdocvariable{a} \coqdockw{with}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{ASend} \ensuremath{\Rightarrow} \coqdocconstructor{AReceive}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{AReceive} \ensuremath{\Rightarrow} \coqdocconstructor{ASend}\coqdoceol
\coqdocnoindent
\coqdockw{end}.\coqdoceol
\coqdocemptyline
\coqdocindent{0.50em}
\coqdockw{Definition} \coqdef{TrueProtoSynth.switchSendRec}{switchSendRec}{\coqdocdefinition{switchSendRec}} ( \coqdocvar{st} : \coqdocinductive{State}) : \coqdocinductive{State} := \coqdoceol
\coqdocindent{1.00em}
\coqdockw{match} \coqdocvariable{st} \coqdockw{with}\coqdoceol
\coqdocindent{1.50em}
\ensuremath{|} \coqdocconstructor{state} \coqdocvar{vars} \coqdocvar{ps}\ensuremath{\Rightarrow} \coqdockw{match} \coqdocvar{ps} \coqdockw{with}\coqdoceol
\coqdocindent{3.50em}
\ensuremath{|} \coqdocconstructor{proState} \coqdocvar{a} \coqdocvar{g} \coqdocvar{b} \coqdocvar{c} \coqdocvar{d} \coqdocvar{e} \coqdocvar{f} \ensuremath{\Rightarrow} \coqdocconstructor{state} \coqdocvar{vars} (\coqdocconstructor{proState} (\coqref{TrueProtoSynth.reverse}{\coqdocdefinition{reverse}} \coqdocvar{a}) \coqdocvar{g} \coqdocvar{b} \coqdocvar{c} \coqdocvar{d} \coqdocvar{e} \coqdocvar{f})\coqdoceol
\coqdocindent{3.00em}
\coqdockw{end}\coqdoceol
\coqdocnoindent
\coqdoceol
\coqdocindent{1.00em}
\coqdockw{end}.\coqdoceol
\coqdocindent{1.00em}
\coqdockw{Definition} \coqdef{TrueProtoSynth.getAction}{getAction}{\coqdocdefinition{getAction}} ( \coqdocvar{st} : \coqdocinductive{State}) : \coqdocinductive{Action} := \coqdoceol
\coqdocindent{1.00em}
\coqdockw{match} \coqdocvariable{st} \coqdockw{with}\coqdoceol
\coqdocindent{1.50em}
\ensuremath{|} \coqdocconstructor{state} \coqdocvar{vars} \coqdocvar{ps}\ensuremath{\Rightarrow} \coqdockw{match} \coqdocvar{ps} \coqdockw{with}\coqdoceol
\coqdocindent{3.50em}
\ensuremath{|} \coqdocconstructor{proState} \coqdocvar{a} \coqdocvar{g} \coqdocvar{b} \coqdocvar{c} \coqdocvar{d} \coqdocvar{e} \coqdocvar{f} \ensuremath{\Rightarrow} \coqdocvar{a}\coqdoceol
\coqdocindent{3.00em}
\coqdockw{end}\coqdoceol
\coqdocindent{1.00em}
\coqdockw{end}.\coqdoceol
\coqdocindent{1.00em}
\coqdockw{Definition} \coqdef{TrueProtoSynth.rever}{rever}{\coqdocdefinition{rever}} (\coqdocvar{st} : \coqdocinductive{State}) : \coqdocinductive{State} := \coqdoceol
\coqdocnoindent
\coqdockw{match} \coqdocvariable{st} \coqdockw{with}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{state} \coqdocvar{vars} \coqdocvar{ps} \ensuremath{\Rightarrow} \coqdockw{match} \coqdocvar{ps} \coqdockw{with}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{proState} \coqdocvar{x} \coqdocvar{x0} \coqdocvar{x1} \coqdocvar{x2} \coqdocvar{x3} \coqdocvar{x4} \coqdocvar{x5} \ensuremath{\Rightarrow} \coqdocconstructor{state} \coqdocvar{vars} (\coqdocconstructor{proState} (\coqref{TrueProtoSynth.reverse}{\coqdocdefinition{reverse}} \coqdocvar{x}) \coqdocvar{x0} \coqdocvar{x1} \coqdocvar{x2} \coqdocvar{x3} \coqdocvar{x4} \coqdocvar{x5})\coqdoceol
\coqdocnoindent
\coqdockw{end}\coqdoceol
\coqdocnoindent
\coqdockw{end}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Reserved Notation} " x '⟱'  x'"\coqdoceol
\coqdocindent{9.00em}
(\coqdoctac{at} \coqdockw{level} 40).\coqdoceol
\coqdocnoindent
\coqdockw{Definition} \coqdef{TrueProtoSynth.DualState}{DualState}{\coqdocdefinition{DualState}} : \coqdockw{Type} := (\coqexternalref{:type scope:x '*' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocinductive{Statement}\coqexternalref{:type scope:x '*' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{\ensuremath{\times}}}\coqdocinductive{State}\coqexternalref{:type scope:x '*' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqexternalref{:type scope:x '*' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{\ensuremath{\times}}} \coqexternalref{:type scope:x '*' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocinductive{Statement}\coqexternalref{:type scope:x '*' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{\ensuremath{\times}}} \coqdocinductive{State}\coqexternalref{:type scope:x '*' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)*}} \coqdocdefinition{Network}).\coqdoceol
\coqdocnoindent
\coqdockw{Print} \coqref{TrueProtoSynth.DualState}{\coqdocdefinition{DualState}}.\coqdoceol
\coqdocindent{0.50em}
\coqdockw{Inductive} \coqdef{TrueProtoSynth.DualEval}{DualEval}{\coqdocinductive{DualEval}} : \coqref{TrueProtoSynth.DualState}{\coqdocdefinition{DualState}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqref{TrueProtoSynth.DualState}{\coqdocdefinition{DualState}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdockw{Prop} :=\coqdoceol
\coqdocindent{0.50em}
\coqdoceol
\coqdocindent{8.50em}
\coqdoceol
\coqdocindent{1.00em}
\ensuremath{|} \coqdef{TrueProtoSynth.duLeft}{duLeft}{\coqdocconstructor{duLeft}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{leftSTM} \coqdocvar{leftState} \coqdocvar{rightSTM} \coqdocvar{rightState} \coqdocvar{n} \coqdocvar{leftState'} \coqdocvar{n'},\coqdoceol
\coqdocindent{3.00em}
\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvariable{leftSTM} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{leftState}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqref{TrueProtoSynth.::x 'xE2x87x92*' x}{\coqdocnotation{⇒*}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocconstructor{EndStatement}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{leftState'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdoceol
\coqdocindent{3.00em}
\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{((}}\coqdocvariable{leftSTM}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{leftState}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{),}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvariable{rightSTM}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{rightState}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{),}} \coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqref{TrueProtoSynth.::x 'xE2x9FxB1' x}{\coqdocnotation{⟱}}\coqdoceol
\coqdocindent{7.50em}
\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqref{TrueProtoSynth.OneProtocolStep}{\coqdocdefinition{OneProtocolStep}} (\coqref{TrueProtoSynth.rever}{\coqdocdefinition{rever}} \coqdocvariable{leftState'})\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqref{TrueProtoSynth.rever}{\coqdocdefinition{rever}} \coqdocvariable{leftState'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{),(}}\coqdocvariable{rightSTM}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{rightState}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{),}} \coqdocvariable{n'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}}\coqdoceol
\coqdocindent{3.50em}
\coqdoceol
\coqdocindent{1.00em}
\ensuremath{|} \coqdef{TrueProtoSynth.duRight}{duRight}{\coqdocconstructor{duRight}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{leftSTM} \coqdocvar{leftState} \coqdocvar{rightSTM} \coqdocvar{rightState} \coqdocvar{rightState'} \coqdocvar{n} \coqdocvar{n'},\coqdoceol
\coqdocindent{3.00em}
\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvariable{rightSTM} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{rightState}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqref{TrueProtoSynth.::x 'xE2x87x92*' x}{\coqdocnotation{⇒*}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocconstructor{EndStatement}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{rightState'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}}\coqdoceol
\coqdocindent{3.00em}
\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{((}}\coqdocvariable{leftSTM}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{leftState}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{),}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvariable{rightSTM}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{rightState}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{),}} \coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqref{TrueProtoSynth.::x 'xE2x9FxB1' x}{\coqdocnotation{⟱}}\coqdoceol
\coqdocindent{6.00em}
\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{((}}\coqdocvariable{leftSTM}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{leftState}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{),}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqref{TrueProtoSynth.OneProtocolStep}{\coqdocdefinition{OneProtocolStep}} (\coqref{TrueProtoSynth.rever}{\coqdocdefinition{rever}} \coqdocvariable{rightState'})\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqref{TrueProtoSynth.rever}{\coqdocdefinition{rever}} \coqdocvariable{rightState'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{),}} \coqdocvariable{n'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}}\coqdoceol
\coqdocindent{3.00em}
\coqdoceol
\coqdocindent{1.00em}
\coqdoceol
\coqdocindent{3.00em}
\coqdoceol
\coqdocindent{3.00em}
\coqdoceol
\coqdocindent{1.00em}
\ensuremath{|} \coqdef{TrueProtoSynth.duFinishLeftFirst}{duFinishLeftFirst}{\coqdocconstructor{duFinishLeftFirst}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{stmL} \coqdocvar{stL} \coqdocvar{stL'} \coqdocvar{stmR} \coqdocvar{stR} \coqdocvar{stR'} \coqdocvar{n} \coqdocvar{n'} \coqdocvar{n'{}'},\coqdoceol
\coqdocindent{3.00em}
\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvariable{stmL} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{stL}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqref{TrueProtoSynth.::x 'xE2x87x92*' x}{\coqdocnotation{⇒*}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocconstructor{StopStatement}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{stL'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}}\coqdoceol
\coqdocindent{3.00em}
\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvariable{stmR}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{stR}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}}  \coqref{TrueProtoSynth.::x 'xE2x87x92*' x}{\coqdocnotation{⇒*}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocconstructor{StopStatement}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{stR'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n'{}'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdoceol
\coqdocindent{3.00em}
\coqref{TrueProtoSynth.DualEval}{\coqdocinductive{DualEval}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{((}}\coqdocvariable{stmL}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{stL}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{),}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvariable{stmR}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{stR}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{),}} \coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{((}}\coqdocconstructor{StopStatement}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{stL'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{),}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocconstructor{StopStatement}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{stR'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{),}} \coqdocvariable{n'{}'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqdoceol
\coqdocindent{1.00em}
\ensuremath{|} \coqdef{TrueProtoSynth.duFinishRightFirst}{duFinishRightFirst}{\coqdocconstructor{duFinishRightFirst}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{stmL} \coqdocvar{stL} \coqdocvar{stL'} \coqdocvar{stmR} \coqdocvar{stR} \coqdocvar{stR'} \coqdocvar{n} \coqdocvar{n'} \coqdocvar{n'{}'},\coqdoceol
\coqdocindent{3.00em}
\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvariable{stmR}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{stR}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}}  \coqref{TrueProtoSynth.::x 'xE2x87x92*' x}{\coqdocnotation{⇒*}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocconstructor{StopStatement}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{stR'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdoceol
\coqdocindent{3.00em}
\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvariable{stmL} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{stL}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqref{TrueProtoSynth.::x 'xE2x87x92*' x}{\coqdocnotation{⇒*}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocconstructor{StopStatement}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{stL'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n'{}'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdoceol
\coqdocindent{3.00em}
\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{((}}\coqdocvariable{stmL}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{stL}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{),}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvariable{stmR}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{stR}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{),}} \coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqref{TrueProtoSynth.::x 'xE2x9FxB1' x}{\coqdocnotation{⟱}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{((}}\coqdocconstructor{StopStatement}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{stL'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{),}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocconstructor{StopStatement}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{stR'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{),}} \coqdocvariable{n'{}'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}}\coqdoceol
\coqdocindent{3.50em}
\coqdockw{where} \coqdef{TrueProtoSynth.::x 'xE2x9FxB1' x}{"}{"}x '⟱' x' " := (\coqref{TrueProtoSynth.DualEval}{\coqdocinductive{DualEval}} \coqdocvar{x} \coqdocvar{x'}).\coqdoceol
\coqdocindent{3.00em}
\coqdockw{Hint Constructors} \coqref{TrueProtoSynth.DualEval}{\coqdocinductive{DualEval}}.\coqdoceol
\coqdocnoindent
\coqdockw{Print} \coqref{TrueProtoSynth.MultiStep stmEval}{\coqdocinductive{MultiStep\_stmEval}}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Inductive} \coqdef{TrueProtoSynth.DualMultiStep}{DualMultiStep}{\coqdocinductive{DualMultiStep}} :  \coqref{TrueProtoSynth.DualState}{\coqdocdefinition{DualState}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqref{TrueProtoSynth.DualState}{\coqdocdefinition{DualState}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdockw{Prop} :=\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdef{TrueProtoSynth.dualmultistep id}{dualmultistep\_id}{\coqdocconstructor{dualmultistep\_id}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{ds} \coqdocvar{ds'}, \coqdocvariable{ds} \coqref{TrueProtoSynth.::x 'xE2x9FxB1' x}{\coqdocnotation{⟱}}  \coqdocvariable{ds'} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqref{TrueProtoSynth.DualMultiStep}{\coqdocinductive{DualMultiStep}} \coqdocvariable{ds} \coqdocvariable{ds'} \coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdef{TrueProtoSynth.dualmultistep step}{dualmultistep\_step}{\coqdocconstructor{dualmultistep\_step}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{ds} \coqdocvar{ds'} \coqdocvar{ds'{}'}, \coqdoceol
\coqdocindent{2.00em}
\coqref{TrueProtoSynth.DualMultiStep}{\coqdocinductive{DualMultiStep}} \coqdocvariable{ds} \coqdocvariable{ds'} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}}\coqdoceol
\coqdocindent{2.00em}
\coqref{TrueProtoSynth.DualMultiStep}{\coqdocinductive{DualMultiStep}} \coqdocvariable{ds'}  \coqdocvariable{ds'{}'} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}}\coqdoceol
\coqdocindent{2.00em}
\coqref{TrueProtoSynth.DualMultiStep}{\coqdocinductive{DualMultiStep}} \coqdocvariable{ds} \coqdocvariable{ds'{}'}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Tactic Notation} "step" := (\coqdoctac{eapply} \coqref{TrueProtoSynth.multistep step}{\coqdocconstructor{multistep\_step}}; [\coqdoctac{constructor}|]) || ( ((\coqdoctac{apply} \coqref{TrueProtoSynth.dualmultistep step}{\coqdocconstructor{dualmultistep\_step}}) || (\coqdoctac{eapply} \coqref{TrueProtoSynth.dualmultistep step}{\coqdocconstructor{dualmultistep\_step}})) ; [\coqdoctac{constructor}|]).\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Ltac} \coqdocvar{proto} := \coqdockw{match} \coqdockw{goal} \coqdockw{with} \coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} [ \ensuremath{\vdash} \coqdocvar{\_} \coqref{TrueProtoSynth.::x 'xE2x87x92*' x}{\coqdocnotation{⇒*}} \coqdocvar{\_}] \ensuremath{\Rightarrow} \coqdocvar{step}; [\coqdocvar{proto}|]\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} [ \ensuremath{\vdash} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocconstructor{EffectStatement} \coqdocvar{\_} \coqdocnotation{>>}\coqdocvar{\_}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvar{\_}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvar{\_}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqref{TrueProtoSynth.::x 'xE2x87x92*' x}{\coqdocnotation{⇒*}} \coqdocvar{\_}] \ensuremath{\Rightarrow} \coqdocvar{step}; [\coqdocvar{c};\coqdocvar{c}; (\coqdocvar{refl} || \coqdoctac{auto})|]\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} [ \ensuremath{\vdash} \coqdockw{context}[ \coqref{TrueProtoSynth.OneProtocolStep}{\coqdocdefinition{OneProtocolStep}} \coqdocvar{\_}]] \ensuremath{\Rightarrow} \coqdoctac{unfold} \coqref{TrueProtoSynth.OneProtocolStep}{\coqdocdefinition{OneProtocolStep}}; \coqdocvar{proto}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} [ \ensuremath{\vdash} \coqdockw{context}[ \coqref{TrueProtoSynth.proto handleIsMyTurnToSend}{\coqdocdefinition{proto\_handleIsMyTurnToSend}} \coqdocvar{\_}]] \ensuremath{\Rightarrow} \coqdoctac{unfold} \coqref{TrueProtoSynth.proto handleIsMyTurnToSend}{\coqdocdefinition{proto\_handleIsMyTurnToSend}}; \coqdocvar{proto}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} [ \ensuremath{\vdash} \coqdockw{context}[ \coqref{TrueProtoSynth.proto handleNotMyTurnToSend}{\coqdocdefinition{proto\_handleNotMyTurnToSend}} \coqdocvar{\_}]] \ensuremath{\Rightarrow} \coqdoctac{unfold} \coqref{TrueProtoSynth.proto handleNotMyTurnToSend}{\coqdocdefinition{proto\_handleNotMyTurnToSend}}; \coqdocvar{proto}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} [ \ensuremath{\vdash} \coqdockw{context}[ \coqref{TrueProtoSynth.proto handleCanSend}{\coqdocdefinition{proto\_handleCanSend}} \coqdocvar{\_}]] \ensuremath{\Rightarrow} \coqdoctac{unfold} \coqref{TrueProtoSynth.proto handleCanSend}{\coqdocdefinition{proto\_handleCanSend}}; \coqdocvar{proto}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} [ \ensuremath{\vdash} \coqdockw{context}[ \coqref{TrueProtoSynth.proto handleCantSend}{\coqdocdefinition{proto\_handleCantSend}} \coqdocvar{\_}]] \ensuremath{\Rightarrow} \coqdoctac{unfold} \coqref{TrueProtoSynth.proto handleCantSend}{\coqdocdefinition{proto\_handleCantSend}}; \coqdocvar{proto}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} [ \ensuremath{\vdash} \coqdockw{context}[ \coqref{TrueProtoSynth.proto handleNoNextDesire}{\coqdocdefinition{proto\_handleNoNextDesire}} \coqdocvar{\_}]] \ensuremath{\Rightarrow} \coqdoctac{unfold} \coqref{TrueProtoSynth.proto handleNoNextDesire}{\coqdocdefinition{proto\_handleNoNextDesire}}; \coqdocvar{proto}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} [ \ensuremath{\vdash} \coqdockw{context}[ \coqref{TrueProtoSynth.proto handleExistsNextDesire}{\coqdocdefinition{proto\_handleExistsNextDesire}} \coqdocvar{\_}]] \ensuremath{\Rightarrow} \coqdoctac{unfold} \coqref{TrueProtoSynth.proto handleExistsNextDesire}{\coqdocdefinition{proto\_handleExistsNextDesire}}; \coqdocvar{proto}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} [ \coqdocvar{H} : \coqref{TrueProtoSynth.evalChoose}{\coqdocdefinition{evalChoose}} ?\coqdocvar{C} ?\coqdocvar{T} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{false}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{false}} \ensuremath{\vdash} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocnotation{IFS} ?\coqdocvar{C} \coqdocnotation{THEN} \coqdocvar{\_} \coqdocnotation{ELSE} \coqdocvar{\_}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvar{\_}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvar{\_}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqref{TrueProtoSynth.::x 'xE2x87x92' x}{\coqdocnotation{⇒}} \coqdocvar{\_}  ] \ensuremath{\Rightarrow} \coqdoctac{apply} \coqref{TrueProtoSynth.E ChooseFalse}{\coqdocconstructor{E\_ChooseFalse}}; (\coqdoctac{progress} \coqdoctac{auto})\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} [ \ensuremath{\vdash} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocnotation{IFS} ?\coqdocvar{C} \coqdocnotation{THEN} \coqdocvar{\_} \coqdocnotation{ELSE} \coqdocvar{\_}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvar{\_}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvar{\_}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqref{TrueProtoSynth.::x 'xE2x87x92' x}{\coqdocnotation{⇒}} \coqdocvar{\_}  ] \ensuremath{\Rightarrow} (\coqdoctac{apply} \coqref{TrueProtoSynth.E ChooseTrue}{\coqdocconstructor{E\_ChooseTrue}}; (\coqdoctac{reflexivity} || \coqdoctac{assumption})) || (\coqdoctac{apply} \coqref{TrueProtoSynth.E ChooseFalse}{\coqdocconstructor{E\_ChooseFalse}}; \coqdoctac{reflexivity})\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} [ \ensuremath{\vdash} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocconstructor{SendStatement} (\coqdocconstructor{const} \coqdocconstructor{constStop}) \coqdocvar{\_} \coqdocvar{\_} \coqdocnotation{>>} \coqdocvar{\_}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvar{\_}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvar{\_}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}}  \coqref{TrueProtoSynth.::x 'xE2x87x92' x}{\coqdocnotation{⇒}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvar{\_}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvar{\_}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvar{\_}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}}] \ensuremath{\Rightarrow} \coqdoctac{apply} \coqref{TrueProtoSynth.E ChainBad}{\coqdocconstructor{E\_ChainBad}}; (\coqdoctac{apply} \coqref{TrueProtoSynth.E SendStop}{\coqdocconstructor{E\_SendStop}}) || (\coqdoctac{eapply} \coqref{TrueProtoSynth.E SendStop}{\coqdocconstructor{E\_SendStop}})\coqdoceol
\coqdocindent{0.50em}
\coqdockw{end}.\coqdoceol
\coqdocindent{0.50em}
\coqdockw{Hint Unfold} \coqref{TrueProtoSynth.OneProtocolStep}{\coqdocdefinition{OneProtocolStep}} \coqref{TrueProtoSynth.proto handleIsMyTurnToSend}{\coqdocdefinition{proto\_handleIsMyTurnToSend}} \coqref{TrueProtoSynth.proto handleNotMyTurnToSend}{\coqdocdefinition{proto\_handleNotMyTurnToSend}}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Theorem} \coqdef{TrueProtoSynth.thm canSendST implies handleExists}{thm\_canSendST\_implies\_handleExists}{\coqdoclemma{thm\_canSendST\_implies\_handleExists}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{st}, \coqref{TrueProtoSynth.evalChoose}{\coqdocdefinition{evalChoose}} \coqdocconstructor{CanSend} \coqdocvariable{st} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{true}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{true}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqexternalref{:type scope:'exists' x '..' x ',' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\exists}}} \coqdocvar{c}\coqexternalref{:type scope:'exists' x '..' x ',' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{,}} \coqref{TrueProtoSynth.handleCompute}{\coqdocdefinition{handleCompute}} \coqdocconstructor{compGetMessageToSend} \coqdocvariable{st} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} \coqdocvariable{c}.\coqdoceol
\coqdocnoindent
\coqdockw{Proof}.\coqdoceol
\coqdocnoindent
\coqdoctac{intros}; \coqdoctac{simpl} \coqdoctac{in} \coqdocvar{H};  \coqdoctac{simpl}; \coqdoctac{destruct} \coqdocvar{st}; \coqdoctac{simpl}; \coqdoctac{destruct} \coqdocvar{p}; \coqdoctac{destruct} (\coqref{TrueProtoSynth.canSend}{\coqdocdefinition{canSend}} \coqdocvar{l} \coqdocvar{p0});  \coqdoctac{eauto};\coqdoceol
\coqdocnoindent
\coqdoctac{inversion} \coqdocvar{H}. \coqdockw{Qed}.\coqdoceol
\coqdocnoindent
\coqdockw{Hint Resolve} \coqdocvar{thm\_canSendST\_implies\_handleExists}.\coqdoceol
\coqdocnoindent
\coqdockw{Theorem} \coqdef{TrueProtoSynth.thm eval 1}{thm\_eval\_1}{\coqdoclemma{thm\_eval\_1}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{st} \coqdocvar{n},\coqdoceol
\coqdocnoindent
\coqref{TrueProtoSynth.evalChoose}{\coqdocdefinition{evalChoose}} \coqdocconstructor{IsMyTurntoSend} \coqdocvariable{st} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{true}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{true}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdoceol
\coqdocnoindent
\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqref{TrueProtoSynth.OneProtocolStep}{\coqdocdefinition{OneProtocolStep}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqref{TrueProtoSynth.::x 'xE2x87x92' x}{\coqdocnotation{⇒}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqref{TrueProtoSynth.proto handleIsMyTurnToSend}{\coqdocdefinition{proto\_handleIsMyTurnToSend}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}}.\coqdoceol
\coqdocnoindent
\coqdockw{Proof}. \coqdoctac{intros}. \coqdocvar{c}. \coqdoctac{auto}.\coqdoceol
\coqdocnoindent
\coqdockw{Qed}.\coqdoceol
\coqdocnoindent
\coqdockw{Theorem} \coqdef{TrueProtoSynth.thm eval 0}{thm\_eval\_0}{\coqdoclemma{thm\_eval\_0}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{st} \coqdocvar{n},\coqdoceol
\coqdocnoindent
\coqref{TrueProtoSynth.evalChoose}{\coqdocdefinition{evalChoose}} \coqdocconstructor{IsMyTurntoSend} \coqdocvariable{st} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{false}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{false}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdoceol
\coqdocnoindent
\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqref{TrueProtoSynth.OneProtocolStep}{\coqdocdefinition{OneProtocolStep}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqref{TrueProtoSynth.::x 'xE2x87x92' x}{\coqdocnotation{⇒}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqref{TrueProtoSynth.proto handleNotMyTurnToSend}{\coqdocdefinition{proto\_handleNotMyTurnToSend}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}}.\coqdoceol
\coqdocnoindent
\coqdockw{Proof}. \coqdoctac{intros}. \coqdocvar{proto}.\coqdoceol
\coqdocnoindent
\coqdockw{Qed}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Theorem} \coqdef{TrueProtoSynth.thm eval 11}{thm\_eval\_11}{\coqdoclemma{thm\_eval\_11}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{st} \coqdocvar{n},\coqdoceol
\coqdocnoindent
\coqref{TrueProtoSynth.evalChoose}{\coqdocdefinition{evalChoose}} \coqdocconstructor{IsAllGood} \coqdocvariable{st} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{true}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{true}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdoceol
\coqdocnoindent
\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqref{TrueProtoSynth.proto handleIsMyTurnToSend}{\coqdocdefinition{proto\_handleIsMyTurnToSend}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqref{TrueProtoSynth.::x 'xE2x87x92' x}{\coqdocnotation{⇒}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocconstructor{EffectStatement} (\coqdocconstructor{effect\_setAllGood} \coqdocconstructor{Unset}) \coqdocnotation{>>}\coqdoceol
\coqdocindent{2.50em}
\coqdocnotation{(}\coqdocnotation{IFS} \coqdocconstructor{QueuedRequestsExist} \coqdocnotation{THEN} \coqref{TrueProtoSynth.proto handleCanSend}{\coqdocdefinition{proto\_handleCanSend}} \coqdocvariable{st}\coqdoceol
\coqdocindent{3.00em}
\coqdocnotation{ELSE} \coqref{TrueProtoSynth.proto handleCantSend}{\coqdocdefinition{proto\_handleCantSend}} \coqdocvariable{st}\coqdocnotation{)}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}}.\coqdoceol
\coqdocnoindent
\coqdockw{Proof}. \coqdoctac{intros}. \coqdocvar{c}. \coqdoctac{auto}.\coqdoceol
\coqdocnoindent
\coqdockw{Qed}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Theorem} \coqdef{TrueProtoSynth.thm eval 10}{thm\_eval\_10}{\coqdoclemma{thm\_eval\_10}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{st} \coqdocvar{n},\coqdoceol
\coqdocnoindent
\coqref{TrueProtoSynth.evalChoose}{\coqdocdefinition{evalChoose}} \coqdocconstructor{IsAllGood} \coqdocvariable{st} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{false}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{false}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdoceol
\coqdocnoindent
\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqref{TrueProtoSynth.proto handleIsMyTurnToSend}{\coqdocdefinition{proto\_handleIsMyTurnToSend}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqref{TrueProtoSynth.::x 'xE2x87x92' x}{\coqdocnotation{⇒}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}} \coqdocconstructor{SendStatement} (\coqdocconstructor{const} \coqdocconstructor{constStop}) (\coqref{TrueProtoSynth.getMe}{\coqdocdefinition{getMe}} \coqdocvariable{st}) (\coqref{TrueProtoSynth.notMe}{\coqdocdefinition{notMe}} (\coqref{TrueProtoSynth.getMe}{\coqdocdefinition{getMe}} \coqdocvariable{st})) \coqdocnotation{>>} \coqdocconstructor{StopStatement}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}}.\coqdoceol
\coqdocnoindent
\coqdockw{Proof}. \coqdoctac{intros}. \coqdoctac{unfold} \coqref{TrueProtoSynth.proto handleIsMyTurnToSend}{\coqdocdefinition{proto\_handleIsMyTurnToSend}}. \coqdocvar{proto}.\coqdoceol
\coqdocnoindent
\coqdockw{Qed}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Definition} \coqdef{TrueProtoSynth.getAllGood}{getAllGood}{\coqdocdefinition{getAllGood}} (\coqdocvar{st} : \coqdocinductive{State}) : \coqdocinductive{AllGood} :=\coqdoceol
\coqdocnoindent
\coqdockw{match} \coqdocvariable{st} \coqdockw{with}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{state} \coqdocvar{vars} \coqdocvar{ps} \ensuremath{\Rightarrow} \coqdockw{match} \coqdocvar{ps} \coqdockw{with}\coqdoceol
\coqdocindent{2.00em}
\ensuremath{|} \coqdocconstructor{proState} \coqdocvar{x} \coqdocvar{x0} \coqdocvar{x1} \coqdocvar{x2} \coqdocvar{x3} \coqdocvar{x4} \coqdocvar{x5} \ensuremath{\Rightarrow} \coqdocvar{x0}\coqdoceol
\coqdocnoindent
\coqdockw{end}\coqdoceol
\coqdocnoindent
\coqdockw{end}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Lemma} \coqdef{TrueProtoSynth.thm allGood}{thm\_allGood}{\coqdoclemma{thm\_allGood}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{st}, \coqref{TrueProtoSynth.evalChoose}{\coqdocdefinition{evalChoose}} \coqdocconstructor{IsAllGood} \coqdocvariable{st} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{true}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{true}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqref{TrueProtoSynth.getAllGood}{\coqdocdefinition{getAllGood}} \coqdocvariable{st} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqdocconstructor{Yes}.\coqdoceol
\coqdocnoindent
\coqdockw{Proof}. \coqdoctac{intros}. \coqdocvar{dest} \coqdocvar{st}. \coqdocvar{dest} \coqdocvar{p}. \coqdoctac{simpl} \coqdoctac{in} \coqdocvar{H}. \coqdocvar{dest} \coqdocvar{a0}. \coqdoctac{simpl}. \coqdoctac{auto}.\coqdoceol
\coqdocnoindent
\coqdocvar{inv} \coqdocvar{H}. \coqdocvar{inv} \coqdocvar{H}.\coqdoceol
\coqdocnoindent
\coqdockw{Qed}.\coqdoceol
\coqdocnoindent
\coqdockw{Hint Resolve} \coqdocvar{thm\_allGood}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Theorem} \coqdef{TrueProtoSynth.thm ifwillthenway}{thm\_ifwillthenway}{\coqdoclemma{thm\_ifwillthenway}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{st}, \coqref{TrueProtoSynth.evalChoose}{\coqdocdefinition{evalChoose}} \coqdocconstructor{ExistsNextDesire} \coqdocvariable{st} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{true}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{true}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}}\coqexternalref{:type scope:'exists' x '..' x ',' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\exists}}} \coqdocvar{c}\coqexternalref{:type scope:'exists' x '..' x ',' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{,}}  \coqref{TrueProtoSynth.handleCompute}{\coqdocdefinition{handleCompute}} \coqdocconstructor{compGetNextRequest} \coqdocvariable{st} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} \coqdocvariable{c} .\coqdoceol
\coqdocindent{2.00em}
\coqdockw{Proof}.\coqdoceol
\coqdocindent{2.00em}
\coqdoctac{intros}. \coqdoctac{destruct} \coqdocvar{st}. \coqdoctac{destruct} \coqdocvar{p}. \coqdoctac{destruct} \coqdocvar{r}. \coqdoctac{simpl}. \coqdoctac{\ensuremath{\exists}} \coqdocconstructor{constStop}. \coqdoctac{intros}. \coqdoctac{inversion} \coqdocvar{H}.\coqdoceol
\coqdocindent{2.00em}
\coqdoctac{simpl}. \coqdoctac{destruct} \coqdocvar{r}. \coqdoctac{\ensuremath{\exists}} (\coqdocconstructor{constRequest} \coqdocvar{d}). \coqdoctac{auto}.\coqdoceol
\coqdocindent{2.00em}
\coqdockw{Qed}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Theorem} \coqdef{TrueProtoSynth.thm onlyEffect effects}{thm\_onlyEffect\_effects}{\coqdoclemma{thm\_onlyEffect\_effects}} : \coqdockw{\ensuremath{\forall}} (\coqdocvar{stm} \coqdocvar{stm'}: \coqdocinductive{Statement}) (\coqdocvar{st} \coqdocvar{st'}: \coqdocinductive{State}) (\coqdocvar{n} \coqdocvar{n'} : \coqdocdefinition{Network}),\coqdoceol
\coqdocindent{0.50em}
\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvariable{stm}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqref{TrueProtoSynth.::x 'xE2x87x92' x}{\coqdocnotation{⇒}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvariable{stm'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{st'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{n'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}}  \coqdoceol
\coqdocindent{0.50em}
\coqref{TrueProtoSynth.getProState}{\coqdocdefinition{getProState}} \coqdocvariable{st} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqref{TrueProtoSynth.getProState}{\coqdocdefinition{getProState}} \coqdocvariable{st'} \coqexternalref{:type scope:x 'x5C/' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\lor}}} \coqexternalref{:type scope:'exists' x '..' x ',' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\exists}}} \coqdocvar{e}\coqexternalref{:type scope:'exists' x '..' x ',' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{,}} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{(}}\coqref{TrueProtoSynth.headStatement}{\coqdocdefinition{headStatement}} \coqdocvariable{stm}\coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{)}} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqdocconstructor{EffectStatement} \coqdocvariable{e}.\coqdoceol
\coqdocnoindent
\coqdockw{Proof}.\coqdoceol
\coqdocnoindent
\coqdoctac{intro}. \coqdoctac{induction} \coqdocvar{stm} ; \coqdoctac{try} (\coqdoctac{intros}; \coqdoctac{inversion} \coqdocvar{H}; \coqdoctac{left}; \coqdoctac{reflexivity}).\coqdoceol
\coqdocnoindent
\coqdoctac{intros}. \coqdoctac{simpl}. \coqdoctac{left}. \coqdoctac{inversion} \coqdocvar{H}. \coqdoctac{subst}. \coqdoctac{destruct} \coqdocvar{st}. \coqdoctac{auto}. \coqdoctac{auto}.\coqdoceol
\coqdocnoindent
\coqdoctac{destruct} \coqdocvar{st}; \coqdoctac{auto}.\coqdoceol
\coqdocnoindent
\coqdoctac{intros}. \coqdoctac{right}. \coqdoctac{\ensuremath{\exists}} \coqdocvar{e}. \coqdoctac{auto}.\coqdoceol
\coqdocnoindent
\coqdoctac{intros}. \coqdoctac{left}. \coqdoctac{inversion} \coqdocvar{H}; \coqdoctac{subst};   \coqdoctac{destruct} \coqdocvar{st}; \coqdoctac{auto}.\coqdoceol
\coqdocnoindent
\coqdoctac{intros}; \coqdoctac{left}; \coqdoctac{destruct} \coqdocvar{st}; \coqdoctac{inversion} \coqdocvar{H}; \coqdoctac{subst}. \coqdoctac{auto}.\coqdoceol
\coqdocnoindent
\coqdoctac{simpl}.\coqdoceol
\coqdocnoindent
\coqdoctac{intros}; \coqdoctac{inversion} \coqdocvar{H}; \coqdoctac{subst}. \coqdoctac{eapply} \coqdocvar{IHstm1}.\coqdoceol
\coqdocnoindent
\coqdoctac{eauto}.\coqdoceol
\coqdocnoindent
\coqdoctac{eapply} \coqdocvar{IHstm1}; \coqdoctac{eauto}.\coqdoceol
\coqdocnoindent
\coqdoctac{eapply} \coqdocvar{IHstm1}; \coqdoctac{eauto}.\coqdoceol
\coqdocnoindent
\coqdoctac{eapply} \coqdocvar{IHstm1}; \coqdoctac{constructor};  \coqdoctac{eauto}.\coqdoceol
\coqdocnoindent
\coqdockw{Qed}.\coqdoceol
\coqdocnoindent
\coqdockw{Hint Resolve} \coqdocvar{thm\_onlyEffect\_effects}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Definition} \coqdef{TrueProtoSynth.modifyState}{modifyState}{\coqdocdefinition{modifyState}} (\coqdocvar{a} : \coqdocinductive{AllGood}) (\coqdocvar{st} : \coqdocinductive{State}) : \coqdocinductive{State} :=\coqdoceol
\coqdocnoindent
\coqdockw{match} \coqdocvariable{st} \coqdockw{with}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{state} \coqdocvar{vars} \coqdocvar{ps} \ensuremath{\Rightarrow} \coqdockw{match} \coqdocvar{ps} \coqdockw{with}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{proState} \coqdocvar{x} \coqdocvar{x0} \coqdocvar{x1} \coqdocvar{x2} \coqdocvar{x3} \coqdocvar{x4} \coqdocvar{x5} \ensuremath{\Rightarrow}  \coqdocconstructor{state} \coqdocvar{vars} (\coqdocconstructor{proState} \coqdocvar{x} \coqdocvariable{a} \coqdocvar{x1} \coqdocvar{x2} \coqdocvar{x3} \coqdocvar{x4} \coqdocvar{x5})\coqdoceol
\coqdocnoindent
\coqdockw{end}\coqdoceol
\coqdocnoindent
\coqdockw{end}.\coqdoceol
\coqdocnoindent
\coqdockw{Definition} \coqdef{TrueProtoSynth.modifyProState}{modifyProState}{\coqdocdefinition{modifyProState}} (\coqdocvar{a} : \coqdocinductive{AllGood}) (\coqdocvar{ps} : \coqdocinductive{ProState}) : \coqdocinductive{ProState} := \coqdoceol
\coqdocnoindent
\coqdockw{match} \coqdocvariable{ps} \coqdockw{with}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{proState} \coqdocvar{x} \coqdocvar{x0} \coqdocvar{x1} \coqdocvar{x2} \coqdocvar{x3} \coqdocvar{x4} \coqdocvar{x5} \ensuremath{\Rightarrow} (\coqdocconstructor{proState} \coqdocvar{x} \coqdocvariable{a} \coqdocvar{x1} \coqdocvar{x2} \coqdocvar{x3} \coqdocvar{x4} \coqdocvar{x5})\coqdoceol
\coqdocnoindent
\coqdockw{end}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Theorem} \coqdef{TrueProtoSynth.thm noOneTouchesAction}{thm\_noOneTouchesAction}{\coqdoclemma{thm\_noOneTouchesAction}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{stm} \coqdocvar{stm'} \coqdocvar{n} \coqdocvar{n'} \coqdocvar{st} \coqdocvar{st'}, \coqdoceol
\coqdocnoindent
\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvariable{stm}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqref{TrueProtoSynth.::x 'xE2x87x92' x}{\coqdocnotation{⇒}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvariable{stm'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{st'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{n'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqref{TrueProtoSynth.getAction}{\coqdocdefinition{getAction}} \coqdocvariable{st} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqref{TrueProtoSynth.getAction}{\coqdocdefinition{getAction}} \coqdocvariable{st'}.\coqdoceol
\coqdocnoindent
\coqdockw{Proof}. \coqdoctac{intro}. \coqdoctac{induction} \coqdocvar{stm}; \coqdoctac{intros};\coqdocvar{inv} \coqdocvar{H}; \coqdoctac{try} (\coqdoctac{progress} \coqdoctac{auto} || \coqdoctac{destruct} \coqdocvar{st}; \coqdocvar{refl}).\coqdoceol
\coqdocnoindent
\coqdocvar{Focus} 2. \coqdoctac{eapply} \coqdocvar{IHstm1}. \coqdoctac{apply} \coqdocvar{H1}.\coqdoceol
\coqdocnoindent
\coqdocvar{Focus} 2. \coqdoctac{eapply} \coqdocvar{IHstm1}. \coqdoctac{apply} \coqdocvar{H1}.\coqdoceol
\coqdocnoindent
\coqdocvar{Focus} 2. \coqdoctac{eapply} \coqdocvar{IHstm1}. \coqdoctac{apply} \coqdocvar{H1}.\coqdoceol
\coqdocnoindent
\coqdoctac{destruct} \coqdocvar{e}; (\coqdocvar{s} \coqdocvar{H1}). (\coqdoctac{destruct} (\coqref{TrueProtoSynth.varSubst}{\coqdocdefinition{varSubst}} \coqdocvar{t} \coqdocvar{st})). \coqdoctac{destruct} \coqdocvar{c}. \coqdocvar{inv} \coqdocvar{H1}. \coqdocvar{inv} \coqdocvar{H1}. \coqdocvar{dest} \coqdocvar{st}. \coqdocvar{dest} \coqdocvar{p}. \coqdoctac{auto}.\coqdoceol
\coqdocnoindent
\coqdocvar{inv} \coqdocvar{H1}. \coqdocvar{inv} \coqdocvar{H1}. \coqdoctac{destruct} (\coqref{TrueProtoSynth.varSubst}{\coqdocdefinition{varSubst}} \coqdocvar{t} \coqdocvar{st}); \coqdocvar{inv} \coqdocvar{H1}. \coqdocvar{dest} \coqdocvar{st}. \coqdocvar{dest} \coqdocvar{p}. \coqdoctac{destruct} \coqdocvar{c}.\coqdoceol
\coqdocnoindent
\coqdoctac{simpl}. \coqdoctac{destruct} (\coqref{TrueProtoSynth.reduceUnresolved}{\coqdocdefinition{reduceUnresolved}} \coqdocvar{d} \coqdocvar{m} \coqdocvar{r0}). \coqdoctac{simpl}. \coqdocvar{refl}. \coqdocvar{refl}. \coqdocvar{refl}. \coqdocvar{refl}.\coqdoceol
\coqdocnoindent
\coqdoctac{destruct} (\coqref{TrueProtoSynth.varSubst}{\coqdocdefinition{varSubst}} \coqdocvar{t} \coqdocvar{st}). \coqdoctac{destruct} \coqdocvar{c}. \coqdocvar{inv} \coqdocvar{H1}. \coqdocvar{inv} \coqdocvar{H1}. \coqdocvar{dest} \coqdocvar{st}. \coqdocvar{dest} \coqdocvar{p}. \coqdocvar{refl}.\coqdoceol
\coqdocnoindent
\coqdocvar{inv} \coqdocvar{H1}. \coqdocvar{inv} \coqdocvar{H1}. \coqdocvar{inv} \coqdocvar{H1}. \coqdocvar{dest} \coqdocvar{st}. \coqdocvar{dest} \coqdocvar{p}. \coqdoctac{simpl}. \coqdocvar{dest} \coqdocvar{r}. \coqdocvar{refl}.\coqdoceol
\coqdocnoindent
\coqdocvar{refl}.\coqdoceol
\coqdocnoindent
\coqdocvar{inv} \coqdocvar{H1}. \coqdocvar{inv} \coqdocvar{H1}. \coqdocvar{dest} \coqdocvar{st}. \coqdocvar{dest} \coqdocvar{p}. \coqdocvar{refl}. \coqdoctac{destruct} (\coqref{TrueProtoSynth.varSubst}{\coqdocdefinition{varSubst}} \coqdocvar{t} \coqdocvar{st}). \coqdoctac{destruct} \coqdocvar{c}. \coqdocvar{inv} \coqdocvar{H1}.\coqdoceol
\coqdocnoindent
\coqdocvar{dest} \coqdocvar{st}. \coqdocvar{dest} \coqdocvar{p}. \coqdocvar{s} \coqdocvar{H1}. \coqdoctac{destruct} (\coqref{TrueProtoSynth.getCounterReqItemFromPP}{\coqdocdefinition{getCounterReqItemFromPP}} \coqdocvar{p0} \coqdocvar{d}). \coqdocvar{inv} \coqdocvar{H1}.\coqdoceol
\coqdocnoindent
\coqdocvar{refl}. \coqdocvar{inv} \coqdocvar{H1}. \coqdocvar{inv} \coqdocvar{H1}. \coqdocvar{inv} \coqdocvar{H1}.\coqdoceol
\coqdocnoindent
\coqdocvar{inv} \coqdocvar{H1}. \coqdocvar{dest} \coqdocvar{st}. \coqdocvar{dest} \coqdocvar{p}. \coqdocvar{refl}.\coqdoceol
\coqdocnoindent
\coqdockw{Qed}.\coqdoceol
\coqdocnoindent
\coqdockw{Theorem} \coqdef{TrueProtoSynth.thm noOneTouchesAction m}{thm\_noOneTouchesAction\_m}{\coqdoclemma{thm\_noOneTouchesAction\_m}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{stm} \coqdocvar{stm'} \coqdocvar{n} \coqdocvar{n'} \coqdocvar{st} \coqdocvar{st'}, \coqdoceol
\coqdocnoindent
\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvariable{stm}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqref{TrueProtoSynth.::x 'xE2x87x92*' x}{\coqdocnotation{⇒*}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvariable{stm'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{st'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{n'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqref{TrueProtoSynth.getAction}{\coqdocdefinition{getAction}} \coqdocvariable{st} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqref{TrueProtoSynth.getAction}{\coqdocdefinition{getAction}} \coqdocvariable{st'}.\coqdoceol
\coqdocnoindent
\coqdockw{Proof}. \coqdoctac{intros}.\coqdoceol
\coqdocindent{0.50em}
\coqdoctac{dependent} \coqdoctac{induction} \coqdocvar{H}. \coqdoctac{eapply} \coqref{TrueProtoSynth.thm noOneTouchesAction}{\coqdoclemma{thm\_noOneTouchesAction}}. \coqdoctac{apply} \coqdocvar{H}.\coqdoceol
\coqdocnoindent
\coqdocvar{erewrite} \coqdocvar{IHMultiStep\_stmEval1}. \coqdoctac{eapply} \coqdocvar{IHMultiStep\_stmEval2}. \coqdoctac{auto}. \coqdoctac{auto}.\coqdoceol
\coqdocnoindent
\coqdoctac{auto}. \coqdoctac{auto}.\coqdoceol
\coqdocnoindent
\coqdockw{Qed}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Theorem} \coqdef{TrueProtoSynth.thm receiveAlwaysFinishes}{thm\_receiveAlwaysFinishes}{\coqdoclemma{thm\_receiveAlwaysFinishes}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{vars} \coqdocvar{prst} \coqdocvar{n} \coqdocvar{m} \coqdocvar{n'}, \coqref{TrueProtoSynth.evalChoose}{\coqdocdefinition{evalChoose}} \coqdocconstructor{IsMyTurntoSend} (\coqdocconstructor{state} \coqdocvariable{vars} \coqdocvariable{prst}) \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{false}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{false}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdoceol
\coqdocindent{0.50em}
\coqref{TrueProtoSynth.receiveN}{\coqdocdefinition{receiveN}} \coqdocvariable{n} (\coqref{TrueProtoSynth.getMe}{\coqdocdefinition{getMe}} (\coqdocconstructor{state} \coqdocvariable{vars} \coqdocvariable{prst})) \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvariable{m}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdoceol
\coqdocindent{0.50em}
\coqdocvariable{m} \coqexternalref{:type scope:x '<>' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\not=}}} \coqdocconstructor{constStop} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}}  \coqexternalref{:type scope:'exists' x '..' x ',' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\exists}}} \coqdocvar{prst'}\coqexternalref{:type scope:'exists' x '..' x ',' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{,}}\coqdoceol
\coqdocindent{0.50em}
\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqref{TrueProtoSynth.OneProtocolStep}{\coqdocdefinition{OneProtocolStep}} (\coqdocconstructor{state} \coqdocvariable{vars} \coqdocvariable{prst})\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocconstructor{state} \coqdocvariable{vars} \coqdocvariable{prst}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{),}} \coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqref{TrueProtoSynth.::x 'xE2x87x92*' x}{\coqdocnotation{⇒*}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocconstructor{EndStatement}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocconstructor{state} (\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocconstructor{receivedMESSAGE}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{m}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}}\coqexternalref{:list scope:x '::' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{::}}\coqdocvariable{vars}) \coqdocvariable{prst'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{),}} \coqdocvariable{n'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}}.\coqdoceol
\coqdocnoindent
\coqdockw{Proof}. \coqdoctac{intros}. \coqdoctac{destruct} \coqdocvar{m}, \coqdocvar{prst}. \coqdoctac{destruct} (\coqref{TrueProtoSynth.reduceUnresolved}{\coqdocdefinition{reduceUnresolved}} \coqdocvar{d} \coqdocvar{m} \coqdocvar{r0}) \coqdocvar{eqn}:\coqdocvar{unres}. \coqdoctac{eexists}.\coqdoceol
\coqdocnoindent
\coqdoctac{eapply} \coqref{TrueProtoSynth.multistep step}{\coqdocconstructor{multistep\_step}}. \coqdocvar{c}. \coqdoctac{unfold} \coqref{TrueProtoSynth.OneProtocolStep}{\coqdocdefinition{OneProtocolStep}}.\coqdoceol
\coqdocnoindent
\coqdocvar{proto}. \coqdocvar{step}. \coqdoctac{unfold} \coqref{TrueProtoSynth.proto handleNotMyTurnToSend}{\coqdocdefinition{proto\_handleNotMyTurnToSend}}. \coqdocvar{c}. \coqdocvar{c}. \coqdoctac{apply} \coqdocvar{H0}. \coqdoctac{auto}.\coqdoceol
\coqdocnoindent
\coqdocvar{step}. \coqdocvar{proto}. \coqdocvar{c}. \coqdocvar{c}. \coqdocvar{c}. \coqdoctac{simpl}. \coqdoctac{rewrite} \coqdocvar{unres}. \coqdocvar{refl}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdoctac{eexists}.\coqdoceol
\coqdocnoindent
\coqdoctac{eapply} \coqref{TrueProtoSynth.multistep step}{\coqdocconstructor{multistep\_step}}. \coqdocvar{c}. \coqdoctac{unfold} \coqref{TrueProtoSynth.OneProtocolStep}{\coqdocdefinition{OneProtocolStep}}.\coqdoceol
\coqdocnoindent
\coqdocvar{proto}. \coqdocvar{step}. \coqdoctac{unfold} \coqref{TrueProtoSynth.proto handleNotMyTurnToSend}{\coqdocdefinition{proto\_handleNotMyTurnToSend}}. \coqdocvar{c}. \coqdocvar{c}. \coqdoctac{apply} \coqdocvar{H0}. \coqdoctac{auto}.\coqdoceol
\coqdocnoindent
\coqdocvar{step}. \coqdocvar{proto}.\coqdoceol
\coqdocindent{0.50em}
\coqdocvar{c}. \coqdocvar{c}. \coqdocvar{c}. \coqdoctac{simpl}. \coqdoctac{rewrite} \coqdocvar{unres}. \coqdoctac{reflexivity}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdoctac{eexists}.\coqdoceol
\coqdocnoindent
\coqdoctac{eapply} \coqref{TrueProtoSynth.multistep step}{\coqdocconstructor{multistep\_step}}. \coqdocvar{c}. \coqdoctac{unfold} \coqref{TrueProtoSynth.OneProtocolStep}{\coqdocdefinition{OneProtocolStep}}.\coqdoceol
\coqdocnoindent
\coqdocvar{proto}. \coqdocvar{step}. \coqdoctac{unfold} \coqref{TrueProtoSynth.proto handleNotMyTurnToSend}{\coqdocdefinition{proto\_handleNotMyTurnToSend}}. \coqdocvar{c}. \coqdocvar{c}. \coqdoctac{apply} \coqdocvar{H0}. \coqdoctac{auto}.\coqdoceol
\coqdocnoindent
\coqdocvar{step}. \coqdocvar{proto}. \coqdoctac{simpl}.\coqdoceol
\coqdocnoindent
\coqdocvar{step}. \coqdocvar{proto}. \coqdocvar{c}. \coqdocvar{c}. \coqdocvar{c}. \coqdoctac{reflexivity}.\coqdoceol
\coqdocnoindent
\coqdocvar{nono} \coqdocvar{H1}.\coqdoceol
\coqdocnoindent
\coqdockw{Qed}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Lemma} \coqdef{TrueProtoSynth.thm mkAtt and App have rev actions}{thm\_mkAtt\_and\_App\_have\_rev\_actions}{\coqdoclemma{thm\_mkAtt\_and\_App\_have\_rev\_actions}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{ppP} \coqdocvar{ppT} \coqdocvar{reqls}, \coqdoceol
\coqdocindent{0.50em}
\coqref{TrueProtoSynth.reverse}{\coqdocdefinition{reverse}}(\coqref{TrueProtoSynth.getAction}{\coqdocdefinition{getAction}}(\coqdocdefinition{mkAttesterState} \coqdocvariable{ppT})) \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqref{TrueProtoSynth.getAction}{\coqdocdefinition{getAction}}(\coqdocdefinition{mkAppraiserState} \coqdocvariable{ppP} \coqdocvariable{reqls}).\coqdoceol
\coqdocnoindent
\coqdockw{Proof}. \coqdoctac{intros}; \coqdoctac{auto}. \coqdockw{Qed}.\coqdoceol
\coqdocnoindent
\coqdockw{Hint Resolve} \coqdocvar{thm\_mkAtt\_and\_App\_have\_rev\_actions}.\coqdoceol
\coqdocnoindent
\coqdockw{Notation} \coqdef{TrueProtoSynth.::x 'xE2x9FxB1xE2x9FxB1' x}{"}{"}x ⟱⟱  x'" := (\coqref{TrueProtoSynth.DualMultiStep}{\coqdocinductive{DualMultiStep}} \coqdocvar{x} \coqdocvar{x'}) (\coqdoctac{at} \coqdockw{level} 35).\coqdoceol
\coqdocnoindent
\coqdockw{Hint Constructors} \coqref{TrueProtoSynth.DualMultiStep}{\coqdocinductive{DualMultiStep}}.\coqdoceol
\coqdocemptyline
\coqdocemptyline
\coqdocnoindent
\coqdockw{Theorem} \coqdef{TrueProtoSynth.thm proto1}{thm\_proto1}{\coqdoclemma{thm\_proto1}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{st} \coqdocvar{n}, \coqref{TrueProtoSynth.evalChoose}{\coqdocdefinition{evalChoose}} \coqdocconstructor{IsMyTurntoSend} \coqdocvariable{st} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{true}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{true}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdoceol
\coqdocindent{0.50em}
\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqref{TrueProtoSynth.OneProtocolStep}{\coqdocdefinition{OneProtocolStep}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqref{TrueProtoSynth.::x 'xE2x87x92' x}{\coqdocnotation{⇒}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqref{TrueProtoSynth.proto handleIsMyTurnToSend}{\coqdocdefinition{proto\_handleIsMyTurnToSend}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}}.\coqdoceol
\coqdocnoindent
\coqdockw{Proof}. \coqdoctac{intros}. \coqdoctac{constructor}; \coqdoctac{auto}.\coqdoceol
\coqdocnoindent
\coqdockw{Qed}.\coqdoceol
\coqdocnoindent
\coqdockw{Theorem} \coqdef{TrueProtoSynth.thm proto0}{thm\_proto0}{\coqdoclemma{thm\_proto0}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{st} \coqdocvar{n}, \coqref{TrueProtoSynth.evalChoose}{\coqdocdefinition{evalChoose}} \coqdocconstructor{IsMyTurntoSend} \coqdocvariable{st} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{false}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{false}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdoceol
\coqdocindent{0.50em}
\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqref{TrueProtoSynth.OneProtocolStep}{\coqdocdefinition{OneProtocolStep}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqref{TrueProtoSynth.::x 'xE2x87x92' x}{\coqdocnotation{⇒}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqref{TrueProtoSynth.proto handleNotMyTurnToSend}{\coqdocdefinition{proto\_handleNotMyTurnToSend}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}}.\coqdoceol
\coqdocnoindent
\coqdockw{Proof}. \coqdoctac{intros}. \coqdoctac{constructor}; \coqdoctac{auto}.\coqdoceol
\coqdocnoindent
\coqdockw{Qed}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Theorem} \coqdef{TrueProtoSynth.thm onlySendOrReceiveChangesNetwork}{thm\_onlySendOrReceiveChangesNetwork}{\coqdoclemma{thm\_onlySendOrReceiveChangesNetwork}} : \coqdockw{\ensuremath{\forall}} (\coqdocvar{stm} \coqdocvar{stm'}: \coqdocinductive{Statement}) (\coqdocvar{st} \coqdocvar{st'}: \coqdocinductive{State}) (\coqdocvar{n} \coqdocvar{n'} : \coqdocdefinition{Network}),\coqdoceol
\coqdocindent{0.50em}
\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvariable{stm}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqref{TrueProtoSynth.::x 'xE2x87x92' x}{\coqdocnotation{⇒}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvariable{stm'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{st'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{n'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdoceol
\coqdocindent{0.50em}
\coqdocvariable{n} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqdocvariable{n'} \coqexternalref{:type scope:x 'x5C/' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\lor}}}\coqdoceol
\coqdocindent{0.50em}
\coqexternalref{:type scope:x 'x5C/' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{(}}\coqexternalref{:type scope:'exists' x '..' x ',' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\exists}}} \coqdocvar{t} \coqdocvar{p1} \coqdocvar{p2}\coqexternalref{:type scope:'exists' x '..' x ',' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{,}} \coqref{TrueProtoSynth.headStatement}{\coqdocdefinition{headStatement}} \coqdocvariable{stm} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqdocconstructor{SendStatement} \coqdocvariable{t} \coqdocvariable{p1} \coqdocvariable{p2}\coqexternalref{:type scope:x 'x5C/' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{)}} \coqexternalref{:type scope:x 'x5C/' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\lor}}}\coqdoceol
\coqdocindent{0.50em}
\coqexternalref{:type scope:x 'x5C/' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{(}}\coqexternalref{:type scope:'exists' x '..' x ',' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\exists}}} \coqdocvar{vid}\coqexternalref{:type scope:'exists' x '..' x ',' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{,}} \coqref{TrueProtoSynth.headStatement}{\coqdocdefinition{headStatement}} \coqdocvariable{stm} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqdocconstructor{ReceiveStatement} \coqdocvariable{vid}\coqexternalref{:type scope:x 'x5C/' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{)}}\coqdoceol
\coqdocindent{0.50em}
.\coqdoceol
\coqdocindent{0.50em}
\coqdockw{Proof}. \coqdoctac{intro}; \coqdoctac{induction} \coqdocvar{stm}; \coqdoctac{intros}; \coqdoctac{try} (\coqdoctac{right}; \coqdoctac{left}; \coqdoctac{\ensuremath{\exists}} \coqdocvar{t}; \coqdoctac{\ensuremath{\exists}} \coqdocvar{p}; \coqdoctac{\ensuremath{\exists}} \coqdocvar{p0}; \coqdoctac{reflexivity}) ||\coqdoceol
\coqdocindent{0.50em}
(\coqdoctac{try} (\coqdoctac{left}; \coqdoctac{inversion} \coqdocvar{H}; \coqdoctac{subst}; \coqdoctac{reflexivity})).\coqdoceol
\coqdocindent{0.50em}
\coqdoctac{inversion} \coqdocvar{H}; \coqdoctac{subst}.\coqdoceol
\coqdocindent{0.50em}
\coqdoctac{right}. \coqdoctac{right}; \coqdoctac{\ensuremath{\exists}} \coqdocvar{v}; \coqdoctac{auto}.\coqdoceol
\coqdocindent{0.50em}
\coqdoctac{left}; \coqdoctac{reflexivity}.\coqdoceol
\coqdocindent{0.50em}
\coqdoctac{right}; \coqdoctac{right}; \coqdoctac{\ensuremath{\exists}} \coqdocvar{v}; \coqdoctac{auto}.\coqdoceol
\coqdocindent{0.50em}
\coqdoctac{inversion} \coqdocvar{H}; \coqdoctac{subst}.\coqdoceol
\coqdocindent{0.50em}
\coqdoctac{eauto}.\coqdoceol
\coqdocindent{0.50em}
\coqdoctac{eauto}.\coqdoceol
\coqdocindent{0.50em}
\coqdoctac{eauto}.\coqdoceol
\coqdocindent{0.50em}
\coqdoctac{eauto}.\coqdoceol
\coqdocindent{0.50em}
\coqdockw{Qed}.\coqdoceol
\coqdocemptyline
\coqdocemptyline
\coqdocemptyline
\coqdocnoindent
\coqdockw{Fixpoint} \coqdef{TrueProtoSynth.mostRecentFromMe}{mostRecentFromMe}{\coqdocdefinition{mostRecentFromMe}} (\coqdocvar{st} : \coqdocinductive{State}) (\coqdocvar{n} : \coqdocdefinition{Network}) : \coqexternalref{bool}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocinductive{bool}} :=\coqdoceol
\coqdocnoindent
\coqdockw{match} \coqdocvariable{n} \coqdockw{with}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqexternalref{nil}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{nil}} \ensuremath{\Rightarrow} \coqexternalref{false}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{false}}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqexternalref{cons}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{cons}} \coqdocvar{m} \coqexternalref{nil}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{nil}} \ensuremath{\Rightarrow} \coqdockw{match} \coqdocvar{m} \coqdockw{with}\coqdoceol
\coqdocindent{2.00em}
\ensuremath{|} \coqdocconstructor{networkMessage} \coqdocvar{f} \coqdocvar{\_} \coqdocvar{\_} \ensuremath{\Rightarrow} \coqdockw{if} (\coqdoclemma{eq\_dec\_Participant} \coqdocvar{f} (\coqref{TrueProtoSynth.getMe}{\coqdocdefinition{getMe}} \coqdocvariable{st})) \coqdockw{then} \coqexternalref{true}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{true}} \coqdockw{else} \coqexternalref{false}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{false}}\coqdoceol
\coqdocindent{2.00em}
\coqdockw{end}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqexternalref{cons}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{cons}} \coqdocvar{\_} \coqdocvar{ls} \ensuremath{\Rightarrow} \coqref{TrueProtoSynth.mostRecentFromMe}{\coqdocdefinition{mostRecentFromMe}} \coqdocvariable{st} \coqdocvar{ls}\coqdoceol
\coqdocnoindent
\coqdockw{end}.\coqdoceol
\coqdocemptyline
\coqdocemptyline
\coqdocindent{0.50em}
\coqdockw{Theorem} \coqdef{TrueProtoSynth.thm evalSendTurn}{thm\_evalSendTurn}{\coqdoclemma{thm\_evalSendTurn}} : \coqdockw{\ensuremath{\forall}}  \coqdocvar{st} \coqdocvar{n}, \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{(}}\coqref{TrueProtoSynth.evalChoose}{\coqdocdefinition{evalChoose}} \coqdocconstructor{IsMyTurntoSend} \coqdocvariable{st}\coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{)}} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{true}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{true}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqref{TrueProtoSynth.OneProtocolStep}{\coqdocdefinition{OneProtocolStep}} \coqdocvariable{st} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqref{TrueProtoSynth.::x 'xE2x87x92' x}{\coqdocnotation{⇒}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqref{TrueProtoSynth.proto handleIsMyTurnToSend}{\coqdocdefinition{proto\_handleIsMyTurnToSend}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}}.\coqdoceol
\coqdocnoindent
\coqdockw{Proof}.\coqdoceol
\coqdocnoindent
\coqdoctac{intros}; \coqdoctac{unfold} \coqref{TrueProtoSynth.OneProtocolStep}{\coqdocdefinition{OneProtocolStep}}; \coqdoctac{constructor}; \coqdoctac{assumption}.\coqdoceol
\coqdocnoindent
\coqdockw{Qed}.\coqdoceol
\coqdocnoindent
\coqdockw{Hint Resolve} \coqdocvar{thm\_evalSendTurn}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Theorem} \coqdef{TrueProtoSynth.thm evalReceiveTurn}{thm\_evalReceiveTurn}{\coqdoclemma{thm\_evalReceiveTurn}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{st} \coqdocvar{n}, \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{(}}\coqref{TrueProtoSynth.evalChoose}{\coqdocdefinition{evalChoose}} \coqdocconstructor{IsMyTurntoSend} \coqdocvariable{st}\coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{)}} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{false}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{false}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqref{TrueProtoSynth.OneProtocolStep}{\coqdocdefinition{OneProtocolStep}} \coqdocvariable{st} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqref{TrueProtoSynth.::x 'xE2x87x92' x}{\coqdocnotation{⇒}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqref{TrueProtoSynth.proto handleNotMyTurnToSend}{\coqdocdefinition{proto\_handleNotMyTurnToSend}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}}.\coqdoceol
\coqdocnoindent
\coqdockw{Proof}. \coqdoctac{intros}; \coqdoctac{unfold} \coqref{TrueProtoSynth.OneProtocolStep}{\coqdocdefinition{OneProtocolStep}}; \coqdoctac{constructor}; \coqdoctac{assumption}.\coqdoceol
\coqdocnoindent
\coqdockw{Qed}.\coqdoceol
\coqdocnoindent
\coqdockw{Hint Resolve} \coqdocvar{thm\_evalReceiveTurn}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Theorem} \coqdef{TrueProtoSynth.thm eval existsNextDesire}{thm\_eval\_existsNextDesire}{\coqdoclemma{thm\_eval\_existsNextDesire}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{st} \coqdocvar{n}, \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{(}}\coqref{TrueProtoSynth.evalChoose}{\coqdocdefinition{evalChoose}} \coqdocconstructor{ExistsNextDesire} \coqdocvariable{st}\coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{)}} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{true}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{true}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdoceol
\coqdocnoindent
\coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{(}}\coqref{TrueProtoSynth.evalChoose}{\coqdocdefinition{evalChoose}} \coqdocconstructor{IsAllGood} \coqdocvariable{st}\coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{)}} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{true}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{true}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}}  \coqdoceol
\coqdocnoindent
\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqref{TrueProtoSynth.proto handleCantSend}{\coqdocdefinition{proto\_handleCantSend}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqref{TrueProtoSynth.::x 'xE2x87x92' x}{\coqdocnotation{⇒}}\coqdoceol
\coqdocindent{0.50em}
\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqref{TrueProtoSynth.proto handleExistsNextDesire}{\coqdocdefinition{proto\_handleExistsNextDesire}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}}\coqdoceol
\coqdocnoindent
.\coqdoceol
\coqdocnoindent
\coqdockw{Proof}. \coqdoctac{intros}; \coqdoctac{unfold} \coqref{TrueProtoSynth.proto handleIsMyTurnToSend}{\coqdocdefinition{proto\_handleIsMyTurnToSend}}. \coqdocvar{cca}.\coqdoceol
\coqdocnoindent
\coqdockw{Qed}.\coqdoceol
\coqdocnoindent
\coqdockw{Hint Resolve} \coqdocvar{thm\_eval\_existsNextDesire}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Print} \coqref{TrueProtoSynth.OneProtocolStep}{\coqdocdefinition{OneProtocolStep}}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Theorem} \coqdef{TrueProtoSynth.thm eval NoNextDesire}{thm\_eval\_NoNextDesire}{\coqdoclemma{thm\_eval\_NoNextDesire}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{st} \coqdocvar{n}, \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{(}}\coqref{TrueProtoSynth.evalChoose}{\coqdocdefinition{evalChoose}} \coqdocconstructor{ExistsNextDesire} \coqdocvariable{st}\coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{)}} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{false}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{false}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqref{TrueProtoSynth.proto handleCantSend}{\coqdocdefinition{proto\_handleCantSend}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqref{TrueProtoSynth.::x 'xE2x87x92' x}{\coqdocnotation{⇒}} \coqdoceol
\coqdocindent{0.50em}
\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqref{TrueProtoSynth.proto handleNoNextDesire}{\coqdocdefinition{proto\_handleNoNextDesire}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}}\coqdoceol
\coqdocnoindent
.\coqdoceol
\coqdocnoindent
\coqdockw{Proof}. \coqdoctac{intros}; \coqdoctac{unfold} \coqref{TrueProtoSynth.proto handleIsMyTurnToSend}{\coqdocdefinition{proto\_handleIsMyTurnToSend}}; \coqdoctac{constructor}; \coqdoctac{assumption}.\coqdoceol
\coqdocnoindent
\coqdockw{Qed}.\coqdoceol
\coqdocnoindent
\coqdockw{Hint Resolve} \coqdocvar{thm\_eval\_NoNextDesire}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Theorem} \coqdef{TrueProtoSynth.thm sendTurnHelper}{thm\_sendTurnHelper}{\coqdoclemma{thm\_sendTurnHelper}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{st}, \coqref{TrueProtoSynth.isMyTurn}{\coqdocdefinition{isMyTurn}} \coqdocvariable{st} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{true}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{true}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqref{TrueProtoSynth.evalChoose}{\coqdocdefinition{evalChoose}} \coqdocconstructor{IsMyTurntoSend} \coqdocvariable{st} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{true}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{true}}.\coqdoceol
\coqdocnoindent
\coqdockw{Proof}.\coqdoceol
\coqdocnoindent
\coqdoctac{intros}. \coqdoctac{destruct} \coqdocvar{st}. \coqdoctac{destruct} \coqdocvar{p}. \coqdoctac{auto}. \coqdockw{Qed}.\coqdoceol
\coqdocnoindent
\coqdockw{Hint Resolve} \coqdocvar{thm\_sendTurnHelper}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Theorem} \coqdef{TrueProtoSynth.thm varSubstConst}{thm\_varSubstConst}{\coqdoclemma{thm\_varSubstConst}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{st} \coqdocvar{c}, \coqref{TrueProtoSynth.varSubst}{\coqdocdefinition{varSubst}} (\coqdocconstructor{const} \coqdocvariable{c}) \coqdocvariable{st} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} \coqdocvariable{c}.\coqdoceol
\coqdocnoindent
\coqdockw{Proof}. \coqdoctac{intros}. \coqdoctac{destruct} \coqdocvar{st}. \coqdoctac{destruct} \coqdocvar{v}. \coqdoctac{auto}. \coqdoctac{auto}.\coqdoceol
\coqdocnoindent
\coqdockw{Qed}.\coqdoceol
\coqdocnoindent
\coqdockw{Hint Resolve} \coqdocvar{thm\_varSubstConst}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Hint Unfold} \coqref{TrueProtoSynth.OneProtocolStep}{\coqdocdefinition{OneProtocolStep}}.\coqdoceol
\coqdocnoindent
\coqdockw{Hint Unfold} \coqref{TrueProtoSynth.proto handleCanSend}{\coqdocdefinition{proto\_handleCanSend}}.\coqdoceol
\coqdocnoindent
\coqdockw{Hint Unfold} \coqref{TrueProtoSynth.proto handleCantSend}{\coqdocdefinition{proto\_handleCantSend}}.\coqdoceol
\coqdocnoindent
\coqdockw{Hint Unfold} \coqref{TrueProtoSynth.proto handleNoNextDesire}{\coqdocdefinition{proto\_handleNoNextDesire}}.\coqdoceol
\coqdocnoindent
\coqdockw{Hint Unfold} \coqref{TrueProtoSynth.proto handleIsMyTurnToSend}{\coqdocdefinition{proto\_handleIsMyTurnToSend}}.\coqdoceol
\coqdocnoindent
\coqdockw{Hint Unfold} \coqref{TrueProtoSynth.proto handleNotMyTurnToSend}{\coqdocdefinition{proto\_handleNotMyTurnToSend}}.\coqdoceol
\coqdocnoindent
\coqdockw{Hint Unfold} \coqref{TrueProtoSynth.proto handleExistsNextDesire}{\coqdocdefinition{proto\_handleExistsNextDesire}}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Theorem} \coqdef{TrueProtoSynth.thm sendOnNetworkAppends}{thm\_sendOnNetworkAppends}{\coqdoclemma{thm\_sendOnNetworkAppends}} : \coqdockw{\ensuremath{\forall}}  \coqdocvar{f} \coqdocvar{t} \coqdocvar{c} \coqdocvar{n}, \coqexternalref{length}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List}{\coqdocabbreviation{length}} (\coqref{TrueProtoSynth.sendOnNetwork}{\coqdocdefinition{sendOnNetwork}} \coqdocvariable{f} \coqdocvariable{t} \coqdocvariable{c} \coqdocvariable{n}) \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{length}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List}{\coqdocabbreviation{length}} \coqdocvariable{n} \coqexternalref{:nat scope:x '+' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Peano}{\coqdocnotation{+}} 1.\coqdoceol
\coqdocnoindent
\coqdockw{Proof}. \coqdoctac{intros}. \coqdoctac{induction} \coqdocvar{n}.\coqdoceol
\coqdocnoindent
\coqdoctac{auto}.\coqdoceol
\coqdocnoindent
\coqdoctac{simpl}. \coqdoctac{auto}.\coqdoceol
\coqdocnoindent
\coqdockw{Qed}.\coqdoceol
\coqdocnoindent
\coqdockw{Hint Resolve} \coqdocvar{thm\_sendOnNetworkAppends}.\coqdoceol
\coqdocnoindent
\coqdockw{Require} \coqdockw{Import} \coqexternalref{}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.omega.Omega}{\coqdoclibrary{Omega}}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Theorem} \coqdef{TrueProtoSynth.thm receiveWhenStop}{thm\_receiveWhenStop}{\coqdoclemma{thm\_receiveWhenStop}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{n} \coqdocvar{vid} \coqdocvar{v} \coqdocvar{p} \coqdocvar{n'},\coqdoceol
\coqdocnoindent
\coqref{TrueProtoSynth.receiveN}{\coqdocdefinition{receiveN}} \coqdocvariable{n} (\coqref{TrueProtoSynth.getMe}{\coqdocdefinition{getMe}} (\coqdocconstructor{state} \coqdocvariable{v} \coqdocvariable{p})) \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocconstructor{constStop}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}}\coqdoceol
\coqdocnoindent
\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocconstructor{ReceiveStatement} \coqdocvariable{vid}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocconstructor{state} \coqdocvariable{v} \coqdocvariable{p}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{),}} \coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqref{TrueProtoSynth.::x 'xE2x87x92' x}{\coqdocnotation{⇒}} \coqdoceol
\coqdocnoindent
\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocconstructor{StopStatement}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqref{TrueProtoSynth.assign}{\coqdocdefinition{assign}} \coqdocvariable{vid} \coqdocconstructor{constStop} (\coqdocconstructor{state} \coqdocvariable{v} \coqdocvariable{p})\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}}.\coqdoceol
\coqdocnoindent
\coqdockw{Proof}. \coqdoctac{intros}. \coqdoctac{eapply} \coqref{TrueProtoSynth.E ReceiveStop}{\coqdocconstructor{E\_ReceiveStop}}. \coqdoctac{assumption}.\coqdoceol
\coqdocnoindent
\coqdockw{Qed}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Theorem} \coqdef{TrueProtoSynth.thm oneStepProtoStopsWhenTold}{thm\_oneStepProtoStopsWhenTold}{\coqdoclemma{thm\_oneStepProtoStopsWhenTold}} :\coqdockw{\ensuremath{\forall}} \coqdocvar{v} \coqdocvar{p} \coqdocvar{n} \coqdocvar{n'}, \coqref{TrueProtoSynth.evalChoose}{\coqdocdefinition{evalChoose}} \coqdocconstructor{IsMyTurntoSend} (\coqdocconstructor{state} \coqdocvariable{v} \coqdocvariable{p}) \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{false}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{false}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdoceol
\coqdocnoindent
\coqref{TrueProtoSynth.receiveN}{\coqdocdefinition{receiveN}} \coqdocvariable{n} (\coqref{TrueProtoSynth.getMe}{\coqdocdefinition{getMe}} (\coqdocconstructor{state} \coqdocvariable{v} \coqdocvariable{p})) \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocconstructor{constStop}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdoceol
\coqdocnoindent
\coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{(}}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqref{TrueProtoSynth.OneProtocolStep}{\coqdocdefinition{OneProtocolStep}} (\coqdocconstructor{state} \coqdocvariable{v} \coqdocvariable{p}) \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocconstructor{state} \coqdocvariable{v} \coqdocvariable{p}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{),}} \coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqref{TrueProtoSynth.::x 'xE2x87x92*' x}{\coqdocnotation{⇒*}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocconstructor{StopStatement}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqref{TrueProtoSynth.assign}{\coqdocdefinition{assign}} \coqdocconstructor{receivedMESSAGE} \coqdocconstructor{constStop} (\coqdocconstructor{state} \coqdocvariable{v} \coqdocvariable{p})\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}}\coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{)}} .\coqdoceol
\coqdocnoindent
\coqdockw{Proof}. \coqdoctac{intros}.\coqdoceol
\coqdocnoindent
\coqdoctac{eapply} \coqref{TrueProtoSynth.multistep step}{\coqdocconstructor{multistep\_step}}. \coqdoctac{constructor}. \coqdoctac{apply} \coqref{TrueProtoSynth.E ChooseFalse}{\coqdocconstructor{E\_ChooseFalse}}. \coqdoctac{auto}.\coqdoceol
\coqdocnoindent
\coqdoctac{constructor}. \coqdoctac{constructor}. \coqdoctac{apply} \coqref{TrueProtoSynth.thm receiveWhenStop}{\coqdoclemma{thm\_receiveWhenStop}}. \coqdoctac{auto}.\coqdoceol
\coqdocnoindent
\coqdockw{Qed}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Definition} \coqdef{TrueProtoSynth.getPrivacy}{getPrivacy}{\coqdocdefinition{getPrivacy}} (\coqdocvar{st} : \coqdocinductive{State}) : \coqdocinductive{PrivacyPolicy} :=\coqdoceol
\coqdocnoindent
\coqdockw{match} \coqdocvariable{st} \coqdockw{with}\coqdoceol
\coqdocindent{0.50em}
\ensuremath{|} \coqdocconstructor{state} \coqdocvar{\_} \coqdocvar{ps} \ensuremath{\Rightarrow} \coqdockw{match} \coqdocvar{ps} \coqdockw{with}\coqdoceol
\coqdocindent{2.00em}
\ensuremath{|} \coqdocconstructor{proState} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{pp} \coqdocvar{\_} \coqdocvar{\_} \coqdocvar{\_} \ensuremath{\Rightarrow} \coqdocvar{pp}\coqdoceol
\coqdocnoindent
\coqdockw{end}\coqdoceol
\coqdocnoindent
\coqdockw{end}.\coqdoceol
\coqdocnoindent
\coqdockw{SearchAbout} \coqdocinductive{PrivacyPolicy}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Theorem} \coqdef{TrueProtoSynth.thm isRemovedFromPrivacyhandleST}{thm\_isRemovedFromPrivacyhandleST}{\coqdoclemma{thm\_isRemovedFromPrivacyhandleST}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{st} \coqdocvar{d}, \coqdoceol
\coqdocnoindent
\coqref{TrueProtoSynth.findandMeasureItem}{\coqdocdefinition{findandMeasureItem}} (\coqref{TrueProtoSynth.getPrivacy}{\coqdocdefinition{getPrivacy}} (\coqref{TrueProtoSynth.handleRequestST}{\coqdocdefinition{handleRequestST}} \coqdocvariable{st} \coqdocvariable{d})) \coqdocvariable{d} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{None}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{None}}.\coqdoceol
\coqdocnoindent
\coqdockw{Proof}. \coqdoctac{intros}. \coqdoctac{destruct} \coqdocvar{st}. \coqdoctac{simpl}. \coqdoctac{destruct} \coqdocvar{p}.\coqdoceol
\coqdocnoindent
\coqdoctac{destruct} \coqdocvar{p0}. \coqdoctac{simpl}. \coqdoctac{auto}.\coqdoceol
\coqdocnoindent
\coqdoctac{simpl}.\coqdoceol
\coqdocnoindent
\coqdoctac{destruct} (\coqdoclemma{eq\_dec\_Description} \coqdocvar{d0} \coqdocvar{d}). \coqdoctac{destruct} \coqdocvar{r1}; \coqdoctac{simpl}; \coqdoctac{auto}.\coqdoceol
\coqdocnoindent
\coqdoctac{destruct} (\coqref{TrueProtoSynth.findandMeasureItem}{\coqdocdefinition{findandMeasureItem}} \coqdocvar{p0} \coqdocvar{d}). \coqdoctac{destruct} \coqdocvar{p1}. \coqdoctac{simpl}.\coqdoceol
\coqdocnoindent
\coqdoctac{destruct} \coqdocvar{r1};\coqdoceol
\coqdocnoindent
\coqdoctac{destruct} (\coqdoclemma{eq\_dec\_Description} \coqdocvar{d0} \coqdocvar{d}); \coqdocvar{contradiction} || \coqdoctac{auto}.\coqdoceol
\coqdocnoindent
\coqdoctac{simpl}.\coqdoceol
\coqdocnoindent
\coqdoctac{destruct} \coqdocvar{r1};\coqdoceol
\coqdocnoindent
\coqdoctac{destruct} (\coqdoclemma{eq\_dec\_Description} \coqdocvar{d0} \coqdocvar{d}); \coqdocvar{contradiction} || \coqdoctac{auto}.\coqdoceol
\coqdocnoindent
\coqdockw{Qed}.\coqdoceol
\coqdocnoindent
\coqdockw{Hint Resolve} \coqdocvar{thm\_isRemovedFromPrivacyhandleST}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Theorem} \coqdef{TrueProtoSynth.thm isRemovedFromPrivacy}{thm\_isRemovedFromPrivacy}{\coqdoclemma{thm\_isRemovedFromPrivacy}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{st} \coqdocvar{st'} \coqdocvar{n} \coqdocvar{t} \coqdocvar{d}, \coqdoceol
\coqdocindent{1.00em}
\coqref{TrueProtoSynth.varSubst}{\coqdocdefinition{varSubst}} \coqdocvariable{t} \coqdocvariable{st} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{Some}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{Some}} (\coqdocconstructor{constRequest} \coqdocvariable{d}) \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdoceol
\coqdocindent{1.00em}
\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocconstructor{EffectStatement} (\coqdocconstructor{effect\_ReducePrivacyWithRequest} \coqdocvariable{t})\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{st}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqref{TrueProtoSynth.::x 'xE2x87x92' x}{\coqdocnotation{⇒}} \coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocconstructor{Skip}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{st'}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{,}}\coqdocvariable{n}\coqexternalref{:core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocnotation{)}} \coqexternalref{:type scope:x '->' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdoceol
\coqdocindent{1.00em}
\coqref{TrueProtoSynth.findandMeasureItem}{\coqdocdefinition{findandMeasureItem}} (\coqref{TrueProtoSynth.getPrivacy}{\coqdocdefinition{getPrivacy}} \coqdocvariable{st'}) \coqdocvariable{d} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{None}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{None}}.\coqdoceol
\coqdocnoindent
\coqdockw{Proof}. \coqdoctac{intros}. \coqdoctac{inversion} \coqdocvar{H0}; \coqdoctac{subst}.\coqdoceol
\coqdocnoindent
\coqdoctac{simpl} \coqdoctac{in} \coqdocvar{H2}. \coqdoctac{rewrite} \coqdocvar{H} \coqdoctac{in} \coqdocvar{H2}. \coqdoctac{inversion} \coqdocvar{H2}. \coqdoctac{subst}.\coqdoceol
\coqdocnoindent
\coqdockw{Theorem} \coqdef{TrueProtoSynth.x}{x}{\coqdoclemma{x}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{d} \coqdocvar{st}, \coqref{TrueProtoSynth.findandMeasureItem}{\coqdocdefinition{findandMeasureItem}} (\coqref{TrueProtoSynth.getPrivacy}{\coqdocdefinition{getPrivacy}} (\coqref{TrueProtoSynth.rm f Privacy w RequestST}{\coqdocdefinition{rm\_f\_Privacy\_w\_RequestST}} \coqdocvariable{d} \coqdocvariable{st})) \coqdocvariable{d} \coqexternalref{:type scope:x '=' x}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic}{\coqdocnotation{=}} \coqexternalref{None}{http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes}{\coqdocconstructor{None}}.\coqdoceol
\coqdocnoindent
\coqdoctac{intros}. \coqdoctac{destruct} \coqdocvar{st}. \coqdoctac{simpl}. \coqdoctac{destruct} \coqdocvar{p}. \coqdoctac{simpl}. \coqdoctac{auto}. \coqdockw{Qed}. \coqdoctac{apply} \coqref{TrueProtoSynth.x}{\coqdoclemma{x}}.\coqdoceol
\coqdocnoindent
\coqdockw{Qed}.\coqdoceol
\end{coqdoccode}
\end{document}
